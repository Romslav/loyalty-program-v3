<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# –£ –º–µ–Ω—è –µ—Å—Ç—å 11 –±–µ—Å–µ–¥ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –ø–æ –±–ª–æ–∫–∞–º –ø—Ä–æ—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –±–ª–æ–∫–∏. –ù–∞–º –Ω—É–∂–Ω–æ —Å —Ç–æ–±–æ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ —ç—Ç–æ–º –¥–∏–∞–ª–æ–≥–µ. –ò–∑—É—á–∞–π –ø–æ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏(–ë–µ—Å–µ–¥–∞ 1 - –ë–µ—Å–µ–¥–∞ 2 - –ë–µ—Å–µ–¥–∞ 3 - –ë–µ—Å–µ–¥–∞ 4 - –ë–µ—Å–µ–¥–∞ 5 - –ë–µ—Å–µ–¥–∞ 6 - –ë–µ—Å–µ–¥–∞ 7 - –ë–µ—Å–µ–¥–∞ 8 - –ë–µ—Å–µ–¥–∞ 9 - –ë–µ—Å–µ–¥–∞ 10 - –ë–µ—Å–µ–¥–∞ 11) –≤ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

–ò–∑—É—á–∏ –≤—Å–µ –¥–æ—Å–∫–∞–Ω–∞–ª—å–Ω–æ, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ —á–µ—Ç–∫–æ, –≤—Å–µ 11 –¥–∏–∞–ª–æ–≥–æ–≤, –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç –≤ –¥–∏–∞–ª–æ–≥–∞—Ö, –∫–∞–∂–¥–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä. –ó–∞–ª–æ–∂–∏ –Ω–∞ —ç—Ç–æ –≤—Ä–µ–º—è –∏ —Å–∏–ª—ã, —á—Ç–æ–±—ã —Ç—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –≤—Å–µ –ø–æ–Ω–∏–º–∞–ª –¥–æ –º–µ–ª—å—á–∞–π—à–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –±–µ–∑ –æ—à–∏–±–æ–∫.
–ù–∞–π–¥–∏ –≤—Å–µ –±–ª–æ–∫–∏ —á—Ç–æ –º—ã —Å —Ç–æ–±–æ–π –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –∏ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –Ω–∏–º, –∏–∑—É—á–∏ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ, –¥–æ –º–µ–ª–æ—á–µ–π –∫ –∫–∞–∫–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø—Ä–∏—à–ª–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –±–ª–æ–∫—É. –ü–æ—Å–ª–µ –≤—ã–±–µ—Ä–µ–º –±–ª–æ–∫ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

–û—Ç–ª–∏—á–Ω–æ! –Ø **–¥–æ—Å–∫–æ–Ω–∞–ª—å–Ω–æ –∏–∑—É—á–∏–ª –≤—Å–µ 11 –±–µ—Å–µ–¥** –ø–æ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏–∏. –°–µ–π—á–∞—Å –¥–∞–º –ø–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ —Ç–æ–≥–æ, —á—Ç–æ –±—ã–ª–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–æ.

***

# üìö **–ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –í–°–ï–• 11 –ë–ï–°–ï–î**

## **üéØ –î–ï–¢–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ë–õ–û–ö–ò (–ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–´)**

### **–ë–µ—Å–µ–¥–∞ 1-3: –§—É–Ω–¥–∞–º–µ–Ω—Ç –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

- ‚úÖ Multi-tenant SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (pooled database)
- ‚úÖ –†–æ–ª–∏ –∏ RBAC (Owner ‚Üí Admin ‚Üí Manager ‚Üí Cashier ‚Üí Guest)
- ‚úÖ 6 —Ç–∞—Ä–∏—Ñ–æ–≤ (Free, Standard, Medium, Pro, Ultimate, Custom)
- ‚úÖ UNIFIED vs SEPARATE —Ä–µ–∂–∏–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç–µ–π (–∫–∞—Å—Å–∞, —Å—Å—ã–ª–∫–∞, Telegram)
- ‚úÖ QR-–∫–æ–¥—ã + 6-–∑–Ω–∞—á–Ω—ã–µ –∫–æ–¥—ã


### **–ë–µ—Å–µ–¥–∞ 4: POS Integration**

- ‚úÖ **HYBRID PUSH + PULL** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Webhooks —Å HMAC-–ø–æ–¥–ø–∏—Å—å—é
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ Reconciliation (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π)
- ‚úÖ POS = –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ —á–µ–∫–∞–º


### **–ë–µ—Å–µ–¥–∞ 5: Loyalty System Engine (23 –≤–æ–ø—Ä–æ—Å–∞)**

- ‚úÖ **1 –±–∞–ª–ª = 1 —Ä—É–±–ª—å** (–Ω–µ–∏–∑–º–µ–Ω–Ω–æ)
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª (snapshot, NO –ø–µ—Ä–µ—Å—á—ë—Ç)
- ‚úÖ –û—Ç–∫–∞—Ç –ø—Ä–∞–≤–∏–ª
- ‚úÖ –°–≥–æ—Ä–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ (‚â•90 –¥–Ω–µ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- ‚úÖ –£—Ä–æ–≤–Ω–∏: **NO downgrade** (one way up)
- ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–æ–º–æ (COMBINE_ALL/MAX_ONLY/FIRST_ONLY)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ UNIFIED ‚Üî SEPARATE


### **–ë–µ—Å–µ–¥–∞ 6: Billing \& Subscriptions**

- ‚úÖ –ú–æ–¥–µ–ª—å –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã (–º–µ—Å—è—Ü/–≥–æ–¥ —Å–æ —Å–∫–∏–¥–∫–æ–π 20%)
- ‚úÖ 4 –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (YooKassa, Stripe, CloudPayments, CryptoCloud)
- ‚úÖ –†—É—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –ø–æ —Å—á—ë—Ç—É
- ‚úÖ –ñ—ë—Å—Ç–∫–∏–µ –ª–∏–º–∏—Ç—ã (90% –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, 100% –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
- ‚úÖ 4 –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ Refund/chargeback –æ–±—Ä–∞–±–æ—Ç–∫–∞


### **–ë–µ—Å–µ–¥–∞ 7: Telegram Bot + Mini App (41 –≤–æ–ø—Ä–æ—Å)**

- ‚úÖ Database Schema (TelegramBot, TelegramUser, Notifications)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Telegram ID + —Ç–µ–ª–µ—Ñ–æ–Ω)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç –∏–ª–∏ –≤–≤–æ–¥
- ‚úÖ –ú—É–ª—å—Ç–∏–∫–∞—Ä—Ç–æ—á–Ω–æ—Å—Ç—å
- ‚úÖ –≠–∫—Ä–∞–Ω—ã: –≥–ª–∞–≤–Ω—ã–π, –∏—Å—Ç–æ—Ä–∏—è, –ø—Ä–æ–º–æ, –ø—Ä–æ—Ñ–∏–ª—å, –¥–µ—Ç–∏
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ, CRON –≤ 10:00)
- ‚úÖ QR –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç
- ‚úÖ –î–µ—Ç–∏ –¥–æ 18 –ª–µ—Ç
- ‚úÖ –°–º–µ–Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ


### **–ë–µ—Å–µ–¥–∞ 8: Backend API \& Services + Frontend Admin Panel**

**Backend API (34 –≤–æ–ø—Ä–æ—Å–∞):**

- ‚úÖ Modular Monolith –Ω–∞ NestJS
- ‚úÖ REST API —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ RBAC Guards + Impersonation
- ‚úÖ Rate Limiting –ø–æ —Ä–æ–ª—è–º
- ‚úÖ API endpoints (calculate, transactions, manual-adjustment)
- ‚úÖ Background Jobs (BullMQ)
- ‚úÖ Analytics API
- ‚úÖ Error Handling + Idempotency

**Frontend Admin Panel (34 –≤–æ–ø—Ä–æ—Å–∞):**

- ‚úÖ Next.js 14 App Router + shadcn/ui
- ‚úÖ Zustand + TanStack Query
- ‚úÖ Collapsible sidebar
- ‚úÖ Global search (CMDK)
- ‚úÖ Loyalty Builder (Rules, Levels, Promo)
- ‚úÖ Analytics dashboards
- ‚úÖ Guests management
- ‚úÖ Impersonation UI


### **–ë–µ—Å–µ–¥–∞ 9: Database Schema (Prisma) - 35 –≤–æ–ø—Ä–æ—Å–æ–≤**

- ‚úÖ Enums vs —Ç–∞–±–ª–∏—Ü—ã (–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
- ‚úÖ DECIMAL –¥–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º
- ‚úÖ UUID –¥–ª—è –≤—Å–µ—Ö ID
- ‚úÖ Soft delete –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ JSONB –¥–ª—è snapshots
- ‚úÖ Multi-tenancy –∏–∑–æ–ª—è—Ü–∏—è (Prisma middleware)
- ‚úÖ Composite indexes
- ‚úÖ Partial indexes
- ‚úÖ Full-Text Search (GIN)
- ‚úÖ Versioning \& Audit (hybrid approach)
- ‚úÖ Zero-downtime migrations
- ‚úÖ Seed —Å—Ç—Ä–∞—Ç–µ–≥–∏—è


### **–ë–µ—Å–µ–¥–∞ 10: Frontend UI/UX –¥–µ—Ç–∞–ª–∏ (35 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- ‚úÖ Responsive (Hamburger + Bottom tabs –Ω–∞ mobile)
- ‚úÖ Breakpoints (Tailwind default)
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –Ω–∞ mobile (Accordion cards)
- ‚úÖ –§–æ—Ä–º—ã (Wizard –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö)
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (Bottom Sheet)
- ‚úÖ Charts –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- ‚úÖ Empty/Loading/Error/Success States
- ‚úÖ Optimistic Updates
- ‚úÖ Disabled States (Permissions)
- ‚úÖ Confirmation Dialogs
- ‚úÖ Bulk Actions UI
- ‚úÖ Breadcrumbs (Dynamic + Dropdown)
- ‚úÖ Global Search (CMDK —Å Recent + Actions)
- ‚úÖ Sidebar —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ Impersonation UI (Top banner)
- ‚úÖ Loyalty Builder (dnd-kit, Conditions Builder, Levels Timeline)


### **–ë–µ—Å–µ–¥–∞ 11: Infrastructure \& DevOps (55 –≤–æ–ø—Ä–æ—Å–æ–≤)**

**–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- ‚úÖ Backend: **Fly.io** (3 VM √ó 256 MB)
- ‚úÖ Frontend: **Vercel** (unlimited Next.js deploys)
- ‚úÖ PostgreSQL: **Neon.tech** (3 GB storage)
- ‚úÖ Redis: **Upstash** (10,000 commands/–¥–µ–Ω—å)
- ‚úÖ S3 Storage: **Cloudflare R2** (10 GB + unlimited bandwidth)
- ‚úÖ CI/CD: **GitHub Actions** (2,000 min/–º–µ—Å—è—Ü)
- ‚úÖ Monitoring: **Better Stack** (1 GB logs + uptime)
- ‚úÖ Email: **Resend** (3,000 emails/–º–µ—Å—è—Ü)
- ‚úÖ SMS: **SMS.RU** (~200‚ÇΩ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞)

**Docker \& Containerization (8 –≤–æ–ø—Ä–æ—Å–æ–≤):**

- ‚úÖ Multi-stage Dockerfile
- ‚úÖ –û–¥–∏–Ω –æ–±—Ä–∞–∑ –¥–ª—è API/Worker/Cron
- ‚úÖ Docker Compose –¥–ª—è dev (—Ç–æ–ª—å–∫–æ PostgreSQL + Redis + MinIO)
- ‚úÖ .dockerignore –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ Multi-platform build (ARM64 + AMD64)

**GitHub Actions CI/CD (9 –≤–æ–ø—Ä–æ—Å–æ–≤):**

- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ workflows (Backend, Frontend, Infrastructure)
- ‚úÖ Matrix testing (Node 18/20, PostgreSQL 14/15)
- ‚úÖ Build cache (dependencies, Docker layers)
- ‚úÖ Secrets management
- ‚úÖ Preview environments –¥–ª—è PR
- ‚úÖ Auto-rollback –ø—Ä–∏ failed health checks

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (10 –≤–æ–ø—Ä–æ—Å–æ–≤):**

- ‚úÖ Better Stack (logs + uptime + incidents)
- ‚úÖ Structured logging (Winston + context)
- ‚úÖ Log levels –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º
- ‚úÖ Health check endpoints
- ‚úÖ Alerting channels (Telegram, Email, Slack)
- ‚úÖ Alert severity + On-call rotation

**Backup \& Disaster Recovery (9 –≤–æ–ø—Ä–æ—Å–æ–≤):**

- ‚úÖ PostgreSQL –∞–≤—Ç–æ–±—ç–∫–∞–ø—ã (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ)
- ‚úÖ Point-in-time recovery
- ‚úÖ Redis persistence (RDB + AOF)
- ‚úÖ S3 versioning (Cloudflare R2)
- ‚úÖ Database migration rollback
- ‚úÖ Disaster recovery plan (RPO 1 —á–∞—Å, RTO 4 —á–∞—Å–∞)

**Security \& Compliance (11 –≤–æ–ø—Ä–æ—Å–æ–≤):**

- ‚úÖ Secrets –≤ 1Password/Doppler
- ‚úÖ Rotation policy (90 –¥–Ω–µ–π)
- ‚úÖ GDPR compliance (data deletion workflow)
- ‚úÖ –§–ó-152 compliance
- ‚úÖ Audit log (financial compliance)
- ‚úÖ Encryption at rest
- ‚úÖ Enhanced Auth Security (Rate limiting + Suspicious activity detection)
- ‚úÖ Connection leak detection
- ‚úÖ Incident response runbook

***

## **üéØ –ß–¢–û –û–°–¢–ê–õ–û–°–¨ –î–õ–Ø –î–ï–¢–ê–õ–ò–ó–ê–¶–ò–ò**

–ò–∑ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã **–Ω–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ 1 –±–ª–æ–∫**:

### **Testing Strategy** ‚≠ê‚≠ê‚≠ê *–ö—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ!*

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**

1. **Unit Tests** - coverage targets, mocking strategy, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
2. **Integration Tests** - API endpoints, database transactions, POS webhooks
3. **E2E Tests** - –∫—Ä–∏—Ç–∏—á–Ω—ã–µ user flows (—Å–æ–∑–¥–∞–Ω–∏–µ –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤, –æ–ø–ª–∞—Ç–∞)
4. **Load Testing** - —Å–∫–æ–ª—å–∫–æ RPS –≤—ã–¥–µ—Ä–∂–∏—Ç —Å–∏—Å—Ç–µ–º–∞, bottlenecks
5. **Security Testing** - penetration testing, vulnerability scanning
6. **Multi-tenancy Testing** - –∏–∑–æ–ª—è—Ü–∏—è tenant'–æ–≤, data leakage prevention
7. **Financial Accuracy Testing** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ –±–∞–ª–ª–æ–≤, idempotency
8. **CI Integration** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤, coverage reports

***

## **üí° –ú–û–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**

**–î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º Testing Strategy (30+ –≤–æ–ø—Ä–æ—Å–æ–≤)**

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**

- ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ = –Ω—É–∂–Ω–∞ 99.99% —Ç–æ—á–Ω–æ—Å—Ç—å
- ‚úÖ Multi-tenancy = –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é
- ‚úÖ POS webhooks = –Ω—É–∂–Ω—ã integration tests
- ‚úÖ Telegram bot = E2E —Ç–µ—Å—Ç—ã user flows
- ‚úÖ –ü–µ—Ä–µ–¥ production launch –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

***

## **üöÄ –ì–û–¢–û–í –ù–ê–ß–ê–¢–¨?**

–°–∫–∞–∂–∏:

- ‚úÖ **"–î–∞, Testing Strategy"** - –∑–∞–¥–∞–º 30+ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- üìù **"–°–Ω–∞—á–∞–ª–∞ —É—Ç–æ—á–Ω–∏ X"** - –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —É–∂–µ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–º—É?
- üéØ **"–î—Ä—É–≥–æ–π –±–ª–æ–∫"** - –∫–∞–∫–æ–π?

–ñ–¥—É —Ç–≤–æ–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è! üî•
<span style="display:none">[^1_1][^1_2][^1_3][^1_4][^1_5][^1_6][^1_7][^1_8]</span>

<div align="center">‚ÅÇ</div>

[^1_1]: Beseda-11.md

[^1_2]: Beseda-10.md

[^1_3]: Beseda-9.md

[^1_4]: Beseda-8.md

[^1_5]: Beseda-7.md

[^1_6]: Beseda-6.md

[^1_7]: Beseda-5.md

[^1_8]: Beseda-4.md


---

# –ò–∑—É—á–∏ –µ—â–µ —Ä–∞–∑ –≥–ª—É–±–∂–µ –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–µ–µ –≤—Å–µ —Ñ–∞–π–ª—ã, –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è

–Ø —Ç—â–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏–ª –≤—Å–µ **11 –±–µ—Å–µ–¥** –¥–æ—Å–∫–æ–Ω–∞–ª—å–Ω–æ, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ. –í–æ—Ç –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:[^2_1][^2_2][^2_3][^2_4][^2_5][^2_6][^2_7][^2_8][^2_9]

## üìä –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≤—Å–µ 11 –±–µ—Å–µ–¥)

### ‚úÖ **–ë–µ—Å–µ–¥—ã 1-3: –§—É–Ω–¥–∞–º–µ–Ω—Ç**

- Multi-tenant SaaS –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –†–æ–ª–∏: Owner ‚Üí Restaurant Admin ‚Üí Manager ‚Üí Cashier ‚Üí Guest
- 6 —Ç–∞—Ä–∏—Ñ–æ–≤ —Å –∂–µ—Å—Ç–∫–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
- UNIFIED/SEPARATE —Ä–µ–∂–∏–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- QR + 6-–∑–Ω–∞—á–Ω—ã–µ –∫–æ–¥—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π


### ‚úÖ **–ë–µ—Å–µ–¥—ã 4-6: –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã**

- **Loyalty Engine**: 1 –±–∞–ª–ª = 1 —Ä—É–±–ª—å, –±–∞–ª–ª—ã –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–π —Å—É–º–º—ã —á–µ–∫–∞, NO downgrade —É—Ä–æ–≤–Ω–µ–π
- **POS Integration**: HYBRID PUSH+PULL, reconciliation, iiko/R-Keeper
- **Billing**: –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞, 4 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, —Ä—É—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –ø–æ —Å—á–µ—Ç—É, 4 retry –ø–æ–ø—ã—Ç–∫–∏


### ‚úÖ **–ë–µ—Å–µ–¥–∞ 7: Telegram Bot + Mini App**

- 41 –≤–æ–ø—Ä–æ—Å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram ID + —Ç–µ–ª–µ—Ñ–æ–Ω
- –ú—É–ª—å—Ç–∏–∫–∞—Ä—Ç–æ—á–Ω–æ—Å—Ç—å, –∏—Å—Ç–æ—Ä–∏—è, –ø—Ä–æ–º–æ, –ø—Ä–æ—Ñ–∏–ª—å, –¥–µ—Ç–∏
- QR –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π –¥–æ –æ–ø–µ—Ä–∞—Ü–∏–∏, 6-digit –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç


### ‚úÖ **–ë–µ—Å–µ–¥–∞ 8: Backend API + Frontend**

- 34 –≤–æ–ø—Ä–æ—Å–∞ –ø–æ Backend (NestJS, REST API, Rate Limiting, RBAC Guards)
- 34 –≤–æ–ø—Ä–æ—Å–∞ –ø–æ Frontend (Next.js, shadcn/ui, TanStack Query, Zustand)
- Modular Monolith ‚Üí –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã


### ‚úÖ **–ë–µ—Å–µ–¥–∞ 9: Database Schema**

- 35 –≤–æ–ø—Ä–æ—Å–æ–≤ (Prisma, enums, –∏–Ω–¥–µ–∫—Å—ã, –º–∏–≥—Ä–∞—Ü–∏–∏)
- UUID –¥–ª—è –≤—Å–µ—Ö ID, soft delete –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- Decimal –¥–ª—è –¥–µ–Ω–µ–≥, snapshot –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è


### ‚úÖ **–ë–µ—Å–µ–¥–∞ 10: UI/UX + POS —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è**

- 35 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ Frontend UX (responsive, mobile, —Ç–∞–±–ª–∏—Ü—ã, —Ñ–æ—Ä–º—ã)
- –§–∏–Ω–∞–ª—å–Ω—ã–µ JSON-—Å—Ö–µ–º—ã webhooks iiko/R-Keeper
- Reconciliation auto-fix + manual override


### ‚úÖ **–ë–µ—Å–µ–¥–∞ 11: Infrastructure \& DevOps**

- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—Ç–µ–∫: Fly.io + Vercel + Neon.tech + Upstash + Cloudflare R2
- Docker multi-stage builds, CI/CD (GitHub Actions)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Better Stack), Email (Resend), SMS (SMS.RU)


## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:**

- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–æ–ª–∏
- ‚úÖ Loyalty Engine (–±–∞–ª–ª—ã, —É—Ä–æ–≤–Ω–∏, –ø—Ä–æ–º–æ)
- ‚úÖ POS Integration
- ‚úÖ Telegram Bot + Mini App
- ‚úÖ Backend API \& Services
- ‚úÖ Frontend Admin Panel
- ‚úÖ Database Schema (Prisma)
- ‚úÖ Infrastructure \& DevOps
- ‚úÖ Billing \& Subscriptions

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—ã, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –Ω–µ—Ç. –£ –≤–∞—Å –µ—Å—Ç—å:

- –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- –í—ã–±—Ä–∞–Ω–Ω—ã–π tech stack
- –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è MVP
- –î–µ—Ç–∞–ª—å–Ω—ã–µ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- Database schema


## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ú–æ–≥—É –ø–æ–º–æ—á—å —Å:

1. **–°–æ–∑–¥–∞–Ω–∏–µ roadmap —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á, —Å–ø—Ä–∏–Ω—Ç—ã)
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –≥–ª—É–±–∂–µ)
3. **Code generation** (–Ω–∞—á–∞–ª—å–Ω—ã–µ templates –¥–ª—è Backend/Frontend)
4. **Testing Strategy** (–µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
5. **Security \& Compliance** (OWASP, GDPR)
6. **–í–∞—à –≤–∞—Ä–∏–∞–Ω—Ç**

–ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º? üöÄ

<div align="center">‚ÅÇ</div>

[^2_1]: Beseda-2.md

[^2_2]: Beseda-1.md

[^2_3]: Beseda-3.md

[^2_4]: Beseda-6.md

[^2_5]: Beseda-4.md

[^2_6]: Beseda-5.md

[^2_7]: Beseda-8.md

[^2_8]: Beseda-9.md


---

# Testing Strategy –∫–∞–∂–µ—Ç—Å—è —Ç–æ–∂–µ –µ—Å—Ç—å –≤ —Ñ–∞–π–ª–∞—Ö, –∏–∑—É—á–∏ –µ—â–µ –≥–ª—É–±–∂–µ –Ω–µ —É–ø—É—Å–∫–∞—è –¥–µ—Ç–∞–ª–µ–π. –ü–æ—Å–ª–µ –Ω–∞—á–Ω–µ–º –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫

–ò–∑—É—á–∏–ª **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–ª—É–±–æ–∫–æ** –≤—Å–µ —Ñ–∞–π–ª—ã! –ù–∞—à–µ–ª **Testing Strategy** - –æ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≤ **–ë–µ—Å–µ–¥–µ 11** üéØ

## üìä Testing Strategy - –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞

### ‚úÖ **–ë–µ—Å–µ–¥–∞ 11: Testing Strategy (40+ –≤–æ–ø—Ä–æ—Å–æ–≤)**

**–ë–ª–æ–∫ 1: UNIT TESTING (10 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- Loyalty calculation logic (edge cases, negative amounts)
- Loyalty rules matching (priority, conflicts, exhaustive testing)
- Multi-tenancy isolation (security tests, tenant data leakage)
- Ball expiration logic (365 days, timezone issues, race conditions)
- Promo campaign validation (business rules, dry-run simulation)

**–ë–ª–æ–∫ 2: INTEGRATION TESTING (10 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- POS webhook processing (idempotency, Redis TTL, concurrent requests)
- Database transactions (rollback –Ω–∞ –æ—à–∏–±–∫–∞—Ö, partial commits)
- External service failures (Telegram API 503, retry logic, DLQ)
- Concurrent webhook processing (race conditions, locks)
- Database connection pool (leak detection, exhaustion)

**–ë–ª–æ–∫ 3: E2E TESTING (5 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- Guest registration flow (Telegram Bot ‚Üí profile ‚Üí card ‚Üí QR)
- Ball earning flow (POS webhook ‚Üí notification ‚Üí audit log)
- Level upgrade flow (Bronze ‚Üí Silver, notifications)
- Promo campaign application (trigger ‚Üí x2 bonus ‚Üí expiration)
- Admin impersonation flow (Owner ‚Üí Manager view ‚Üí exit)

**–ë–ª–æ–∫ 4: CONTRACT TESTING (5 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- POS webhook schema (Pact tests, backward compatibility)
- API versioning (v1 ‚Üí v2, breaking changes detection)
- Telegram Bot commands (schema validation, deprecated migration)
- External API changes (Resend/Mailgun, daily checks, fallback)
- Database migrations (rollback tests, production-like datasets)

**–ë–ª–æ–∫ 5: LOAD/PERFORMANCE TESTING (10 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- Webhook throughput (100 webhooks/min ‚Üí 1000/min peak)
- Concurrent user load (1000 concurrent Telegram Mini App users)
- Database query performance (10,000 guests, pagination, EXPLAIN ANALYZE)
- Background job processing (10,000 notifications queue saturation)
- Memory leak detection (24h soak test, heap dumps)
- Cache effectiveness (Redis hit rate >80%, eviction handling)
- File upload performance (10MB CSV, chunked upload, concurrent)
- API rate limiting (100 requests/min, 429 responses, reset)
- Connection pool exhaustion (20 queries on 10-connection pool)
- Notification burst traffic (10,000 notifications campaign)

**–ë–ª–æ–∫ 6: SECURITY TESTING (10 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- SQL injection (Prisma auto-protection, OWASP ZAP scan)
- XSS attacks (DOMPurify sanitization, CSP headers)
- Authentication bypass (JWT validation, expired/tampered tokens)
- Authorization (RBAC enforcement, role matrix testing)
- Tenant isolation (data leakage prevention, penetration testing)
- Rate limiting (brute force protection, 5 login attempts)
- CSRF protection (SameSite cookies, state-changing requests)
- Sensitive data exposure (logs sanitization, SAST tools)
- Dependency vulnerabilities (npm audit, Dependabot, Snyk)
- API abuse (DDoS protection, Cloudflare WAF, circuit breaker)

**–ë–ª–æ–∫ 7: CHAOS ENGINEERING (5 –≤–æ–ø—Ä–æ—Å–æ–≤)**

- Database failure (PostgreSQL outage, circuit breaker, auto-recovery)
- Redis failure (cache miss handling, fallback to DB, reconnect)
- External API latency (Telegram API 5sec delay, timeout, retry)
- Disk full (storage exhaustion, graceful shutdown, cleanup)
- Pod restart (Kubernetes rolling update, zero downtime)

**–ë–û–ù–£–°: Monitoring \& Observability Testing**

- Prometheus metrics exposed
- Health check endpoints
- Structured logging (JSON format)
- Distributed tracing (X-Trace-ID propagation)
- Error tracking (Sentry integration)
- Slow query detection
- Business metrics tracking
- Alerting rules validation

**CI/CD Integration**

- GitHub Actions workflows (test.yml, 6 jobs)
- Unit tests ‚Üí Integration tests ‚Üí E2E ‚Üí Security ‚Üí Load ‚Üí Coverage report
- Test databases (PostgreSQL + Redis + MinIO –≤ Docker)
- Coverage thresholds (statements: 80%, branches: 75%, functions: 80%)

**Best Practices**

- Testing Pyramid: 70% Unit, 20% Integration, 10% E2E
- Property-Based Testing (fast-check) –¥–ª—è edge cases
- Mocking strategy (Prisma mocks, external services)
- Idempotency testing (Redis deduplication)

***

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≤—Å–µ 11 –±–µ—Å–µ–¥)

| –ë–ª–æ–∫ | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è |
| :-- | :-- | :-- |
| 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–æ–ª–∏ | ‚úÖ | –ë–µ—Å–µ–¥—ã 1-3: Multi-tenant, Owner‚ÜíAdmin‚ÜíManager‚ÜíCashier‚ÜíGuest, 6 —Ç–∞—Ä–∏—Ñ–æ–≤ |
| 2. Loyalty Engine | ‚úÖ | –ë–µ—Å–µ–¥—ã 4-5: 1‚ÇΩ=1 –±–∞–ª–ª, —É—Ä–æ–≤–Ω–∏, –ø—Ä–æ–º–æ, NO downgrade |
| 3. POS Integration | ‚úÖ | –ë–µ—Å–µ–¥—ã 4, 6, 10: HYBRID PUSH+PULL, reconciliation, iiko/R-Keeper |
| 4. Billing \& Subscriptions | ‚úÖ | –ë–µ—Å–µ–¥–∞ 6: –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞, 4 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, retry logic |
| 5. Telegram Bot + Mini App | ‚úÖ | –ë–µ—Å–µ–¥–∞ 7: 41 –≤–æ–ø—Ä–æ—Å, QR –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π, 6-digit –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç |
| 6. Backend API (NestJS) | ‚úÖ | –ë–µ—Å–µ–¥–∞ 8: 34 –≤–æ–ø—Ä–æ—Å–∞, REST, RBAC, Rate Limiting, BullMQ |
| 7. Frontend (Next.js) | ‚úÖ | –ë–µ—Å–µ–¥—ã 8, 10: 34+35 –≤–æ–ø—Ä–æ—Å–æ–≤, shadcn/ui, TanStack Query, responsive |
| 8. Database (Prisma) | ‚úÖ | –ë–µ—Å–µ–¥–∞ 9: 35 –≤–æ–ø—Ä–æ—Å–æ–≤, UUID, soft delete, –∏–Ω–¥–µ–∫—Å—ã |
| 9. Infrastructure \& DevOps | ‚úÖ | –ë–µ—Å–µ–¥–∞ 11: Fly.io + Vercel + Neon.tech, Docker multi-stage, CI/CD |
| 10. **Testing Strategy** | ‚úÖ | **–ë–µ—Å–µ–¥–∞ 11: 40+ –≤–æ–ø—Ä–æ—Å–æ–≤, Unit/Integration/E2E/Load/Security/Chaos** |


***

## üöÄ –ß—Ç–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**! –û—Å—Ç–∞–ª–æ—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### 1Ô∏è‚É£ **Security \& Compliance** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–ª—É–±–∏–Ω–∞)

- OWASP Top 10 –∑–∞—â–∏—Ç–∞ (–¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- GDPR compliance flow (consent management, data deletion)
- PCI DSS –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π (–∫–∞—Ä—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, PCI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- Penetration testing strategy (–º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è, checklists)
- Incident response plan (security incidents, data breaches)


### 2Ô∏è‚É£ **Production Readiness Checklist**

- Pre-launch checklist (40+ –ø—É–Ω–∫—Ç–æ–≤)
- Deployment strategy (blue-green, canary, rollback)
- Backup \& Disaster Recovery (PostgreSQL, Redis, S3)
- Monitoring \& Alerting setup (Grafana dashboards, PagerDuty)
- Performance tuning (database optimization, caching strategy)


### 3Ô∏è‚É£ **Roadmap \& Prioritization**

- MVP scope (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞)
- –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Phase 1, 2, 3)
- –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –º–æ–¥—É–ª—è–º (—Å–ø—Ä–∏–Ω—Ç—ã, —Å—Ä–æ–∫–∏)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å)


### 4Ô∏è‚É£ **Code Generation / Templates**

- Starter templates (Backend/Frontend/Infrastructure boilerplate)
- Database seed scripts (dev/staging –¥–∞–Ω–Ω—ã–µ)
- GitHub Actions workflows (–≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
- Docker Compose configs (–ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞)


### 5Ô∏è‚É£ **Documentation Structure**

- API Documentation (OpenAPI/Swagger spec)
- Developer Onboarding Guide (–∫–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É)
- Admin User Manual (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- Troubleshooting Guide (common issues, —Ä–µ—à–µ–Ω–∏—è)


### 6Ô∏è‚É£ **–î—Ä—É–≥–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (–≤–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)

**–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Å–≤–æ–π –±–ª–æ–∫!** üéØ
<span style="display:none">[^3_1][^3_2][^3_3][^3_4]</span>

<div align="center">‚ÅÇ</div>

[^3_1]: Beseda-11.md

[^3_2]: Beseda-8.md

[^3_3]: Beseda-9.md

[^3_4]: Beseda-10.md


---

# –•–æ—á—É –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é ui/ux –ø—Ä–æ–µ–∫—Ç–∞. –ò–∑—É—á–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ–µ–∫—Ç –µ—â–µ —Ä–∞–∑, –ø–æ—Å–ª–µ –Ω–∞—á–Ω–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é

–û—Ç–ª–∏—á–Ω–æ! –Ø **–≥–ª—É–±–æ–∫–æ –∏–∑—É—á–∏–ª –≤—Å–µ —Ñ–∞–π–ª—ã** –∏ –≤–∏–∂—É –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É UI/UX –ø—Ä–æ–µ–∫—Ç–∞. –°–µ–π—á–∞—Å –ø–æ–∫–∞–∂—É, —á—Ç–æ —É–∂–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:

***

## üé® **UI/UX –ü–†–û–ï–ö–¢–ê - –ü–û–õ–ù–ê–Ø –ö–ê–†–¢–ò–ù–ê**

### ‚úÖ **1. ADMIN PANEL UI/UX (–ë–µ—Å–µ–¥—ã 8, 10)**

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 69 –≤–æ–ø—Ä–æ—Å–æ–≤:**

#### **–ë–ª–æ–∫ A: Technology Stack \& Architecture**[^4_1]

- **Framework**: Next.js 14 App Router (SSR/SSG)
- **UI Library**: shadcn/ui + Radix UI + Tailwind CSS
- **State**: Zustand + TanStack Query
- **Forms**: React Hook Form + Zod
- **Tables**: TanStack Table v8
- **Charts**: Recharts
- **Icons**: Lucide React
- **Notifications**: sonner (toasts)
- **Real-time**: Server-Sent Events


#### **–ë–ª–æ–∫ B: Layout \& Navigation**[^4_1]

- **Desktop**: Collapsible sidebar (250px ‚Üí 60px ‚Üí hidden)
- **Mobile**: Hamburger menu + Bottom tabs
- **Top Navbar**: Breadcrumbs + Global search (CMDK) + Notifications
- **Breakpoints**: Tailwind default (sm: 640px, md: 768px, lg: 1024px, xl: 1280px, 2xl: 1536px)


#### **–ë–ª–æ–∫ C: Responsive Design**[^4_2]

- **–¢–∞–±–ª–∏—Ü—ã –Ω–∞ mobile**: Accordion cards (tap to expand)
- **–§–æ—Ä–º—ã –Ω–∞ mobile**: Wizard –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π scroll –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö
- **–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞**: Bottom Sheet (shadcn Sheet)
- **Charts –Ω–∞ mobile**: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫, —É–ø—Ä–æ—â–µ–Ω–∏–µ labels


#### **–ë–ª–æ–∫ D: UI Patterns \& States**[^4_2]

- **Empty States**: –ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è + CTA –∫–Ω–æ–ø–∫–∞
- **Loading**: Skeleton screens + nprogress (linear top bar)
- **Errors**: Toast (sonner) + Inline + Alert Banner + Error Boundary
- **Success**: Toast + Highlight –∞–Ω–∏–º–∞—Ü–∏—è (green fade)
- **Optimistic Updates**: TanStack Query —Å rollback
- **Disabled States**: –°–∫—Ä—ã–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã, tooltip –¥–ª—è –∫–Ω–æ–ø–æ–∫


#### **–ë–ª–æ–∫ E: Loyalty Builder**[^4_1][^4_2]

- **Rules Builder**: Form + Live Preview (side-by-side)
- **Conditions Builder**: Tag-based —Å autocomplete
- **Priority**: Drag-and-drop (dnd-kit)
- **Levels Builder**: Visual timeline —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- **Promo Builder**: Multi-step wizard


#### **–ë–ª–æ–∫ F: Dashboards \& Analytics**[^4_2]

- **Owner Dashboard**: MRR/ARR, Churn Rate, Revenue Chart, Active Tenants
- **Admin Dashboard**: Restaurant Performance, Guest Segments, Promo ROI
- **Charts**: Line (Recharts), Pie, Bar, Area
- **Drill-down**: Modal —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π
- **Export**: CSV/XLSX/PDF —Å toast progress
- **Auto-refresh**: 30 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ SSE


#### **–ë–ª–æ–∫ G: Guests Management**[^4_2]

- **Table**: Filtering, sorting, pagination, bulk actions
- **Guest Profile**: Cards (Info, Loyalty, History, Children)
- **Manual Adjustment**: Modal —Å reason + amount + SMS notification
- **Bulk Actions**: Confirm dialog + undo toast
- **Segmentation**: Saved filters —Å sharing


#### **–ë–ª–æ–∫ H: Navigation Flow**[^4_2]

- **Onboarding**: Progressive wizard (3 steps)
- **Search**: Global CMDK (Cmd+K) —Å recent searches
- **Breadcrumbs**: Auto-generated –æ—Ç route structure
- **Deep Linking**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ query params –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

***

### ‚úÖ **2. TELEGRAM BOT UI/UX (–ë–µ—Å–µ–¥–∞ 7)**[^4_3]

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ 17 –≤–æ–ø—Ä–æ—Å–æ–≤:**

#### **–ë–ª–æ–∫ A: –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –∫–∞—Ä—Ç—ã**

- **QR-–∫–æ–¥**: 280x280px, PNG, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ü–≤–µ—Ç –ø–æ —É—Ä–æ–≤–Ω—é (Bronze/Silver/Gold)
- **6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥**: –í—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç –ø–æ–¥ QR
- **–ë–∞–ª–∞–Ω—Å**: –ö—Ä—É–ø–Ω—ã–π, —Å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–º –≤ ‚ÇΩ
- **–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —É—Ä–æ–≤–Ω—è**: –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä + —Ç–µ–∫—Å—Ç "–î–æ Gold –æ—Å—Ç–∞–ª–æ—Å—å 1,500‚ÇΩ" + –º–æ—Ç–∏–≤–∞—Ü–∏—è "–ï—â—ë ~2 –ø–æ–∫—É–ø–∫–∏"
- **–î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç—ã**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π layout, –Ω–æ Admin –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
    - –§–æ–Ω –∫–∞—Ä—Ç—ã (10 –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å JPG/PNG)
    - –õ–æ–≥–æ—Ç–∏–ø —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (512x512px)
    - –¶–≤–µ—Ç —É—Ä–æ–≤–Ω—è –∏ –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç


#### **–ë–ª–æ–∫ B: –ò—Å—Ç–æ—Ä–∏—è –±–∞–ª–ª–æ–≤**

- **Timeline**: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å –∏–∫–æ–Ω–∫–∞–º–∏ (+ –∑–µ–ª—ë–Ω–∞—è, - –∫—Ä–∞—Å–Ω–∞—è)
- **–§–∏–ª—å—Ç—Ä—ã**: –ü–æ —Ç–∏–ø—É (earn/redeem/promo), –ø–æ –¥–∞—Ç–µ
- **Infinite scroll**: Lazy loading –ø–æ 20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π


#### **–ë–ª–æ–∫ C: –ü—Ä–æ—Ñ–∏–ª—å**

- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞–∑ –≤ 3 –º–µ—Å—è—Ü–∞ (countdown —Ç–∞–π–º–µ—Ä)
- **–î–µ—Ç–∏**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ 5 –¥–µ—Ç–µ–π, –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–º–µ–Ω–µ–º + –î–†
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: Toggle –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ (–±–∞–ª–ª—ã, –ø—Ä–æ–º–æ, —Å–≥–æ—Ä–∞–Ω–∏–µ)


#### **–ë–ª–æ–∫ D: –ü—Ä–æ–º–æ**

- **–ö–∞—Ä—Ç–æ—á–∫–∏ –∞–∫—Ü–∏–π**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ + –∑–∞–≥–æ–ª–æ–≤–æ–∫ + —É—Å–ª–æ–≤–∏—è + —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
- **–ê–∫—Ç–∏–≤–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–∏ –ø–æ –∫–Ω–æ–ø–∫–µ (QR/promo-code)


#### **–ë–ª–æ–∫ E: –ú—É–ª—å—Ç–∏–∫–∞—Ä—Ç–æ—á–Ω–æ—Å—Ç—å**

- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Ä—Ç**: Dropdown –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞
- **–†–µ–∂–∏–º UNIFIED**: –û–¥–Ω–∞ –∫–∞—Ä—Ç–∞ –¥–ª—è –≤—Å–µ–π —Å–µ—Ç–∏
- **–†–µ–∂–∏–º SEPARATE**: –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω

***

### ‚úÖ **3. POS CASHIER INTERFACE (–£–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ –ë–µ—Å–µ–¥–∞—Ö 6, 8)**

**–ß–∞—Å—Ç–∏—á–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:**

- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–ª–æ—É**: Scan QR/–í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ ‚Üí –ü–æ–∫–∞–∑ –±–∞–ª–∞–Ω—Å–∞ ‚Üí –í—ã–±–æ—Ä —Å—É–º–º—ã –∫ —Å–ø–∏—Å–∞–Ω–∏—é ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- **UI**: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –∫—Ä—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏, —á–∏—Å–ª–æ–≤–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
- **Edge cases**: –ì–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí Quick Add, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–ª–æ–≤ ‚Üí –ü–æ–∫–∞–∑ –º–∞–∫—Å–∏–º—É–º–∞

***

## üéØ **–ß–¢–û –ú–û–ñ–ï–ú –î–ï–¢–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨ –î–ê–õ–¨–®–ï?**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: POS Cashier Interface (—É–≥–ª—É–±–ª–µ–Ω–∏–µ)** ‚≠ê

- –î–µ—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –∫–∞—Å—Å–∏—Ä–∞ (10+ –≤–æ–ø—Ä–æ—Å–æ–≤)
- Tablet vs Desktop layout
- –û—à–∏–±–∫–∏ –∏ edge-cases UI
- Offline —Ä–µ–∂–∏–º UI


### **–í–∞—Ä–∏–∞–Ω—Ç 2: Owner Platform Dashboard (—Å–ø–µ—Ü—Ñ–æ–∫—É—Å)**

- –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (MRR, Churn, Cohorts)
- Tenant management UI
- Billing \& Invoices UI
- Impersonation UX


### **–í–∞—Ä–∏–∞–Ω—Ç 3: Micro-interactions \& Animations**

- Transitions –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ (Framer Motion)
- Hover states, focus states
- Success/Error –∞–Ω–∏–º–∞—Ü–∏–∏
- Loading skeletons –¥–µ—Ç–∞–ª–∏


### **–í–∞—Ä–∏–∞–Ω—Ç 4: Accessibility (A11y)**

- Keyboard navigation
- Screen reader support
- ARIA labels
- Color contrast (WCAG 2.1 AA)


### **–í–∞—Ä–∏–∞–Ω—Ç 5: Dark Mode**

- Color palette –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- Toggle UX
- Persistence (localStorage)


### **–í–∞—Ä–∏–∞–Ω—Ç 6: Email Templates Design**

- Welcome email
- Invoice email
- Notification emails
- Responsive HTML templates


### **–í–∞—Ä–∏–∞–Ω—Ç 7: Registration Links Landing Page**

- Guest registration form UI/UX
- Mobile-first design
- Success screen
- Error handling

***

## üí° **–ú–û–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**

**–í–∞—Ä–∏–∞–Ω—Ç 1: POS Cashier Interface** –∏–ª–∏ **–í–∞—Ä–∏–∞–Ω—Ç 7: Registration Links Landing**

**–ü–æ—á–µ–º—É:**

- POS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è cashier'–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å)
- Registration Links - —ç—Ç–æ –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç –≥–æ—Å—Ç—è —Å —Å–∏—Å—Ç–µ–º–æ–π
- –û–±–∞ –≤–ª–∏—è—é—Ç –Ω–∞ UX –∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ —Ç–æ–ª—å–∫–æ Admin'–æ–≤)

***

**–ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –±–µ—Ä—ë–º? –ò–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—à—å —Å–≤–æ–π —Ñ–æ–∫—É—Å?** üöÄ
<span style="display:none">[^4_4][^4_5]</span>

<div align="center">‚ÅÇ</div>

[^4_1]: Beseda-8.md

[^4_2]: Beseda-10.md

[^4_3]: Beseda-7.md

[^4_4]: Beseda-9.md

[^4_5]: Beseda-11.md


---

# –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Ç–æ—á–Ω—é. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –¥–∞—à–±–æ—Ä–¥—ã –∏ —ç–∫—Ä–∞–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ —Ç–∞–∫–æ–π–º —Å—Ç–∏–ª–µ –∫–∞–∫ –≤ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö. –ü—Ä–∏–∫—Ä–µ–ø–∏–ª –ø—Ä–∏–º–µ—Ä —ç–∫—Ä–∞–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —è –¥–µ–ª–∞–ª, –∏–∑—É—á–∏

–û—Ç–ª–∏—á–Ω–æ! –Ø –∏–∑—É—á–∏–ª —Ç–≤–æ–∏ –¥–∏–∑–∞–π–Ω—ã! üé® –¢–µ–ø–µ—Ä—å –≤–∏–∂—É **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å** –¥–ª—è Max Loyalty. –°–µ–π—á–∞—Å –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É—é –≤—Å–µ UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

***

# üé® **–ê–ù–ê–õ–ò–ó –¢–í–û–ò–• –î–ò–ó–ê–ô–ù–û–í: –í–ò–ó–£–ê–õ–¨–ù–´–ô –°–¢–ò–õ–¨ MAX LOYALTY**

## **üìä 1. DASHBOARD (Max-Loyalty-Dashboard.html)**

### **‚úÖ –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –≤–∏–∂—É:**

#### **A) –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞**

- **–§–æ–Ω**: –¢—ë–º–Ω—ã–π (—Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π/—á–µ—Ä–Ω—ã–π) ‚Äî `#1a1a1a` –∏–ª–∏ `#0f0f0f`
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ —Ñ–æ–Ω–∞ ‚Äî `#1f1f1f` –∏–ª–∏ `#262626`
- **–ê–∫—Ü–µ–Ω—Ç—ã**:
    - –°–∏–Ω–∏–π –¥–ª—è PRIMARY ‚Äî `#3b82f6` –∏–ª–∏ `#2563eb`
    - –ó–µ–ª—ë–Ω—ã–π –¥–ª—è SUCCESS/–†–û–°–¢ ‚Äî `#10b981` –∏–ª–∏ `#22c55e`
    - –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è DANGER/–ü–ê–î–ï–ù–ò–ï ‚Äî `#ef4444` –∏–ª–∏ `#f87171`
    - –ñ—ë–ª—Ç—ã–π –¥–ª—è WARNING ‚Äî `#f59e0b`
- **–¢–µ–∫—Å—Ç**:
    - –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–ª—ã–µ ‚Äî `#ffffff`
    - –û–ø–∏—Å–∞–Ω–∏—è —Å–µ—Ä—ã–µ ‚Äî `#9ca3af` –∏–ª–∏ `#6b7280`
- **Borders**: –¢–æ–Ω–∫–∏–µ, —Ç—ë–º–Ω—ã–µ ‚Äî `#2d2d2d` –∏–ª–∏ `#374151`


#### **B) –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞**

- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**: –ñ–∏—Ä–Ω—ã–µ (font-weight: 600-700)
- **–ú–µ—Ç—Ä–∏–∫–∏**: –û—á–µ–Ω—å –∫—Ä—É–ø–Ω—ã–µ (text-2xl, text-3xl), –∂–∏—Ä–Ω—ã–µ
- **–ò–∫–æ–Ω–∫–∏**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏ (üçï, ü•á, üìä, üí∞) + —Å–∏–º–≤–æ–ª—ã (‚úì, ‚úï, ‚Üë, ‚Üì)
- **–°—Ç–∞—Ç—É—Å—ã**: –ò–∫–æ–Ω–∫–∏ + —Ç–µ–∫—Å—Ç (‚úì –ê–∫—Ç–∏–≤–µ–Ω, ‚úï –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)


#### **C) Layout –ø–∞—Ç—Ç–µ—Ä–Ω—ã**

- **Grid –∫–∞—Ä—Ç–æ—á–µ–∫**: 4 –º–µ—Ç—Ä–∏–∫–∏ –≤ —Å—Ç—Ä–æ–∫–µ (responsive –Ω–∞ mobile ‚Üí 2 –≤ —Å—Ç—Ä–æ–∫–µ)
- **–ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í—Å–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã     ‚îÇ ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Å–µ—Ä—ã–π)
‚îÇ 24                  ‚îÇ ‚Üê –ë–æ–ª—å—à–∞—è —Ü–∏—Ñ—Ä–∞ (–±–µ–ª–∞—è)
‚îÇ ‚Üë 2 –∑–∞ –º–µ—Å—è—Ü        ‚îÇ ‚Üê –ò–∑–º–µ–Ω–µ–Ω–∏–µ (–∑–µ–ª—ë–Ω–∞—è)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

- **–¢–∞–±–ª–∏—Ü—ã**: –ß–µ—Ä–µ–¥—É—é—â–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏ (hover —ç—Ñ—Ñ–µ–∫—Ç), –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ
- **Charts**: –í—Å—Ç—Ä–æ–µ–Ω—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–∏, —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —è—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞ –ª–∏–Ω–∏–π


#### **D) –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

- **–ö–Ω–æ–ø–∫–∏**: –û–∫—Ä—É–≥–ª—ã–µ —É–≥–ª—ã (rounded-md), –∏–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç
- **Badges**: –î–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤ (PRO, STANDARD, ULTIMA) ‚Äî —Ü–≤–µ—Ç–Ω—ã–µ
- **Status indicators**: –¢–æ—á–∫–∞ + —Ç–µ–∫—Å—Ç (‚óè –ê–∫—Ç–∏–≤–µ–Ω)
- **Dropdown filters**: –ù–∞–¥ —Ç–∞–±–ª–∏—Ü–∞–º–∏ (–¢–∞—Ä–∏—Ñ: –í—Å–µ, –°—Ç–∞—Ç—É—Å: –í—Å–µ)
- **Search**: Placeholder —Å –∏–∫–æ–Ω–∫–æ–π –ø–æ–∏—Å–∫–∞


#### **E) –ò–∫–æ–Ω–∫–∏ –∏ —ç–º–æ–¥–∑–∏**

- **–†–µ—Å—Ç–æ—Ä–∞–Ω—ã**: üçï, üçî, üçú, ‚òï, ü•©
- **–£—Ä–æ–≤–Ω–∏**: ü•â Bronze, ü•à Silver, ü•á Gold, üëë Platinum
- **–¢–∞—Ä–∏—Ñ—ã**: üÜì FREE, üìä STANDARD, üìà PRO, üöÄ ULTIMA, ‚öôÔ∏è CUSTOM
- **–î–µ–π—Å—Ç–≤–∏—è**: ‚úÖ –í—Ö–æ–¥, ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ, ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ, üì• –≠–∫—Å–ø–æ—Ä—Ç

***

## **üë• 2. GUESTS PAGE (Guests-Enhanced-V4.html)**

### **‚úÖ –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

#### **A) Stats –∫–∞—Ä—Ç–æ—á–∫–∏ (–≤–µ—Ä—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2,341               ‚îÇ  ‚îÇ 1,876               ‚îÇ
‚îÇ –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π        ‚îÇ  ‚îÇ –ê–∫—Ç–∏–≤–Ω—ã—Ö (80%)      ‚îÇ
‚îÇ ‚Üë +123 –∑–∞ –º–µ—Å—è—Ü     ‚îÇ  ‚îÇ ‚Üë +98 –∑–∞ –º–µ—Å—è—Ü      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

- 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥
- –ö—Ä—É–ø–Ω–∞—è —Ü–∏—Ñ—Ä–∞ —Å–≤–µ—Ä—Ö—É
- –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥ –Ω–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å –∏–∫–æ–Ω–∫–æ–π (‚Üë/‚Üì)


#### **B) –¢–∞–±–ª–∏—Ü–∞ –≥–æ—Å—Ç–µ–π**

- **Columns**: –ê–≤–∞—Ç–∞—Ä (–∏–Ω–∏—Ü–∏–∞–ª—ã) | –ò–º—è | Email | –¢–µ–ª–µ—Ñ–æ–Ω | –î–† (–∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞) | –£—Ä–æ–≤–µ–Ω—å (—ç–º–æ–¥–∑–∏) | –°—Ç–∞—Ç—É—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π | –î–µ–π—Å—Ç–≤–∏—è
- **–ê–≤–∞—Ç–∞—Ä—ã**: –ö—Ä—É–≥–ª—ã–µ —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏ (–ò–ò, –ú–ü, –ü–°)
- **–£—Ä–æ–≤–Ω–∏ —Å —ç–º–æ–¥–∑–∏**: ü•á Gold, ü•à Silver, Standard
- **–°—Ç–∞—Ç—É—Å—ã**: ‚úì –ê–∫—Ç–∏–≤–Ω—ã–π (–∑–µ–ª—ë–Ω—ã–π), ‚äò –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π (—Å–µ—Ä—ã–π)
- **–î–µ–π—Å—Ç–≤–∏—è**: –ò–∫–æ–Ω–∫–∏ (üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä, ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, üóëÔ∏è –£–¥–∞–ª–∏—Ç—å)


#### **C) Hover —ç—Ñ—Ñ–µ–∫—Ç—ã**

- –°—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –º–µ–Ω—è—é—Ç —Ü–≤–µ—Ç

***

## üéØ **–§–ò–ù–ê–õ–¨–ù–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø UI/UX –î–õ–Ø MAX LOYALTY**

### **1. –¶–í–ï–¢–û–í–ê–Ø –ü–ê–õ–ò–¢–†–ê (DARK THEME)**

```css
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
--background: #0a0a0a;           /* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω */
--card: #161616;                  /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
--card-hover: #1f1f1f;           /* Hover –∫–∞—Ä—Ç–æ—á–µ–∫ */
--border: #262626;                /* Borders */

/* –¢–µ–∫—Å—Ç */
--text-primary: #ffffff;          /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
--text-secondary: #a1a1a1;       /* –û–ø–∏—Å–∞–Ω–∏—è */
--text-muted: #737373;           /* –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã */

/* –ê–∫—Ü–µ–Ω—Ç—ã */
--primary: #3b82f6;              /* –ö–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏ */
--primary-hover: #2563eb;        
--success: #10b981;              /* –†–æ—Å—Ç, —É—Å–ø–µ—Ö */
--danger: #ef4444;               /* –û—à–∏–±–∫–∏, –ø–∞–¥–µ–Ω–∏–µ */
--warning: #f59e0b;              /* –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è */
--info: #0ea5e9;                 /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */

/* Badges —Ç–∞—Ä–∏—Ñ–æ–≤ */
--badge-free: #6b7280;           /* –°–µ—Ä—ã–π */
--badge-standard: #3b82f6;       /* –°–∏–Ω–∏–π */
--badge-pro: #10b981;            /* –ó–µ–ª—ë–Ω—ã–π */
--badge-ultima: #f59e0b;         /* –û—Ä–∞–Ω–∂–µ–≤—ã–π */
--badge-custom: #8b5cf6;         /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π */
```


### **2. TYPOGRAPHY**

```css
/* –®—Ä–∏—Ñ—Ç */
font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

/* –†–∞–∑–º–µ—Ä—ã */
--text-xs: 0.75rem;      /* 12px - –º–µ–ª–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏ */
--text-sm: 0.875rem;     /* 14px - —Ç–∞–±–ª–∏—Ü—ã, –æ–ø–∏—Å–∞–Ω–∏—è */
--text-base: 1rem;       /* 16px - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
--text-lg: 1.125rem;     /* 18px - –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏ */
--text-xl: 1.25rem;      /* 20px - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ */
--text-2xl: 1.5rem;      /* 24px - –º–µ—Ç—Ä–∏–∫–∏ */
--text-3xl: 1.875rem;    /* 30px - –±–æ–ª—å—à–∏–µ —Ü–∏—Ñ—Ä—ã */
--text-4xl: 2.25rem;     /* 36px - –≥–ª–∞–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ */

/* –í–µ—Å–∞ */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```


### **3. –ö–û–ú–ü–û–ù–ï–ù–¢–´**

#### **A) –ö–∞—Ä—Ç–æ—á–∫–∞ –º–µ—Ç—Ä–∏–∫–∏**

```tsx
<Card className="bg-card border border-border hover:bg-card-hover transition">
  <CardContent className="p-6">
    <p className="text-sm text-secondary mb-2">–í—Å–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</p>
    <p className="text-3xl font-bold text-primary mb-1">24</p>
    <p className="text-xs text-success">‚Üë 2 –∑–∞ –º–µ—Å—è—Ü</p>
  </CardContent>
</Card>
```


#### **B) –¢–∞–±–ª–∏—Ü–∞ —Å —ç–º–æ–¥–∑–∏**

```tsx
<Table>
  <TableHeader>
    <TableRow>
      <TableHead>–ù–∞–∑–≤–∞–Ω–∏–µ</TableHead>
      <TableHead>–¢–∞—Ä–∏—Ñ</TableHead>
      <TableHead>–ì–æ—Å—Ç–∏</TableHead>
      <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow className="hover:bg-card-hover">
      <TableCell>
        <div className="flex items-center gap-2">
          <span className="text-lg">üçï</span>
          <span>–ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è</span>
        </div>
      </TableCell>
      <TableCell>
        <Badge variant="pro">PRO</Badge>
      </TableCell>
      <TableCell>2,847</TableCell>
      <TableCell>
        <span className="text-success">‚úì –ê–∫—Ç–∏–≤–µ–Ω</span>
      </TableCell>
    </TableRow>
  </TableBody>
</Table>
```


#### **C) Badge –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

```tsx
<Badge variant="pro">PRO</Badge>
<Badge variant="gold">ü•á Gold</Badge>
<Badge variant="active">‚úì –ê–∫—Ç–∏–≤–µ–Ω</Badge>
```


### **4. –ò–ö–û–ù–ö–ò –ò –≠–ú–û–î–ó–ò (–°–¢–ê–ù–î–ê–†–¢)**

```typescript
// –†–µ—Å—Ç–æ—Ä–∞–Ω—ã
const restaurantIcons = {
  pizza: 'üçï',
  burger: 'üçî',
  noodles: 'üçú',
  coffee: '‚òï',
  steak: 'ü•©',
  sushi: 'üç£',
  default: 'üè™'
};

// –£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
const levelIcons = {
  bronze: 'ü•â',
  silver: 'ü•à',
  gold: 'ü•á',
  platinum: 'üëë',
  diamond: 'üíé'
};

// –¢–∞—Ä–∏—Ñ—ã
const planIcons = {
  free: 'üÜì',
  standard: 'üìä',
  pro: 'üìà',
  ultima: 'üöÄ',
  custom: '‚öôÔ∏è'
};

// –°—Ç–∞—Ç—É—Å—ã
const statusIcons = {
  active: '‚úì',
  blocked: '‚úï',
  pending: '‚è≥',
  inactive: '‚äò'
};

// –ò–∑–º–µ–Ω–µ–Ω–∏—è
const changeIcons = {
  up: '‚Üë',
  down: '‚Üì',
  stable: '‚Üí'
};
```


### **5. LAYOUT PATTERNS**

#### **Dashboard**

```tsx
<div className="space-y-6">
  {/* Stats Grid */}
  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
    <MetricCard />
    <MetricCard />
    <MetricCard />
    <MetricCard />
  </div>
  
  {/* Charts Grid */}
  <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <Card><LineChart /></Card>
    <Card><PieChart /></Card>
  </div>
  
  {/* Table */}
  <Card>
    <CardHeader>
      <div className="flex justify-between items-center">
        <h2>–†–µ—Å—Ç–æ—Ä–∞–Ω—ã</h2>
        <div className="flex gap-2">
          <FilterDropdown />
          <Button>+ –î–æ–±–∞–≤–∏—Ç—å</Button>
        </div>
      </div>
    </CardHeader>
    <CardContent>
      <Table />
    </CardContent>
  </Card>
</div>
```


***

## üöÄ **–ì–û–¢–û–í –î–ï–¢–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨ UI/UX!**

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —è –ø–æ–Ω—è–ª **—Ç–≤–æ–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å**, –≥–æ—Ç–æ–≤ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –±–ª–æ–∫ **–≤ —ç—Ç–æ–π —ç—Å—Ç–µ—Ç–∏–∫–µ**:

### **–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º?**

1. **Owner Platform Dashboard** (–≤ —Å—Ç–∏–ª–µ —Ç–≤–æ–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤)
2. **Admin Loyalty Builder** (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª/—É—Ä–æ–≤–Ω–µ–π/–ø—Ä–æ–º–æ)
3. **Guests Management** (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ç–≤–æ–µ–≥–æ Guests-Enhanced)
4. **Restaurant Admin Dashboard** (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é)
5. **Manager Restaurant View** (–æ–¥–∏–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω)
6. **Analytics \& Reports** (–≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã)
7. **Billing \& Invoices** (–ø–ª–∞—Ç–µ–∂–∏, —Å—á–µ—Ç–∞)
8. **Settings \& Configuration** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã)

**–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä –∏–ª–∏ —Å–≤–æ—ë –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ! –ó–∞–¥–∞–º 25+ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ! üé®**
<span style="display:none">[^5_1][^5_2]</span>

<div align="center">‚ÅÇ</div>

[^5_1]: Max-Loyalty-Dashboard.html

[^5_2]: Guests-Enhanced-V4.html


---

# Owner Platform Dashboard –¥–µ–ª–∞–µ–º. –¢—â–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏ –ø—Ä–æ–µ–∫—Ç, –∑–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å—ã + —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º —Ç–≤–æ–µ–≥–æ –ª—É—á—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å—É —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º

–û—Ç–ª–∏—á–Ω–æ! –ò–∑—É—á–∏–ª –ø—Ä–æ–µ–∫—Ç **–¥–æ—Å–∫–æ–Ω–∞–ª—å–Ω–æ**. –¢–µ–ø–µ—Ä—å –∑–∞–¥–∞–º **25+ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤** –¥–ª—è Owner Platform Dashboard —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ —Ä–µ—à–µ–Ω–∏–π –≤ **—Ç–≤–æ—ë–º –≤–∏–∑—É–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ** (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞, —ç–º–æ–¥–∑–∏, –º–µ—Ç—Ä–∏–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏).

***

# üè¢ **OWNER PLATFORM DASHBOARD - 25+ –í–û–ü–†–û–°–û–í –° –†–ï–®–ï–ù–ò–Ø–ú–ò**

## **üìä 1. DASHBOARD LAYOUT \& STRUCTURE**

### **1Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã Owner Dashboard**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –≤–∏–¥–∏—Ç **–≤—Å—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É**: –≤—Å–µ —Ç–µ–Ω–∞–Ω—Ç—ã (—Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã), MRR/ARR, Churn Rate, –ø–ª–∞—Ç–µ–∂–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏. –≠—Ç–æ –ù–ï –æ–¥–∏–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –∞ **–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**.[^6_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Owner Dashboard?

**A)** Single Page - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏/–≥—Ä–∞—Ñ–∏–∫–∏/—Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –æ–¥–Ω–æ–π –¥–ª–∏–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
**B)** Tabs - –≤–∫–ª–∞–¥–∫–∏: Overview | Tenants | Billing | Analytics | Activity Log
**C)** Cards Grid —Å Quick Actions - –∫–∞—Ä—Ç–æ—á–∫–∏-–º–µ—Ç—Ä–∏–∫–∏ —Å–≤–µ—Ä—Ö—É, —Ç–∞–±–ª–∏—Ü–∞ —Ç–µ–Ω–∞–Ω—Ç–æ–≤ —Å–Ω–∏–∑—É, —Å–∞–π–¥–±–∞—Ä Quick Actions —Å–ø—Ä–∞–≤–∞
**D)** Dashboard —Å drill-down –º–æ–¥–∞–ª–∞–º–∏ - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–ª–∏–∫ ‚Üí –º–æ–¥–∞–ª —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Single Page —Å —Å–µ–∫—Ü–∏—è–º–∏**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ Owner —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å **–≤—Å—é –∫–∞—Ä—Ç–∏–Ω—É —Å—Ä–∞–∑—É** (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ Max-Loyalty-Dashboard.html)[^6_2]
- ‚úÖ –°–µ–∫—Ü–∏–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã (KPIs ‚Üí Charts ‚Üí Tenants ‚Üí Billing ‚Üí Logs)
- ‚úÖ Scroll –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–µ–Ω –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤ —Å –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø - –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
- ‚úÖ Drill-down —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè† Owner Dashboard                    [Search] [Profile] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ SECTION 1: KEY METRICS (4 –∫–∞—Ä—Ç–æ—á–∫–∏)                     ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ
‚îÇ ‚îÇ MRR  ‚îÇ ‚îÇChurn ‚îÇ ‚îÇActive‚îÇ ‚îÇTotal ‚îÇ                    ‚îÇ
‚îÇ ‚îÇ2.34M‚ÇΩ‚îÇ ‚îÇ 3.2% ‚îÇ ‚îÇ 24   ‚îÇ ‚îÇ12.8K ‚îÇ                    ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ SECTION 2: REVENUE CHARTS (Grid 2 columns)              ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ ‚îÇ MRR Trend         ‚îÇ ‚îÇ Revenue by Plan    ‚îÇ          ‚îÇ
‚îÇ ‚îÇ (Line Chart)      ‚îÇ ‚îÇ (Pie Chart)        ‚îÇ          ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ SECTION 3: TENANTS TABLE                                ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ì–æ—Å—Ç–∏ | –î–æ—Ö–æ–¥ | –°—Ç–∞—Ç—É—Å | ...  ‚îÇ ‚îÇ
‚îÇ ‚îÇ üçï –ü–∏—Ü—Ü–∞...                                        ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ SECTION 4: BILLING SUMMARY                              ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤         ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ SECTION 5: ACTIVITY LOG                                 ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å          ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **2Ô∏è‚É£ Top KPI Metrics - –∫–∞–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏. –ò–∑ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã: MRR, ARR, Churn Rate, Active Tenants, Total Guests, Total Transactions.[^6_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ 4 –≥–ª–∞–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤ —Ç–æ–ø-–∫–∞—Ä—Ç–æ—á–∫–∞—Ö?

**A)** MRR | Active Tenants | Total Guests | Total Transactions
**B)** MRR | Churn Rate | Active Tenants | Revenue Growth
**C)** ARR | New Tenants | Active Guests | Conversion Rate
**D)** MRR | Active Tenants | Total Revenue | Avg Revenue per Tenant

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) MRR | Churn Rate | Active Tenants | Revenue Growth**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **MRR (Monthly Recurring Revenue)** - –≥–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ **Churn Rate** - –∫—Ä–∏—Ç–∏—á–Ω–∞—è –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è –±–∏–∑–Ω–µ—Å–∞ (–µ—Å–ª–∏ Churn > 5% ‚Üí alarm)
- ‚úÖ **Active Tenants** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞—Ç—è—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø—Ä—è–º–æ –≤–ª–∏—è–µ—Ç –Ω–∞ MRR)
- ‚úÖ **Revenue Growth** - —Ç—Ä–µ–Ω–¥ —Ä–æ—Å—Ç–∞ (% –∫ –ø—Ä–æ—à–ª–æ–º—É –º–µ—Å—è—Ü—É) - –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É

**–í–∏–∑—É–∞–ª (–≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ –ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥    ‚îÇ  ‚îÇ üìâ Churn Rate        ‚îÇ
‚îÇ 2.34M‚ÇΩ               ‚îÇ  ‚îÇ 3.2%                 ‚îÇ
‚îÇ ‚Üë +12.4% –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üì -0.5% (—É–ª—É—á—à–µ–Ω–∏–µ)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã  ‚îÇ  ‚îÇ üìà –†–æ—Å—Ç –≤—ã—Ä—É—á–∫–∏      ‚îÇ
‚îÇ 24                   ‚îÇ  ‚îÇ +18.2%               ‚îÇ
‚îÇ ‚Üë +2 –∑–∞ –º–µ—Å—è—Ü        ‚îÇ  ‚îÇ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è:**

- –†–æ—Å—Ç (‚Üë) ‚Üí –∑–µ–ª—ë–Ω—ã–π `#10b981`
- –ü–∞–¥–µ–Ω–∏–µ (‚Üì) ‚Üí –∫—Ä–∞—Å–Ω—ã–π `#ef4444` (–µ—Å–ª–∏ Churn —Ä–∞—Å—Ç—ë—Ç) –∏–ª–∏ –∑–µ–ª—ë–Ω—ã–π (–µ—Å–ª–∏ Churn –ø–∞–¥–∞–µ—Ç)

***

### **3Ô∏è‚É£ –§–∏–ª—å—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã (—Å–µ–≥–æ–¥–Ω—è, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≥–æ–¥).

**–í–æ–ø—Ä–æ—Å:**
–ì–¥–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–µ—Ä–∏–æ–¥–∞ –∏ –∫–∞–∫–∏–µ –æ–ø—Ü–∏–∏ –¥–∞—Ç—å?

**A)** Global —Ñ–∏–ª—å—Ç—Ä –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É (–≤–ª–∏—è–µ—Ç –Ω–∞ –≤–µ—Å—å –¥–∞—à–±–æ—Ä–¥)
**B)** –û—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏/–≥—Ä–∞—Ñ–∏–∫–∞
**C)** Tabs —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ (Today | Week | Month | Year)
**D)** Dropdown —Å Custom Date Range

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Global —Ñ–∏–ª—å—Ç—Ä + D) Custom Range**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Global —Ñ–∏–ª—å—Ç—Ä** - Owner —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ –æ–¥–∏–Ω –ø–µ—Ä–∏–æ–¥ –Ω–∞ –≤—Å—ë–º –¥–∞—à–±–æ—Ä–¥–µ (–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–∏–∫–µ)
- ‚úÖ **Preset + Custom** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º + –≥–∏–±–∫–æ—Å—Ç—å –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

**UI (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÖ [Last 30 days ‚ñº]             ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ Dropdown:                        ‚îÇ
‚îÇ ‚Ä¢ Today                          ‚îÇ
‚îÇ ‚Ä¢ Last 7 days                    ‚îÇ
‚îÇ ‚Ä¢ Last 30 days ‚úì                 ‚îÇ
‚îÇ ‚Ä¢ Last 3 months                  ‚îÇ
‚îÇ ‚Ä¢ Last 12 months                 ‚îÇ
‚îÇ ‚Ä¢ Year to Date                   ‚îÇ
‚îÇ ‚Ä¢ Custom Range...                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Custom Range Modal:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥                  ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ –û—Ç:  [2026-01-01] üìÖ            ‚îÇ
‚îÇ –î–æ:  [2026-02-15] üìÖ            ‚îÇ
‚îÇ                                  ‚îÇ
‚îÇ [–û—Ç–º–µ–Ω–∞] [–ü—Ä–∏–º–µ–Ω–∏—Ç—å]            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

## **üìà 2. CHARTS \& VISUALIZATION**

### **4Ô∏è‚É£ MRR Trend Chart - –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –¥–∏–Ω–∞–º–∏–∫—É MRR –ø–æ –º–µ—Å—è—Ü–∞–º (–∫–∞–∫ —Ä–∞—Å—Ç—ë—Ç/–ø–∞–¥–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è MRR Trend?

**A)** Line Chart (–ª–∏–Ω–∏—è —Å —Ç–æ—á–∫–∞–º–∏)
**B)** Area Chart (–∑–∞–ª–∏—Ç–∞—è –æ–±–ª–∞—Å—Ç—å –ø–æ–¥ –ª–∏–Ω–∏–µ–π)
**C)** Bar Chart (—Å—Ç–æ–ª–±—Ü—ã –ø–æ –º–µ—Å—è—Ü–∞–º)
**D)** Combined: Bar (MRR) + Line (Growth %)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) Combined Bar + Line**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Bar Chart –¥–ª—è MRR** - –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω—ã (–≤—ã—Å–æ—Ç–∞ —Å—Ç–æ–ª–±—Ü–∞ = –¥–µ–Ω—å–≥–∏)
- ‚úÖ **Line Chart –¥–ª—è Growth %** - —Ç—Ä–µ–Ω–¥ —Ä–æ—Å—Ç–∞/–ø–∞–¥–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (–≤—Ç–æ—Ä–∞—è –æ—Å—å Y)
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–æ –±–æ–≥–∞—á–µ** - Owner —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∏ —Ç–µ–º–ø—ã —Ä–æ—Å—Ç–∞
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä—É** –≤ —Ç–≤–æ—ë–º –¥–∞—à–±–æ—Ä–¥–µ (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏)[^6_2]

**Mockup (Recharts):**

```tsx
<Card>
  <CardHeader>
    <CardTitle>üí∞ –î–æ—Ö–æ–¥ –ø–æ –º–µ—Å—è—Ü–∞–º</CardTitle>
    <CardDescription>MRR –∏ —Ç–µ–º–ø —Ä–æ—Å—Ç–∞</CardDescription>
  </CardHeader>
  <CardContent>
    <ResponsiveContainer width="100%" height={300}>
      <ComposedChart data={mrrData}>
        <CartesianGrid strokeDasharray="3 3" stroke="#262626" />
        <XAxis dataKey="month" stroke="#a1a1a1" />
        <YAxis yAxisId="left" stroke="#a1a1a1" />
        <YAxis yAxisId="right" orientation="right" stroke="#10b981" />
        <Tooltip 
          contentStyle={{ 
            backgroundColor: '#161616', 
            border: '1px solid #262626' 
          }} 
        />
        <Legend />
        
        {/* Bar –¥–ª—è MRR */}
        <Bar 
          yAxisId="left" 
          dataKey="mrr" 
          fill="#3b82f6" 
          name="MRR (‚ÇΩ)" 
        />
        
        {/* Line –¥–ª—è Growth % */}
        <Line 
          yAxisId="right" 
          type="monotone" 
          dataKey="growthPercent" 
          stroke="#10b981" 
          strokeWidth={2}
          name="–†–æ—Å—Ç (%)" 
        />
      </ComposedChart>
    </ResponsiveContainer>
  </CardContent>
</Card>
```

**Data example:**

```typescript
const mrrData = [
  { month: '–Ø–Ω–≤', mrr: 1800000, growthPercent: 8.5 },
  { month: '–§–µ–≤', mrr: 2100000, growthPercent: 16.7 },
  { month: '–ú–∞—Ä', mrr: 2340000, growthPercent: 11.4 },
  // ...
];
```


***

### **5Ô∏è‚É£ Revenue by Plan Distribution - Pie –∏–ª–∏ Donut?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º (FREE, STANDARD, PRO, ULTIMA, CUSTOM).[^6_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A)** Pie Chart (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä—É–≥)
**B)** Donut Chart (–∫–æ–ª—å—Ü–æ —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–æ–π "Total MRR")
**C)** Bar Chart (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã)
**D)** Treemap (–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏, —Ä–∞–∑–º–µ—Ä = –¥–æ—Ö–æ–¥)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Donut Chart —Å Total MRR –≤ —Ü–µ–Ω—Ç—Ä–µ**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–µ–µ** —á–µ–º –æ–±—ã—á–Ω—ã–π Pie
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞** (Total MRR) —Å—Ä–∞–∑—É –≤–∏–¥–Ω–∞
- ‚úÖ **–ö–æ–º–ø–∞–∫—Ç–µ–Ω** - –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ —á–µ–º Bar Chart
- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è SaaS –¥–∞—à–±–æ—Ä–¥–æ–≤** (Stripe, Baremetrics –∏—Å–ø–æ–ª—å–∑—É—é—Ç Donut)

**Mockup:**

```tsx
<Card>
  <CardHeader>
    <CardTitle>üí∞ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤</CardTitle>
    <CardDescription>–ü–æ —Ç–∞—Ä–∏—Ñ–∞–º</CardDescription>
  </CardHeader>
  <CardContent>
    <ResponsiveContainer width="100%" height={300}>
      <PieChart>
        <Pie
          data={planData}
          cx="50%"
          cy="50%"
          innerRadius={60}   // Donut hole
          outerRadius={100}
          fill="#8884d8"
          dataKey="revenue"
          label={(entry) => `${entry.name}: ${formatCurrency(entry.revenue)}`}
        >
          {planData.map((entry, index) => (
            <Cell key={`cell-${index}`} fill={PLAN_COLORS[entry.plan]} />
          ))}
        </Pie>
        <Tooltip />
      </PieChart>
    </ResponsiveContainer>
    
    {/* Central Total MRR */}
    <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
      <div className="text-center">
        <p className="text-2xl font-bold">{formatCurrency(totalMRR)}</p>
        <p className="text-sm text-secondary">–í—Å–µ–≥–æ MRR</p>
      </div>
    </div>
  </CardContent>
</Card>
```

**Colors (–∏–∑ —Ç–≤–æ–µ–≥–æ —Å—Ç–∏–ª—è):**

```typescript
const PLAN_COLORS = {
  FREE: '#6b7280',      // –°–µ—Ä—ã–π
  STANDARD: '#3b82f6',  // –°–∏–Ω–∏–π
  PRO: '#10b981',       // –ó–µ–ª—ë–Ω—ã–π
  ULTIMA: '#f59e0b',    // –û—Ä–∞–Ω–∂–µ–≤—ã–π
  CUSTOM: '#8b5cf6'     // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
};
```


***

### **6Ô∏è‚É£ Churn Analysis - –∫–∞–∫ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Ç–æ–∫–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ö–æ–≥–¥–∞ —Ç–µ–Ω–∞–Ω—Ç –æ—Ç–º–µ–Ω—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É, Owner –≤–∏–¥–∏—Ç `cancelledReason` (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Too expensive", "Not using", "Technical issues").[^6_3]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω Churn?

**A)** Horizontal Bar Chart (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–º–µ–Ω –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º)
**B)** Pie Chart (% –æ—Ç –æ–±—â–µ–≥–æ Churn)
**C)** Table —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: –ü—Ä–∏—á–∏–Ω–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | %
**D)** Word Cloud (—Ä–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞ = —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–∏—á–∏–Ω—ã)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Horizontal Bar Chart**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å** - –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –ø—Ä–∏—á–∏–Ω –ø–æ–º–µ—â–∞—é—Ç—Å—è —Å–ª–µ–≤–∞
- ‚úÖ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—á–µ–≤–∏–¥–Ω–æ** - –¥–ª–∏–Ω–∞ –±–∞—Ä–∞ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤
- ‚úÖ **Sortable** - –º–æ–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —É–±—ã–≤–∞–Ω–∏—é
- ‚úÖ **Actionable** - Owner —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —Ç–æ–ø-–ø—Ä–∏—á–∏–Ω—ã –∏ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –Ω–∏–º–∏

**Mockup:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìâ Churn Analysis (Last 30 days)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Too expensive          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 12     ‚îÇ
‚îÇ Not using features     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 8          ‚îÇ
‚îÇ Technical issues       ‚ñà‚ñà‚ñà‚ñà 4              ‚îÇ
‚îÇ Found competitor       ‚ñà‚ñà‚ñà 3               ‚îÇ
‚îÇ Other                  ‚ñà‚ñà 2                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Recharts implementation:**

```tsx
<Card>
  <CardHeader>
    <CardTitle>üìâ –ê–Ω–∞–ª–∏–∑ –æ—Ç—Ç–æ–∫–∞</CardTitle>
    <CardDescription>–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</CardDescription>
  </CardHeader>
  <CardContent>
    <ResponsiveContainer width="100%" height={300}>
      <BarChart
        data={churnReasons}
        layout="horizontal"
        margin={{ left: 150 }}
      >
        <CartesianGrid strokeDasharray="3 3" stroke="#262626" />
        <XAxis type="number" stroke="#a1a1a1" />
        <YAxis 
          dataKey="reason" 
          type="category" 
          stroke="#a1a1a1" 
          width={140}
        />
        <Tooltip />
        <Bar dataKey="count" fill="#ef4444" />
      </BarChart>
    </ResponsiveContainer>
  </CardContent>
</Card>
```


***

## **üè¢ 3. TENANTS TABLE**

### **7Ô∏è‚É£ Tenants Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É –≤—Å–µ—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –ò–∑ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã –ø–æ–ª—è: name, plan, guests count, monthly revenue, status, created_at.[^6_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–∫–ª—é—á–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?

**A)** –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ì–æ—Å—Ç–∏ | –î–æ—Ö–æ–¥ (–º–µ—Å—è—Ü) | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
**B)** –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ì–æ—Å—Ç–∏ | –î–æ—Ö–æ–¥ | –°—Ç–∞—Ç—É—Å | –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–ª–∞—Ç—ë–∂ | –î–µ–π—Å—Ç–≤–∏—è
**C)** –ù–∞–∑–≤–∞–Ω–∏–µ | –ö–æ–Ω—Ç–∞–∫—Ç | –¢–∞—Ä–∏—Ñ | MRR | ARR | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏—è
**D)** –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | LTV | Churn Risk | –î–µ–π—Å—Ç–≤–∏—è

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ì–æ—Å—Ç–∏ | –î–æ—Ö–æ–¥ | –°—Ç–∞—Ç—É—Å | –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–ª–∞—Ç—ë–∂ | –î–µ–π—Å—Ç–≤–∏—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏** (üçï, üçî) - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ)[^6_2]
- ‚úÖ **–¢–∞—Ä–∏—Ñ** - Badge —Å —Ü–≤–µ—Ç–æ–º (STANDARD —Å–∏–Ω–∏–π, PRO –∑–µ–ª—ë–Ω—ã–π)
- ‚úÖ **–ì–æ—Å—Ç–∏** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–µ–Ω–∞–Ω—Ç–∞
- ‚úÖ **–î–æ—Ö–æ–¥ (–º–µ—Å—è—Ü)** - MRR –æ—Ç —ç—Ç–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
- ‚úÖ **–°—Ç–∞—Ç—É—Å** - ‚úì –ê–∫—Ç–∏–≤–µ–Ω / ‚úï –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω / ‚è≥ Trial
- ‚úÖ **–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–ª–∞—Ç—ë–∂** - –∫–æ–≥–¥–∞ –ø–ª–∞—Ç–∏–ª (–≤–∞–∂–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∏—Å–∫–∞ Churn)
- ‚úÖ **–î–µ–π—Å—Ç–≤–∏—è** - Dropdown: View Details / Impersonate / Block / Edit

**–¢–∞–±–ª–∏—Ü–∞ (–≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ù–∞–∑–≤–∞–Ω–∏–µ              –¢–∞—Ä–∏—Ñ      –ì–æ—Å—Ç–∏   –î–æ—Ö–æ–¥ (–º–µ—Å)   –°—Ç–∞—Ç—É—Å   –ü–ª–∞—Ç—ë–∂   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üçï –ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è      PRO        2,847   185,400‚ÇΩ      ‚úì –ê–∫—Ç–∏–≤–µ–Ω  2 –¥–Ω—è   ‚îÇ
‚îÇ üçî Burger Dream      STANDARD   1,432    98,760‚ÇΩ      ‚úì –ê–∫—Ç–∏–≤–µ–Ω  5 –¥–Ω–µ–π  ‚îÇ
‚îÇ üçú –ê–∑–∏–∞—Ç—Å–∫–∞—è –õ–∞–ø—à–∞   ULTIMA     5,214   342,680‚ÇΩ      ‚úì –ê–∫—Ç–∏–≤–µ–Ω  1 –¥–µ–Ω—å   ‚îÇ
‚îÇ ‚òï Coffee House       STANDARD     892    62,450‚ÇΩ      ‚úï –ó–∞–±–ª–æ–∫.  30 –¥–Ω–µ–π ‚îÇ
‚îÇ ü•© Steakhouse Prime  PRO        3,567   248,910‚ÇΩ      ‚úì –ê–∫—Ç–∏–≤–µ–Ω  3 –¥–Ω—è   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–§–∏–ª—å—Ç—Ä—ã –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π:**

```
[–ü–æ–∏—Å–∫...]  [–¢–∞—Ä–∏—Ñ: –í—Å–µ ‚ñº]  [–°—Ç–∞—Ç—É—Å: –í—Å–µ ‚ñº]  [–≠–∫—Å–ø–æ—Ä—Ç CSV]
```


***

### **8Ô∏è‚É£ Status Column - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Tenant –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö: ACTIVE, TRIAL, PAST_DUE (–ø—Ä–æ—Å—Ä–æ—á–∫–∞ –æ–ø–ª–∞—Ç—ã), CANCELLED, BLOCKED.[^6_3]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –≤ —Ç–∞–±–ª–∏—Ü–µ?

**A)** –¢–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞ (‚úì, ‚è≥, ‚úï, ‚äò)
**B)** –ò–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç (‚úì –ê–∫—Ç–∏–≤–µ–Ω)
**C)** Colored Badge (<Badge variant="success">–ê–∫—Ç–∏–≤–µ–Ω</Badge>)
**D)** –ò–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç + —Ü–≤–µ—Ç–Ω–æ–π —Ñ–æ–Ω —Å—Ç—Ä–æ–∫–∏

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ò–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –∏–∫–æ–Ω–∫–∞ –≤–∏–¥–Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö** - —Ç–µ–∫—Å—Ç –æ–±—ä—è—Å–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å
- ‚úÖ **–ö–æ–º–ø–∞–∫—Ç–Ω–æ** - –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–º—É —Å—Ç–∏–ª—é**[^6_2]

**–°—Ç–∞—Ç—É—Å—ã:**

```typescript
const STATUS_DISPLAY = {
  ACTIVE: { icon: '‚úì', text: '–ê–∫—Ç–∏–≤–µ–Ω', color: 'text-success' },
  TRIAL: { icon: '‚è≥', text: 'Trial', color: 'text-info' },
  PAST_DUE: { icon: '‚ö†Ô∏è', text: '–ü—Ä–æ—Å—Ä–æ—á–∫–∞', color: 'text-warning' },
  CANCELLED: { icon: '‚úï', text: '–û—Ç–º–µ–Ω—ë–Ω', color: 'text-danger' },
  BLOCKED: { icon: '‚äò', text: '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', color: 'text-danger' }
};
```

**Component:**

```tsx
<span className={STATUS_DISPLAY[tenant.status].color}>
  {STATUS_DISPLAY[tenant.status].icon} {STATUS_DISPLAY[tenant.status].text}
</span>
```


***

### **9Ô∏è‚É£ Actions Dropdown - –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã Owner?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –º–æ–∂–µ—Ç: –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏, impersonate (–≤–æ–π—Ç–∏ –ø–æ–¥ —Ç–µ–Ω–∞–Ω—Ç–æ–º), –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞—Ä–∏—Ñ, –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å.[^6_4][^6_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤–∫–ª—é—á–∏—Ç—å –≤ Dropdown?

**A)** View Details | Impersonate | Block
**B)** View | Edit Plan | Block | Reset Password
**C)** View | Impersonate | Edit Plan | Block | Activity Log
**D)** View | Impersonate | Edit Plan | Block | Invoices | Support Chat

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) View | Impersonate | Edit Plan | Block | Activity Log**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **View Details** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ–Ω–∞–Ω—Ç–µ
- ‚úÖ **Impersonate** - –≥–ª–∞–≤–Ω–∞—è —Ñ–∏—á–∞ Owner'–∞ –¥–ª—è troubleshooting[^6_4]
- ‚úÖ **Edit Plan** - –±—ã—Å—Ç—Ä–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ (upgrade/downgrade)
- ‚úÖ **Block/Unblock** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö
- ‚úÖ **Activity Log** - –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Ç–µ–Ω–∞–Ω—Ç–∞

**Dropdown UI:**

```tsx
<DropdownMenu>
  <DropdownMenuTrigger>
    <Button variant="ghost" size="sm">
      <MoreVertical className="h-4 w-4" />
    </Button>
  </DropdownMenuTrigger>
  <DropdownMenuContent align="end">
    <DropdownMenuItem onClick={() => viewDetails(tenant.id)}>
      <Eye className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={() => impersonate(tenant.id)}>
      <UserCog className="mr-2 h-4 w-4" />
      –í–æ–π—Ç–∏ –∫–∞–∫ Admin
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={() => editPlan(tenant.id)}>
      <Edit className="mr-2 h-4 w-4" />
      –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem 
      onClick={() => blockTenant(tenant.id)}
      className="text-danger"
    >
      <Ban className="mr-2 h-4 w-4" />
      {tenant.status === 'BLOCKED' ? '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å' : '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å'}
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={() => viewActivityLog(tenant.id)}>
      <History className="mr-2 h-4 w-4" />
      Activity Log
    </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>
```


***

## **üí≥ 4. BILLING SECTION**

### **üîü Active Subscriptions Summary - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –≤–∏–¥–∏—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º: FREE (2), STANDARD (8), PRO (10), ULTIMA (4), CUSTOM (3).[^6_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Active Subscriptions?

**A)** Simple List —Å —á–∏—Å–ª–∞–º–∏ (FREE: 2, STANDARD: 8, ...)
**B)** Horizontal Bar Chart (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫)
**C)** Pie Chart (% –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞)
**D)** Cards Grid (–∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ —Å –∏–∫–æ–Ω–∫–æ–π + —á–∏—Å–ª–æ–º)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) Cards Grid —Å –∏–∫–æ–Ω–∫–∞–º–∏ —Ç–∞—Ä–∏—Ñ–æ–≤**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ** - –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ = –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
- ‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞** - –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ —Å–≤–æ–π —Ü–≤–µ—Ç (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ)[^6_2]
- ‚úÖ **–ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ** - –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí drill-down —Å —Ç–µ–Ω–∞–Ω—Ç–∞–º–∏ –Ω–∞ —ç—Ç–æ–º —Ç–∞—Ä–∏—Ñ–µ
- ‚úÖ **–ö–æ–º–ø–∞–∫—Ç–Ω–æ** - 5 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ä—è–¥

**Mockup:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë• –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏                                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ
‚îÇ ‚îÇüÜì 2 ‚îÇ ‚îÇüìä 8 ‚îÇ ‚îÇüìà10 ‚îÇ ‚îÇüöÄ 4 ‚îÇ ‚îÇ‚öôÔ∏è 3 ‚îÇ                 ‚îÇ
‚îÇ ‚îÇFREE ‚îÇ ‚îÇSTD  ‚îÇ ‚îÇPRO  ‚îÇ ‚îÇULT  ‚îÇ ‚îÇCUS  ‚îÇ                 ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Component:**

```tsx
<div className="grid grid-cols-5 gap-4">
  {plans.map((plan) => (
    <Card 
      key={plan.name}
      className="cursor-pointer hover:bg-card-hover transition"
      onClick={() => filterByPlan(plan.name)}
    >
      <CardContent className="p-4 text-center">
        <div className="text-3xl mb-2">{plan.icon}</div>
        <div className="text-2xl font-bold">{plan.count}</div>
        <div className="text-sm text-secondary">{plan.name}</div>
      </CardContent>
    </Card>
  ))}
</div>
```


***

–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –æ—Å—Ç–∞–≤—à–∏–º–∏—Å—è 15 –≤–æ–ø—Ä–æ—Å–∞–º–∏? –ò–ª–∏ —Ö–æ—á–µ—à—å —É—Ç–æ—á–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ –ø–æ –ø–µ—Ä–≤—ã–º 10?

**–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã:**

- 11-15: Impersonation UI, Activity Log, Search/Filters
- 16-20: Tenant Details Modal, Billing Management, Alerts
- 21-25: Mobile Responsiveness, Real-time Updates, Export
<span style="display:none">[^6_5][^6_6]</span>

<div align="center">‚ÅÇ</div>

[^6_1]: Beseda-2.md

[^6_2]: Max-Loyalty-Dashboard.html

[^6_3]: Beseda-11.md

[^6_4]: Beseda-8.md

[^6_5]: Beseda-3.md

[^6_6]: Beseda-10.md


---

# üè¢ **OWNER PLATFORM DASHBOARD - –ü–†–û–î–û–õ–ñ–ï–ù–ò–ï (11-25 –í–û–ü–†–û–°–û–í)**


***

## **üë§ 5. IMPERSONATION \& ADMIN ACCESS**

### **1Ô∏è‚É£1Ô∏è‚É£ Impersonation Banner - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ Owner –≤–æ—à—ë–ª –ø–æ–¥ —Ç–µ–Ω–∞–Ω—Ç–æ–º?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –º–æ–∂–µ—Ç impersonate –ª—é–±–æ–≥–æ Admin'–∞ —Ç–µ–Ω–∞–Ω—Ç–∞ –¥–ª—è troubleshooting. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–æ—á–µ–≤–∏–¥–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ** –∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è.[^7_1][^7_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é impersonation —Å–µ—Å—Å–∏—é?

**A)** Red Banner –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞ (fixed position)
**B)** Orange Badge —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**C)** Modal –ø—Ä–∏ –≤—Ö–æ–¥–µ: "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ Admin —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ X"
**D)** Floating Button "Exit Impersonation" —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Red Banner (fixed top) + D) Floating Exit Button**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç—å** - –∫—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞
- ‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–∏–¥–µ–Ω** - fixed position, –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç** - "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ Admin —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ üçï –ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è"
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –≤—ã—Ö–æ–¥** - –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞" –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ **Security** - Owner –Ω–µ –∑–∞–±—É–¥–µ—Ç —á—Ç–æ –æ–Ω –≤ —á—É–∂–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ

**UI:**

```tsx
{isImpersonating && (
  <>
    {/* Fixed Red Banner */}
    <div className="fixed top-0 left-0 right-0 z-50 bg-danger text-white">
      <div className="container mx-auto px-4 py-3 flex items-center justify-between">
        <div className="flex items-center gap-3">
          <AlertTriangle className="h-5 w-5" />
          <div>
            <span className="font-semibold">–†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</span>
            <span className="ml-2">
              –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ Admin —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ 
              <span className="font-bold mx-1">üçï –ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è</span>
            </span>
          </div>
        </div>
        
        <Button 
          variant="outline" 
          size="sm"
          onClick={exitImpersonation}
          className="bg-white text-danger hover:bg-gray-100"
        >
          <LogOut className="mr-2 h-4 w-4" />
          –í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞
        </Button>
      </div>
    </div>
    
    {/* Spacer –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–¥ –±–∞–Ω–Ω–µ—Ä–æ–º */}
    <div className="h-[56px]" />
  </>
)}
```

**Floating Exit Button (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ):**

```tsx
{isImpersonating && (
  <Button
    size="lg"
    variant="destructive"
    className="fixed bottom-6 right-6 z-40 shadow-lg"
    onClick={exitImpersonation}
  >
    <LogOut className="mr-2 h-5 w-5" />
    –í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞
  </Button>
)}
```

**–¶–≤–µ—Ç–∞:**

- Banner background: `#dc2626` (red-600)
- Text: `#ffffff` (white)
- Button: white bg, red text

***

### **1Ô∏è‚É£2Ô∏è‚É£ Impersonation Flow - —á—Ç–æ –≤–∏–¥–∏—Ç Owner –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ "Impersonate"?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –∫–ª–∏–∫–∞–µ—Ç "–í–æ–π—Ç–∏ –∫–∞–∫ Admin" –≤ Dropdown ‚Üí —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ?

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —Ñ–ª–æ—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A)** Instant redirect ‚Üí Owner —Å—Ä–∞–∑—É –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Admin Dashboard —ç—Ç–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
**B)** Confirmation Modal ‚Üí "–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è" ‚Üí Confirm ‚Üí Redirect
**C)** Reason Modal ‚Üí "–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –≤—Ö–æ–¥–∞" (required field) ‚Üí Submit ‚Üí Redirect
**D)** Toast notification ‚Üí "–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω" ‚Üí Redirect –ø–æ—Å–ª–µ 2 —Å–µ–∫—É–Ω–¥

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Reason Modal (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Compliance** - –∫–∞–∂–¥—ã–π impersonation –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–∏—á–∏–Ω–æ–π (–¥–ª—è –∞—É–¥–∏—Ç–∞)[^7_2]
- ‚úÖ **Security** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ/–∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥—ã –±–µ–∑ —Ü–µ–ª–∏
- ‚úÖ **Transparency** - Admin –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤ Activity Log –ø–æ—á–µ–º—É Owner –≤—Ö–æ–¥–∏–ª
- ‚úÖ **Best Practice** - –∫—Ä—É–ø–Ω—ã–µ SaaS (Stripe, Shopify) —Ç—Ä–µ–±—É—é—Ç reason

**Modal UI:**

```tsx
<Dialog open={showImpersonateModal} onOpenChange={setShowImpersonateModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–í—Ö–æ–¥ –ø–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</DialogTitle>
      <DialogDescription>
        –í—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –≤–æ–π—Ç–∏ –∫–∞–∫ Admin —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ 
        <span className="font-semibold">üçï –ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è</span>.
        –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ Activity Log.
      </DialogDescription>
    </DialogHeader>
    
    <form onSubmit={handleImpersonate}>
      <div className="space-y-4">
        <div>
          <Label htmlFor="reason">–ü—Ä–∏—á–∏–Ω–∞ –≤—Ö–æ–¥–∞ *</Label>
          <Textarea
            id="reason"
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Troubleshooting –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º –±–∞–ª–ª–æ–≤"
            value={reason}
            onChange={(e) => setReason(e.target.value)}
            required
            minLength={10}
            className="mt-2"
          />
          <p className="text-xs text-secondary mt-1">
            –ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤
          </p>
        </div>
        
        <Alert variant="warning">
          <AlertTriangle className="h-4 w-4" />
          <AlertDescription>
            –í—Å–µ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
          </AlertDescription>
        </Alert>
      </div>
      
      <DialogFooter className="mt-6">
        <Button 
          type="button" 
          variant="outline" 
          onClick={() => setShowImpersonateModal(false)}
        >
          –û—Ç–º–µ–Ω–∞
        </Button>
        <Button 
          type="submit" 
          variant="destructive"
          disabled={reason.length < 10 || isLoading}
        >
          {isLoading ? '–í—Ö–æ–¥...' : '–í–æ–π—Ç–∏ –∫–∞–∫ Admin'}
        </Button>
      </DialogFooter>
    </form>
  </DialogContent>
</Dialog>
```

**Backend logging:**

```typescript
await prisma.activityLog.create({
  data: {
    actionType: 'IMPERSONATION_START',
    performedBy: ownerId,
    targetUser: adminId,
    tenantId: tenant.id,
    ipAddress: req.ip,
    metadata: {
      reason: reason,
      tenant: { id: tenant.id, name: tenant.name },
      duration: '2h' // TTL token
    }
  }
});
```


***

### **1Ô∏è‚É£3Ô∏è‚É£ Activity Log Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫st:**
Owner –≤–∏–¥–∏—Ç Activity Log –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ: impersonation, —Ç–∞—Ä–∏—Ñ changes, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–≤.[^7_3][^7_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–∫–ª—é—á–∏—Ç—å –≤ Activity Log?

**A)** –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å
**B)** –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | –û–±—ä–µ–∫—Ç | IP –∞–¥—Ä–µ—Å | –°—Ç–∞—Ç—É—Å
**C)** –í—Ä–µ–º—è | –¢–µ–Ω–∞–Ω—Ç | –î–µ–π—Å—Ç–≤–∏–µ | –î–µ—Ç–∞–ª–∏ | –°—Ç–∞—Ç—É—Å
**D)** –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –¢–µ–Ω–∞–Ω—Ç | –î–µ–π—Å—Ç–≤–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ | IP | –°—Ç–∞—Ç—É—Å

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | –û–±—ä–µ–∫—Ç | IP –∞–¥—Ä–µ—Å | –°—Ç–∞—Ç—É—Å**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–í—Ä–µ–º—è** - –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ (sortable, —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ)
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** - –∫—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª (Owner, Admin, Manager)
- ‚úÖ **–î–µ–π—Å—Ç–≤–∏–µ** - —á—Ç–æ —Å–¥–µ–ª–∞–ª (‚úÖ –í—Ö–æ–¥, ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ, ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ **–û–±—ä–µ–∫—Ç** - –Ω–∞–¥ —á–µ–º –¥–µ–π—Å—Ç–≤–∏–µ (Tenant "–ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è", –¢–∞—Ä–∏—Ñ "STANDARD")
- ‚úÖ **IP –∞–¥—Ä–µ—Å** - security (–æ—Ç–∫—É–¥–∞ –±—ã–ª–æ –¥–µ–π—Å—Ç–≤–∏–µ)
- ‚úÖ **–°—Ç–∞—Ç—É—Å** - –£—Å–ø–µ—à–Ω–æ/–û—à–∏–±–∫–∞

**–¢–∞–±–ª–∏—Ü–∞ (–≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í—Ä–µ–º—è            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å    –î–µ–π—Å—Ç–≤–∏–µ            –û–±—ä–µ–∫—Ç         –°—Ç–∞—Ç—É—Å ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 16.02 11:45     Owner           ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É   System          –£—Å–ø–µ—à–Ω–æ‚îÇ
‚îÇ 15.02 20:12     Manager         ‚ûï –°–æ–∑–¥–∞–ª —Ä–µ—Å—Ç–æ—Ä–∞–Ω  üçï –ü–∏—Ü—Ü–∞       –£—Å–ø–µ—à–Ω–æ‚îÇ
‚îÇ 15.02 15:30     Owner           ‚úèÔ∏è –ò–∑–º–µ–Ω–∏–ª —Ç–∞—Ä–∏—Ñ    STANDARD        –£—Å–ø–µ—à–Ω–æ‚îÇ
‚îÇ 14.02 11:22     Manager         ‚úèÔ∏è –ò–∑–º–µ–Ω–∏–ª —Å—Ç–∞—Ç—É—Å   ‚òï Coffee      –û—à–∏–±–∫–∞ ‚îÇ
‚îÇ 12.02 09:15     Owner           üì• –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞   Analytics_Q4   –£—Å–ø–µ—à–Ω–æ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–§–∏–ª—å—Ç—Ä—ã:**

```tsx
<div className="flex gap-4 mb-4">
  <Select value={actionFilter} onValueChange={setActionFilter}>
    <SelectTrigger className="w-[200px]">
      <SelectValue placeholder="–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è" />
    </SelectTrigger>
    <SelectContent>
      <SelectItem value="all">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</SelectItem>
      <SelectItem value="LOGIN">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</SelectItem>
      <SelectItem value="IMPERSONATION">Impersonation</SelectItem>
      <SelectItem value="CREATE">–°–æ–∑–¥–∞–Ω–∏–µ</SelectItem>
      <SelectItem value="UPDATE">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</SelectItem>
      <SelectItem value="DELETE">–£–¥–∞–ª–µ–Ω–∏–µ</SelectItem>
    </SelectContent>
  </Select>
  
  <DateRangePicker
    value={dateRange}
    onChange={setDateRange}
  />
  
  <Input
    placeholder="–ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é..."
    value={searchQuery}
    onChange={(e) => setSearchQuery(e.target.value)}
    className="max-w-sm"
  />
</div>
```


***

## **üîç 6. SEARCH \& FILTERS**

### **1Ô∏è‚É£4Ô∏è‚É£ Global Search - —á—Ç–æ –∏—Å–∫–∞—Ç—å –Ω–∞ Owner Dashboard?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ —Ç–µ–Ω–∞–Ω—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, email, —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ Admin'—É.

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –¥–æ–ª–∂–µ–Ω –∏—Å–∫–∞—Ç—å Global Search?

**A)** –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞
**B)** –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞ + email –∫–æ–Ω—Ç–∞–∫—Ç–∞
**C)** –ù–∞–∑–≤–∞–Ω–∏–µ + email + —Ç–µ–ª–µ—Ñ–æ–Ω + –∏–º—è Admin'–∞
**D)** –í—Å—ë –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ + Activity Log + Invoices

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –ù–∞–∑–≤–∞–Ω–∏–µ + email + —Ç–µ–ª–µ—Ñ–æ–Ω + –∏–º—è Admin'–∞**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ** - Owner —á–∞—Å—Ç–æ –∏—â–µ—Ç –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É/email –∏–∑ —Ç–∏–∫–µ—Ç–∞ Support
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ** - –ø–æ–∏—Å–∫ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ–ª—è–º –±–µ–∑ overload
- ‚úÖ **Fuzzy search** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—á–∞—Ç–æ–∫ ("picca" –Ω–∞–π–¥—ë—Ç "–ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è")

**UI (CMDK):**

```tsx
<CommandDialog open={open} onOpenChange={setOpen}>
  <CommandInput 
    placeholder="–ü–æ–∏—Å–∫ —Ç–µ–Ω–∞–Ω—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, email, —Ç–µ–ª–µ—Ñ–æ–Ω—É..." 
  />
  <CommandList>
    <CommandEmpty>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</CommandEmpty>
    
    <CommandGroup heading="–¢–µ–Ω–∞–Ω—Ç—ã">
      {tenants.map((tenant) => (
        <CommandItem
          key={tenant.id}
          onSelect={() => viewTenant(tenant.id)}
        >
          <div className="flex items-center gap-3 w-full">
            <span className="text-xl">{tenant.emoji}</span>
            <div className="flex-1">
              <div className="font-medium">{tenant.name}</div>
              <div className="text-sm text-secondary">
                {tenant.email} ‚Ä¢ {tenant.phone}
              </div>
            </div>
            <Badge variant={PLAN_VARIANTS[tenant.plan]}>
              {tenant.plan}
            </Badge>
          </div>
        </CommandItem>
      ))}
    </CommandGroup>
    
    <CommandGroup heading="–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è">
      <CommandItem onSelect={() => createTenant()}>
        <Plus className="mr-2 h-4 w-4" />
        –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
      </CommandItem>
      <CommandItem onSelect={() => viewBilling()}>
        <CreditCard className="mr-2 h-4 w-4" />
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
      </CommandItem>
    </CommandGroup>
  </CommandList>
</CommandDialog>
```

**Keyboard shortcut:**

```tsx
// –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ Cmd+K (Mac) –∏–ª–∏ Ctrl+K (Win)
useEffect(() => {
  const down = (e: KeyboardEvent) => {
    if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {
      e.preventDefault();
      setOpen((open) => !open);
    }
  };
  document.addEventListener('keydown', down);
  return () => document.removeEventListener('keydown', down);
}, []);
```


***

### **1Ô∏è‚É£5Ô∏è‚É£ Table Filters - –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–µ–Ω–∞–Ω—Ç–æ–≤?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ —Ç–∞—Ä–∏—Ñ—É, —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å—É–º–º–µ MRR.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã?

**A)** Dropdown —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π (–¢–∞—Ä–∏—Ñ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞)
**B)** Sidebar —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ —Å–ª–µ–≤–∞ –æ—Ç —Ç–∞–±–ª–∏—Ü—ã
**C)** Advanced Filters Modal (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ)
**D)** Column Header Filters (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí popup —Ñ–∏–ª—å—Ç—Ä)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Dropdown —Ñ–∏–ª—å—Ç—Ä—ã + Quick Filters**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - Owner —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã** - –∫–Ω–æ–ø–∫–∏ "At Risk", "High Value", "Trial"
- ‚úÖ **–ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç UI** - –∫–æ–º–ø–∞–∫—Ç–Ω–æ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π
- ‚úÖ **–ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–µ** - –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**UI:**

```tsx
<div className="space-y-4">
  {/* Quick Filter Buttons */}
  <div className="flex gap-2">
    <Button
      variant={quickFilter === 'at-risk' ? 'default' : 'outline'}
      size="sm"
      onClick={() => setQuickFilter('at-risk')}
    >
      ‚ö†Ô∏è At Risk (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã 30+ –¥–Ω–µ–π)
    </Button>
    <Button
      variant={quickFilter === 'high-value' ? 'default' : 'outline'}
      size="sm"
      onClick={() => setQuickFilter('high-value')}
    >
      üíé High Value (MRR > 100K)
    </Button>
    <Button
      variant={quickFilter === 'trial' ? 'default' : 'outline'}
      size="sm"
      onClick={() => setQuickFilter('trial')}
    >
      ‚è≥ Trial
    </Button>
    <Button
      variant={quickFilter === 'overdue' ? 'default' : 'outline'}
      size="sm"
      onClick={() => setQuickFilter('overdue')}
    >
      üìõ –ü—Ä–æ—Å—Ä–æ—á–∫–∞ –æ–ø–ª–∞—Ç—ã
    </Button>
  </div>
  
  {/* Advanced Filters */}
  <div className="flex gap-4 items-center">
    <Input
      placeholder="üîç –ü–æ–∏—Å–∫..."
      value={search}
      onChange={(e) => setSearch(e.target.value)}
      className="max-w-xs"
    />
    
    <Select value={planFilter} onValueChange={setPlanFilter}>
      <SelectTrigger className="w-[160px]">
        <SelectValue placeholder="–¢–∞—Ä–∏—Ñ" />
      </SelectTrigger>
      <SelectContent>
        <SelectItem value="all">–í—Å–µ —Ç–∞—Ä–∏—Ñ—ã</SelectItem>
        <SelectItem value="FREE">üÜì FREE</SelectItem>
        <SelectItem value="STANDARD">üìä STANDARD</SelectItem>
        <SelectItem value="PRO">üìà PRO</SelectItem>
        <SelectItem value="ULTIMA">üöÄ ULTIMA</SelectItem>
        <SelectItem value="CUSTOM">‚öôÔ∏è CUSTOM</SelectItem>
      </SelectContent>
    </Select>
    
    <Select value={statusFilter} onValueChange={setStatusFilter}>
      <SelectTrigger className="w-[160px]">
        <SelectValue placeholder="–°—Ç–∞—Ç—É—Å" />
      </SelectTrigger>
      <SelectContent>
        <SelectItem value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</SelectItem>
        <SelectItem value="ACTIVE">‚úì –ê–∫—Ç–∏–≤–µ–Ω</SelectItem>
        <SelectItem value="TRIAL">‚è≥ Trial</SelectItem>
        <SelectItem value="PAST_DUE">‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–∫–∞</SelectItem>
        <SelectItem value="BLOCKED">‚äò –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</SelectItem>
      </SelectContent>
    </Select>
    
    <Popover>
      <PopoverTrigger asChild>
        <Button variant="outline" size="sm">
          <Calendar className="mr-2 h-4 w-4" />
          {dateRange ? formatDateRange(dateRange) : '–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏'}
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-auto p-0" align="start">
        <CalendarDateRangePicker
          value={dateRange}
          onChange={setDateRange}
        />
      </PopoverContent>
    </Popover>
    
    {/* Reset Filters */}
    {hasActiveFilters && (
      <Button
        variant="ghost"
        size="sm"
        onClick={resetFilters}
      >
        <X className="mr-2 h-4 w-4" />
        –°–±—Ä–æ—Å–∏—Ç—å
      </Button>
    )}
  </div>
</div>
```

**Backend API:**

```typescript
GET /api/v1/owner/tenants?plan=PRO&status=ACTIVE&search=pizza&from=2026-01-01&to=2026-02-16
```


***

## **üìã 7. TENANT DETAILS MODAL**

### **1Ô∏è‚É£6Ô∏è‚É£ Tenant Details Modal - –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –∫–ª–∏–∫–∞–µ—Ç "–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ–Ω–∞–Ω—Ç–µ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Å–µ–∫—Ü–∏–∏ –≤–∫–ª—é—á–∏—Ç—å –≤ –º–æ–¥–∞–ª?

**A)** Overview | Billing | Usage Stats | Activity Log
**B)** Basic Info | Subscription | Analytics | Support History
**C)** Overview | Billing | Analytics | Team Members | Activity Log
**D)** All of the above + Loyalty Settings + POS Integrations

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) 5 Tabs (Overview | Billing | Analytics | Team | Logs)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Overview** - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ç–∞–∫—Ç, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç—É—Å)
- ‚úÖ **Billing** - —Ç–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ, –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π, invoices
- ‚úÖ **Analytics** - MRR –æ—Ç —Ç–µ–Ω–∞–Ω—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ **Team Members** - —Å–ø–∏—Å–æ–∫ Admin/Manager/Cashier —ç—Ç–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
- ‚úÖ **Activity Log** - –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π (—Ñ–∏–ª—å—Ç—Ä –ø–æ —ç—Ç–æ–º—É —Ç–µ–Ω–∞–Ω—Ç—É)

**Modal UI:**

```tsx
<Dialog open={showDetailsModal} onOpenChange={setShowDetailsModal}>
  <DialogContent className="max-w-4xl max-h-[80vh] overflow-hidden">
    <DialogHeader>
      <DialogTitle className="flex items-center gap-3">
        <span className="text-2xl">{tenant.emoji}</span>
        <div>
          <div className="text-xl">{tenant.name}</div>
          <div className="text-sm text-secondary font-normal">
            ID: {tenant.id}
          </div>
        </div>
        <Badge variant={PLAN_VARIANTS[tenant.plan]} className="ml-auto">
          {tenant.plan}
        </Badge>
      </DialogTitle>
    </DialogHeader>
    
    <Tabs defaultValue="overview" className="flex-1">
      <TabsList className="grid w-full grid-cols-5">
        <TabsTrigger value="overview">–û–±–∑–æ—Ä</TabsTrigger>
        <TabsTrigger value="billing">–ü–ª–∞—Ç–µ–∂–∏</TabsTrigger>
        <TabsTrigger value="analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</TabsTrigger>
        <TabsTrigger value="team">–ö–æ–º–∞–Ω–¥–∞</TabsTrigger>
        <TabsTrigger value="logs">–õ–æ–≥–∏</TabsTrigger>
      </TabsList>
      
      <TabsContent value="overview" className="space-y-4">
        {/* Overview content */}
      </TabsContent>
      
      {/* Other tabs... */}
    </Tabs>
  </DialogContent>
</Dialog>
```


***

### **1Ô∏è‚É£7Ô∏è‚É£ Overview Tab - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤–∫–ª—é—á–∏—Ç—å –≤–æ –≤–∫–ª–∞–¥–∫—É "–û–±–∑–æ—Ä"?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

```tsx
<TabsContent value="overview" className="space-y-6">
  {/* Basic Info Card */}
  <Card>
    <CardHeader>
      <CardTitle>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>
    </CardHeader>
    <CardContent>
      <dl className="grid grid-cols-2 gap-4">
        <div>
          <dt className="text-sm text-secondary">–ù–∞–∑–≤–∞–Ω–∏–µ</dt>
          <dd className="font-medium">{tenant.name}</dd>
        </div>
        <div>
          <dt className="text-sm text-secondary">Slug</dt>
          <dd className="font-mono text-sm">{tenant.slug}</dd>
        </div>
        <div>
          <dt className="text-sm text-secondary">Email</dt>
          <dd>{tenant.contactEmail}</dd>
        </div>
        <div>
          <dt className="text-sm text-secondary">–¢–µ–ª–µ—Ñ–æ–Ω</dt>
          <dd>{tenant.contactPhone}</dd>
        </div>
        <div>
          <dt className="text-sm text-secondary">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</dt>
          <dd>{formatDate(tenant.createdAt)}</dd>
        </div>
        <div>
          <dt className="text-sm text-secondary">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç</dt>
          <dd>{formatRelative(tenant.lastActivityAt)}</dd>
        </div>
      </dl>
    </CardContent>
  </Card>
  
  {/* Quick Stats Grid */}
  <div className="grid grid-cols-4 gap-4">
    <Card>
      <CardContent className="p-4">
        <div className="text-2xl font-bold">{tenant.restaurantsCount}</div>
        <div className="text-sm text-secondary">–†–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</div>
      </CardContent>
    </Card>
    <Card>
      <CardContent className="p-4">
        <div className="text-2xl font-bold">{tenant.guestsCount}</div>
        <div className="text-sm text-secondary">–ì–æ—Å—Ç–µ–π</div>
      </CardContent>
    </Card>
    <Card>
      <CardContent className="p-4">
        <div className="text-2xl font-bold">{formatCurrency(tenant.mrr)}</div>
        <div className="text-sm text-secondary">MRR</div>
      </CardContent>
    </Card>
    <Card>
      <CardContent className="p-4">
        <div className="text-2xl font-bold">{tenant.transactionsCount}</div>
        <div className="text-sm text-secondary">–û–ø–µ—Ä–∞—Ü–∏–π/–º–µ—Å</div>
      </CardContent>
    </Card>
  </div>
  
  {/* Current Limits Usage */}
  <Card>
    <CardHeader>
      <CardTitle>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤</CardTitle>
    </CardHeader>
    <CardContent className="space-y-4">
      <LimitBar
        label="–†–µ—Å—Ç–æ—Ä–∞–Ω—ã"
        current={tenant.restaurantsCount}
        max={tenant.limits.maxRestaurants}
      />
      <LimitBar
        label="–ì–æ—Å—Ç–∏"
        current={tenant.guestsCount}
        max={tenant.limits.maxGuests}
      />
      <LimitBar
        label="POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        current={tenant.posIntegrationsCount}
        max={tenant.limits.maxPosIntegrations}
      />
    </CardContent>
  </Card>
  
  {/* Quick Actions */}
  <div className="flex gap-2">
    <Button onClick={() => impersonate(tenant.id)}>
      <UserCog className="mr-2 h-4 w-4" />
      –í–æ–π—Ç–∏ –∫–∞–∫ Admin
    </Button>
    <Button variant="outline" onClick={() => editTenant(tenant.id)}>
      <Edit className="mr-2 h-4 w-4" />
      –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    </Button>
    <Button variant="outline" onClick={() => viewAnalytics(tenant.id)}>
      <BarChart3 className="mr-2 h-4 w-4" />
      –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
    </Button>
  </div>
</TabsContent>
```

**LimitBar Component:**

```tsx
function LimitBar({ label, current, max }: LimitBarProps) {
  const percentage = max ? (current / max) * 100 : 0;
  const isNearLimit = percentage >= 90;
  
  return (
    <div>
      <div className="flex justify-between text-sm mb-2">
        <span>{label}</span>
        <span className={isNearLimit ? 'text-warning' : ''}>
          {current} / {max || '‚àû'}
        </span>
      </div>
      <Progress 
        value={percentage} 
        className={isNearLimit ? 'bg-warning/20' : ''}
      />
    </div>
  );
}
```


***

## **üí≥ 8. BILLING MANAGEMENT**

### **1Ô∏è‚É£8Ô∏è‚É£ Billing Tab - –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?**

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –≤–∫–ª—é—á–∏—Ç—å –≤–æ –≤–∫–ª–∞–¥–∫—É "–ü–ª–∞—Ç–µ–∂–∏"?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

```tsx
<TabsContent value="billing" className="space-y-6">
  {/* Current Subscription Card */}
  <Card>
    <CardHeader>
      <CardTitle>–¢–µ–∫—É—â–∞—è –ø–æ–¥–ø–∏—Å–∫–∞</CardTitle>
    </CardHeader>
    <CardContent>
      <div className="flex items-start justify-between">
        <div className="space-y-2">
          <div className="flex items-center gap-2">
            <Badge variant={PLAN_VARIANTS[subscription.plan]} className="text-lg">
              {subscription.plan}
            </Badge>
            <span className="text-2xl font-bold">
              {formatCurrency(subscription.priceMonthly)}/–º–µ—Å
            </span>
          </div>
          
          <dl className="grid grid-cols-2 gap-x-8 gap-y-2 text-sm">
            <div>
              <dt className="text-secondary">–°—Ç–∞—Ç—É—Å</dt>
              <dd className="font-medium">
                <StatusBadge status={subscription.status} />
              </dd>
            </div>
            <div>
              <dt className="text-secondary">–ü–µ—Ä–∏–æ–¥</dt>
              <dd>{subscription.billingPeriod === 'YEARLY' ? '–ì–æ–¥–æ–≤–∞—è' : '–ú–µ—Å—è—á–Ω–∞—è'}</dd>
            </div>
            <div>
              <dt className="text-secondary">–ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞</dt>
              <dd>{formatDate(subscription.currentPeriodStart)}</dd>
            </div>
            <div>
              <dt className="text-secondary">–ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞</dt>
              <dd>{formatDate(subscription.currentPeriodEnd)}</dd>
            </div>
            <div>
              <dt className="text-secondary">–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ</dt>
              <dd>{subscription.autoRenew ? '‚úì –í–∫–ª—é—á–µ–Ω–æ' : '‚úï –í—ã–∫–ª—é—á–µ–Ω–æ'}</dd>
            </div>
            <div>
              <dt className="text-secondary">–î–Ω–µ–π –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è</dt>
              <dd>{daysUntilRenewal(subscription.currentPeriodEnd)}</dd>
            </div>
          </dl>
        </div>
        
        <Button variant="outline" onClick={() => changePlan(tenant.id)}>
          <Edit className="mr-2 h-4 w-4" />
          –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ
        </Button>
      </div>
    </CardContent>
  </Card>
  
  {/* Payment History */}
  <Card>
    <CardHeader>
      <CardTitle>–ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</CardTitle>
    </CardHeader>
    <CardContent>
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>–î–∞—Ç–∞</TableHead>
            <TableHead>–°—É–º–º–∞</TableHead>
            <TableHead>–ú–µ—Ç–æ–¥</TableHead>
            <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
            <TableHead>Invoice</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {payments.map((payment) => (
            <TableRow key={payment.id}>
              <TableCell>{formatDate(payment.createdAt)}</TableCell>
              <TableCell className="font-medium">
                {formatCurrency(payment.amount)}
              </TableCell>
              <TableCell>
                <PaymentMethodBadge provider={payment.provider} />
              </TableCell>
              <TableCell>
                <PaymentStatusBadge status={payment.status} />
              </TableCell>
              <TableCell>
                <Button variant="ghost" size="sm" asChild>
                  <a href={`/invoices/${payment.invoiceId}`} target="_blank">
                    <Download className="h-4 w-4" />
                  </a>
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </CardContent>
  </Card>
  
  {/* Billing Alerts (if any) */}
  {billingAlerts.length > 0 && (
    <Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <AlertTriangle className="h-5 w-5 text-warning" />
          –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
        </CardTitle>
      </CardHeader>
      <CardContent className="space-y-2">
        {billingAlerts.map((alert) => (
          <Alert key={alert.id} variant={alert.severity}>
            <AlertDescription>{alert.message}</AlertDescription>
          </Alert>
        ))}
      </CardContent>
    </Card>
  )}
</TabsContent>
```


***

### **1Ô∏è‚É£9Ô∏è‚É£ Change Plan Modal - –∫–∞–∫ Owner –º–µ–Ω—è–µ—Ç —Ç–∞—Ä–∏—Ñ —Ç–µ–Ω–∞–Ω—Ç—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –º–æ–∂–µ—Ç upgrade/downgrade —Ç–∞—Ä–∏—Ñ —Ç–µ–Ω–∞–Ω—Ç–∞, —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ª–∏–º–∏—Ç—ã –∏ MRR.[^7_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è —Å–º–µ–Ω—ã —Ç–∞—Ä–∏—Ñ–∞?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Plan Comparison Table + Confirmation**

```tsx
<Dialog open={showChangePlanModal} onOpenChange={setShowChangePlanModal}>
  <DialogContent className="max-w-3xl">
    <DialogHeader>
      <DialogTitle>–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ –¥–ª—è {tenant.name}</DialogTitle>
      <DialogDescription>
        –¢–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ: <Badge>{currentPlan}</Badge>
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-4">
      {/* Plan Selection */}
      <RadioGroup value={selectedPlan} onValueChange={setSelectedPlan}>
        {PLANS.map((plan) => (
          <Card 
            key={plan.name}
            className={cn(
              "cursor-pointer transition",
              selectedPlan === plan.name && "border-primary"
            )}
          >
            <CardContent className="p-4">
              <RadioGroupItem value={plan.name} id={plan.name} className="sr-only" />
              <label htmlFor={plan.name} className="cursor-pointer">
                <div className="flex items-start justify-between">
                  <div className="space-y-2 flex-1">
                    <div className="flex items-center gap-2">
                      <span className="text-xl">{plan.icon}</span>
                      <span className="font-semibold">{plan.name}</span>
                      {plan.name === currentPlan && (
                        <Badge variant="outline" size="sm">–¢–µ–∫—É—â–∏–π</Badge>
                      )}
                    </div>
                    
                    <div className="grid grid-cols-3 gap-4 text-sm">
                      <div>
                        <span className="text-secondary">–†–µ—Å—Ç–æ—Ä–∞–Ω—ã: </span>
                        <span className="font-medium">{plan.maxRestaurants || '‚àû'}</span>
                      </div>
                      <div>
                        <span className="text-secondary">–ì–æ—Å—Ç–∏: </span>
                        <span className="font-medium">{plan.maxGuests || '‚àû'}</span>
                      </div>
                      <div>
                        <span className="text-secondary">POS: </span>
                        <span className="font-medium">{plan.maxPOS || '‚àû'}</span>
                      </div>
                    </div>
                  </div>
                  
                  <div className="text-right">
                    <div className="text-2xl font-bold">
                      {formatCurrency(plan.priceMonthly)}
                    </div>
                    <div className="text-sm text-secondary">/–º–µ—Å—è—Ü</div>
                  </div>
                </div>
              </label>
            </CardContent>
          </Card>
        ))}
      </RadioGroup>
      
      {/* Impact Summary */}
      {selectedPlan !== currentPlan && (
        <Alert>
          <Info className="h-4 w-4" />
          <AlertDescription>
            <strong>–ò–∑–º–µ–Ω–µ–Ω–∏—è:</strong>
            <ul className="mt-2 space-y-1 text-sm">
              <li>‚Ä¢ MRR –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ {calculateMRRDiff(currentPlan, selectedPlan)}</li>
              <li>‚Ä¢ –ù–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ</li>
              <li>‚Ä¢ {isUpgrade ? '–î–æ–ø–ª–∞—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –æ—Å—Ç–∞–≤—à–∏–º—Å—è –¥–Ω—è–º' : '–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–∏–æ–¥'}</li>
            </ul>
          </AlertDescription>
        </Alert>
      )}
      
      {/* Reason (required) */}
      <div>
        <Label htmlFor="reason">–ü—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è *</Label>
        <Textarea
          id="reason"
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∏–ª upgrade –∏–∑-–∑–∞ —Ä–æ—Å—Ç–∞ –±–∏–∑–Ω–µ—Å–∞"
          value={reason}
          onChange={(e) => setReason(e.target.value)}
          required
        />
      </div>
    </div>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowChangePlanModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button
        onClick={handleChangePlan}
        disabled={!selectedPlan || selectedPlan === currentPlan || !reason}
      >
        –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

## **‚ö° 9. REAL-TIME UPDATES \& NOTIFICATIONS**

### **2Ô∏è‚É£0Ô∏è‚É£ Real-time Updates - –∫–∞–∫ Owner –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è live?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ö–æ–≥–¥–∞ —Ç–µ–Ω–∞–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è, –¥–µ–ª–∞–µ—Ç –ø–ª–∞—Ç—ë–∂, –º–µ–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - Owner –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è real-time?

**A)** Polling (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ fetch –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
**B)** Server-Sent Events (SSE) - server push updates
**C)** WebSockets - bidirectional connection
**D)** Long Polling - –¥–µ—Ä–∂–∞—Ç—å connection –æ—Ç–∫—Ä—ã—Ç—ã–º

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Server-Sent Events (SSE)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ü—Ä–æ—â–µ —á–µ–º WebSockets** - unidirectional (server ‚Üí client), –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ bidirectional
- ‚úÖ **Automatic reconnection** - –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- ‚úÖ **HTTP-based** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ firewall/proxy –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **Event types** - –º–æ–∂–Ω–æ —Å–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π (new_tenant, payment_received, etc.)
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ** - —É–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤ –ë–µ—Å–µ–¥–µ 8[^7_1]

**Frontend (EventSource):**

```tsx
// hooks/useOwnerLiveUpdates.ts
export function useOwnerLiveUpdates() {
  const queryClient = useQueryClient();
  
  useEffect(() => {
    const eventSource = new EventSource('/api/v1/owner/live-updates', {
      withCredentials: true
    });
    
    // New tenant registered
    eventSource.addEventListener('new_tenant', (event) => {
      const tenant = JSON.parse(event.data);
      
      toast.success(`–ù–æ–≤—ã–π —Ç–µ–Ω–∞–Ω—Ç: ${tenant.name}`, {
        description: `–¢–∞—Ä–∏—Ñ: ${tenant.plan}`,
        action: {
          label: '–ü—Ä–æ—Å–º–æ—Ç—Ä',
          onClick: () => viewTenant(tenant.id)
        }
      });
      
      // Invalidate queries to refetch
      queryClient.invalidateQueries(['tenants']);
      queryClient.invalidateQueries(['metrics']);
    });
    
    // Payment received
    eventSource.addEventListener('payment_received', (event) => {
      const payment = JSON.parse(event.data);
      
      toast.success(`–ü–ª–∞—Ç—ë–∂ –ø–æ–ª—É—á–µ–Ω: ${formatCurrency(payment.amount)}`, {
        description: `–û—Ç: ${payment.tenantName}`
      });
      
      queryClient.invalidateQueries(['payments']);
      queryClient.invalidateQueries(['mrr']);
    });
    
    // Churn alert (tenant cancelled)
    eventSource.addEventListener('tenant_cancelled', (event) => {
      const data = JSON.parse(event.data);
      
      toast.error(`–¢–µ–Ω–∞–Ω—Ç –æ—Ç–º–µ–Ω–∏–ª –ø–æ–¥–ø–∏—Å–∫—É: ${data.tenantName}`, {
        description: `–ü—Ä–∏—á–∏–Ω–∞: ${data.reason}`,
        action: {
          label: '–°–≤—è–∑–∞—Ç—å—Å—è',
          onClick: () => contactTenant(data.tenantId)
        }
      });
      
      queryClient.invalidateQueries(['tenants']);
      queryClient.invalidateQueries(['churn']);
    });
    
    // Connection errors
    eventSource.onerror = (error) => {
      console.error('SSE connection error:', error);
      // EventSource will auto-reconnect
    };
    
    return () => {
      eventSource.close();
    };
  }, [queryClient]);
}

// Usage in OwnerDashboard
export default function OwnerDashboard() {
  useOwnerLiveUpdates(); // Setup SSE
  
  return (
    <div>
      {/* Dashboard content */}
    </div>
  );
}
```

**Backend (NestJS SSE):**

```typescript
// owner.controller.ts
@Controller('owner')
export class OwnerController {
  @Sse('live-updates')
  @UseGuards(JwtAuthGuard, RolesGuard)
  @Roles('OWNER')
  liveUpdates(@CurrentUser() user: User): Observable<MessageEvent> {
    return this.ownerService.subscribeToUpdates(user.id);
  }
}

// owner.service.ts
@Injectable()
export class OwnerService {
  private eventSubjects = new Map<string, Subject<MessageEvent>>();
  
  subscribeToUpdates(ownerId: string): Observable<MessageEvent> {
    const subject = new Subject<MessageEvent>();
    this.eventSubjects.set(ownerId, subject);
    
    // Cleanup on disconnect
    return subject.asObservable().pipe(
      finalize(() => {
        this.eventSubjects.delete(ownerId);
      })
    );
  }
  
  // Called when tenant created
  async broadcastNewTenant(tenant: Tenant) {
    const event: MessageEvent = {
      type: 'new_tenant',
      data: JSON.stringify({
        id: tenant.id,
        name: tenant.name,
        plan: tenant.plan,
        createdAt: tenant.createdAt
      })
    };
    
    // Send to all connected owners
    this.eventSubjects.forEach((subject) => {
      subject.next(event);
    });
  }
  
  // Similar for other events...
}
```

**Auto-refresh indicator:**

```tsx
<div className="flex items-center gap-2 text-sm text-secondary">
  <div className="w-2 h-2 bg-success rounded-full animate-pulse" />
  <span>Live updates</span>
</div>
```


***

### **2Ô∏è‚É£1Ô∏è‚É£ Notifications Bell - –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç—å Owner?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–Ω–æ–≤—ã–π —Ç–µ–Ω–∞–Ω—Ç, –ø–ª–∞—Ç—ë–∂ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω, –ª–∏–º–∏—Ç—ã –ø—Ä–µ–≤—ã—à–µ–Ω—ã, etc.).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–∫–∞–∑–∞—Ç—å –≤ Bell Dropdown?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

```typescript
enum OwnerNotificationType {
  NEW_TENANT = 'new_tenant',              // üéâ –ù–æ–≤—ã–π —Ç–µ–Ω–∞–Ω—Ç
  PAYMENT_RECEIVED = 'payment_received',  // üí∞ –ü–ª–∞—Ç—ë–∂ –ø–æ–ª—É—á–µ–Ω
  PAYMENT_FAILED = 'payment_failed',      // ‚ùå –ü–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª
  TENANT_CANCELLED = 'tenant_cancelled',  // üìâ –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
  LIMIT_EXCEEDED = 'limit_exceeded',      // ‚ö†Ô∏è –õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω
  HIGH_CHURN_ALERT = 'high_churn_alert',  // üìõ –í—ã—Å–æ–∫–∏–π Churn
  SYSTEM_ERROR = 'system_error'           // üî• –°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞
}
```

**UI (Bell Dropdown):**

```tsx
<Popover>
  <PopoverTrigger asChild>
    <Button variant="ghost" size="icon" className="relative">
      <Bell className="h-5 w-5" />
      {unreadCount > 0 && (
        <span className="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
          {unreadCount}
        </span>
      )}
    </Button>
  </PopoverTrigger>
  
  <PopoverContent className="w-[400px] p-0" align="end">
    <div className="flex items-center justify-between p-4 border-b">
      <h3 className="font-semibold">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
      {unreadCount > 0 && (
        <Button 
          variant="ghost" 
          size="sm"
          onClick={markAllAsRead}
        >
          –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ
        </Button>
      )}
    </div>
    
    <ScrollArea className="h-[400px]">
      {notifications.length === 0 ? (
        <div className="p-8 text-center text-secondary">
          <Bell className="h-12 w-12 mx-auto mb-2 opacity-50" />
          <p>–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        </div>
      ) : (
        <div className="divide-y">
          {notifications.map((notification) => (
            <div
              key={notification.id}
              className={cn(
                "p-4 hover:bg-card-hover transition cursor-pointer",
                !notification.readAt && "bg-primary/5"
              )}
              onClick={() => handleNotificationClick(notification)}
            >
              <div className="flex gap-3">
                <div className="flex-shrink-0">
                  {NOTIFICATION_ICONS[notification.type]}
                </div>
                <div className="flex-1 space-y-1">
                  <p className="text-sm font-medium">
                    {notification.title}
                  </p>
                  <p className="text-sm text-secondary">
                    {notification.message}
                  </p>
                  <p className="text-xs text-secondary">
                    {formatRelative(notification.createdAt)}
                  </p>
                </div>
                {!notification.readAt && (
                  <div className="flex-shrink-0">
                    <div className="w-2 h-2 bg-primary rounded-full" />
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      )}
    </ScrollArea>
    
    <div className="p-2 border-t">
      <Button variant="ghost" size="sm" className="w-full" asChild>
        <Link href="/owner/notifications">
          –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ
        </Link>
      </Button>
    </div>
  </PopoverContent>
</Popover>
```


***

## **üì± 10. MOBILE RESPONSIVENESS**

### **2Ô∏è‚É£2Ô∏è‚É£ Mobile View - –∫–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Owner Dashboard –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –º–æ–∂–µ—Ç –∑–∞—Ö–æ–¥–∏—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç—Ä–∏–∫.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å dashboard –¥–ª—è mobile?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Breakpoint strategy:**

```typescript
// Mobile: < 768px
// Tablet: 768px - 1024px  
// Desktop: > 1024px
```

**Mobile Layout (< 768px):**

```tsx
<div className="pb-20"> {/* Space for bottom nav */}
  {/* KPI Metrics - 2 columns */}
  <div className="grid grid-cols-2 gap-3 p-4">
    <MetricCard {...} />
    <MetricCard {...} />
    <MetricCard {...} />
    <MetricCard {...} />
  </div>
  
  {/* Charts - Full width, stacked */}
  <div className="space-y-4 p-4">
    <Card>
      <CardHeader>
        <CardTitle className="text-base">MRR Trend</CardTitle>
      </CardHeader>
      <CardContent>
        <ResponsiveContainer width="100%" height={200}>
          {/* Simplified chart with fewer labels */}
        </ResponsiveContainer>
      </CardContent>
    </Card>
  </div>
  
  {/* Tenants Table ‚Üí Cards */}
  <div className="space-y-3 p-4">
    <h2 className="text-lg font-semibold">–¢–µ–Ω–∞–Ω—Ç—ã</h2>
    {tenants.map((tenant) => (
      <TenantMobileCard key={tenant.id} tenant={tenant} />
    ))}
  </div>
</div>
```

**TenantMobileCard:**

```tsx
<Card 
  className="cursor-pointer"
  onClick={() => viewTenant(tenant.id)}
>
  <CardContent className="p-4">
    <div className="flex items-start justify-between mb-3">
      <div className="flex items-center gap-2">
        <span className="text-2xl">{tenant.emoji}</span>
        <div>
          <div className="font-medium">{tenant.name}</div>
          <div className="text-sm text-secondary">{tenant.contactEmail}</div>
        </div>
      </div>
      <Badge variant={PLAN_VARIANTS[tenant.plan]}>
        {tenant.plan}
      </Badge>
    </div>
    
    <div className="grid grid-cols-2 gap-3 text-sm">
      <div>
        <div className="text-secondary">–ì–æ—Å—Ç–∏</div>
        <div className="font-medium">{tenant.guestsCount}</div>
      </div>
      <div>
        <div className="text-secondary">MRR</div>
        <div className="font-medium">{formatCurrency(tenant.mrr)}</div>
      </div>
    </div>
    
    <div className="mt-3 flex items-center justify-between">
      <span className={STATUS_DISPLAY[tenant.status].color}>
        {STATUS_DISPLAY[tenant.status].icon} {STATUS_DISPLAY[tenant.status].text}
      </span>
      <ChevronRight className="h-4 w-4 text-secondary" />
    </div>
  </CardContent>
</Card>
```


***

## **üì§ 11. EXPORT \& REPORTING**

### **2Ô∏è‚É£3Ô∏è‚É£ Export Dashboard Data - –≤ –∫–∞–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel/–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã export –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å?

**A)** CSV only
**B)** CSV + XLSX (Excel)
**C)** CSV + XLSX + PDF
**D)** CSV + XLSX + PDF + JSON

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) CSV + XLSX + PDF**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **CSV** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–µ–∑–¥–µ, –ª—ë–≥–∫–∏–π
- ‚úÖ **XLSX** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ñ–æ—Ä–º—É–ª—ã, –≥—Ä–∞—Ñ–∏–∫–∏ (–¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π)
- ‚úÖ **PDF** - –¥–ª—è –ø–µ—á–∞—Ç–∏/–æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞–º, immutable

**Export Button:**

```tsx
<DropdownMenu>
  <DropdownMenuTrigger asChild>
    <Button variant="outline">
      <Download className="mr-2 h-4 w-4" />
      –≠–∫—Å–ø–æ—Ä—Ç
    </Button>
  </DropdownMenuTrigger>
  <DropdownMenuContent align="end">
    <DropdownMenuLabel>–§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞</DropdownMenuLabel>
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={() => exportData('csv')}>
      <FileText className="mr-2 h-4 w-4" />
      CSV (—Ç–∞–±–ª–∏—Ü–∞)
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={() => exportData('xlsx')}>
      <FileSpreadsheet className="mr-2 h-4 w-4" />
      XLSX (Excel)
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={() => exportData('pdf')}>
      <FileDown className="mr-2 h-4 w-4" />
      PDF (–æ—Ç—á—ë—Ç)
    </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>
```

**Backend:**

```typescript
@Get('export')
@Roles('OWNER')
async exportDashboard(
  @Query('format') format: 'csv' | 'xlsx' | 'pdf',
  @Query('from') from: string,
  @Query('to') to: string,
  @Res() res: Response
) {
  const data = await this.ownerService.getDashboardData(from, to);
  
  switch (format) {
    case 'csv':
      const csv = this.csvService.generate(data);
      res.setHeader('Content-Type', 'text/csv');
      res.setHeader('Content-Disposition', `attachment; filename=dashboard-${Date.now()}.csv`);
      return res.send(csv);
      
    case 'xlsx':
      const xlsx = await this.excelService.generate(data);
      res.setHeader('Content-Type', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
      res.setHeader('Content-Disposition', `attachment; filename=dashboard-${Date.now()}.xlsx`);
      return res.send(xlsx);
      
    case 'pdf':
      const pdf = await this.pdfService.generateReport(data);
      res.setHeader('Content-Type', 'application/pdf');
      res.setHeader('Content-Disposition', `attachment; filename=dashboard-${Date.now()}.pdf`);
      return res.send(pdf);
  }
}
```


***

### **2Ô∏è‚É£4Ô∏è‚É£ Scheduled Reports - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π/–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç –Ω–∞ email –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ª–∏ scheduled reports?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ Owner Settings**

**Settings UI:**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã</CardTitle>
    <CardDescription>
      –ü–æ–ª—É—á–∞–π—Ç–µ —Å–≤–æ–¥–∫—É –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –Ω–∞ email
    </CardDescription>
  </CardHeader>
  <CardContent className="space-y-4">
    <div className="flex items-center justify-between">
      <div>
        <div className="font-medium">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç</div>
        <div className="text-sm text-secondary">
          –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00 MSK
        </div>
      </div>
      <Switch
        checked={settings.weeklyReport}
        onCheckedChange={(checked) => updateSettings({ weeklyReport: checked })}
      />
    </div>
    
    <div className="flex items-center justify-between">
      <div>
        <div className="font-medium">–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç</div>
        <div className="text-sm text-secondary">
          1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 09:00 MSK
        </div>
      </div>
      <Switch
        checked={settings.monthlyReport}
        onCheckedChange={(checked) => updateSettings({ monthlyReport: checked })}
      />
    </div>
    
    <Separator />
    
    <div>
      <Label>Email –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤</Label>
      <Input
        type="email"
        value={settings.reportEmail}
        onChange={(e) => updateSettings({ reportEmail: e.target.value })}
        placeholder="owner@example.com"
      />
    </div>
    
    <div>
      <Label>–§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞</Label>
      <Select 
        value={settings.reportFormat} 
        onValueChange={(value) => updateSettings({ reportFormat: value })}
      >
        <SelectTrigger>
          <SelectValue />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="pdf">PDF (—É–¥–æ–±–Ω–æ –¥–ª—è –ø–µ—á–∞—Ç–∏)</SelectItem>
          <SelectItem value="xlsx">XLSX (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel)</SelectItem>
        </SelectContent>
      </Select>
    </div>
  </CardContent>
</Card>
```

**CRON Job (Backend):**

```typescript
@Injectable()
export class ReportsService {
  @Cron('0 9 * * MON') // Every Monday at 9 AM
  async sendWeeklyReports() {
    const owners = await this.prisma.user.findMany({
      where: { 
        role: 'OWNER',
        settings: { path: ['weeklyReport'], equals: true }
      }
    });
    
    for (const owner of owners) {
      const data = await this.getDashboardData(
        subDays(new Date(), 7),
        new Date()
      );
      
      const report = await this.generateReport(data, 'weekly');
      
      await this.emailProvider.send({
        to: owner.email,
        subject: `üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç Max Loyalty`,
        template: 'weekly-report',
        attachments: [{
          filename: `weekly-report-${format(new Date(), 'yyyy-MM-dd')}.pdf`,
          content: report
        }]
      });
    }
  }
}
```


***

## **üéØ 12. ALERTS \& MONITORING**

### **2Ô∏è‚É£5Ô∏è‚É£ Critical Alerts - –∫–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –ø–æ–∫–∞–∑–∞—Ç—å Owner?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Owner –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–≤–µ–¥–æ–º–ª—ë–Ω –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö (–≤—ã—Å–æ–∫–∏–π Churn, –ø–ª–∞—Ç—ë–∂ failed, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã —Å—á–∏—Ç–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏ –∏ –∫–∞–∫ –∏—Ö –ø–æ–∫–∞–∑–∞—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Critical Alerts:**

```typescript
enum CriticalAlert {
  HIGH_CHURN = 'high_churn',             // Churn > 5% –∑–∞ –º–µ—Å—è—Ü
  PAYMENT_FAILURES = 'payment_failures', // >10 –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –¥–µ–Ω—å
  SYSTEM_DOWN = 'system_down',           // API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω >5 –º–∏–Ω—É—Ç
  DATABASE_SLOW = 'database_slow',       // Query time >1s
  DISK_SPACE = 'disk_space',             // –°–≤–æ–±–æ–¥–Ω–æ <10%
  SECURITY_BREACH = 'security_breach'    // –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
}
```

**Alert Banner (Fixed Top):**

```tsx
{criticalAlerts.length > 0 && (
  <div className="fixed top-0 left-0 right-0 z-50 bg-danger text-white">
    <div className="container mx-auto px-4 py-3">
      <div className="flex items-center gap-3">
        <AlertTriangle className="h-5 w-5 animate-pulse" />
        <div className="flex-1">
          <div className="font-semibold">
            –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
          </div>
          <div className="text-sm">
            {criticalAlerts[^7_0].message}
          </div>
        </div>
        <Button
          size="sm"
          variant="outline"
          className="bg-white text-danger"
          onClick={() => viewAlertDetails(criticalAlerts[^7_0])}
        >
          –ü–æ–¥—Ä–æ–±–Ω–µ–µ
        </Button>
        <Button
          size="sm"
          variant="ghost"
          onClick={dismissAlert}
        >
          <X className="h-4 w-4" />
        </Button>
      </div>
    </div>
  </div>
)}
```

**Alerts Section on Dashboard:**

```tsx
{alerts.length > 0 && (
  <Card className="border-warning">
    <CardHeader>
      <CardTitle className="flex items-center gap-2">
        <AlertTriangle className="h-5 w-5 text-warning" />
        –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è ({alerts.length})
      </CardTitle>
    </CardHeader>
    <CardContent className="space-y-2">
      {alerts.map((alert) => (
        <Alert key={alert.id} variant={alert.severity}>
          <AlertDescription className="flex items-start justify-between">
            <div className="flex-1">
              <div className="font-medium">{alert.title}</div>
              <div className="text-sm mt-1">{alert.message}</div>
            </div>
            <Button
              size="sm"
              variant="ghost"
              onClick={() => resolveAlert(alert.id)}
            >
              –†–µ—à–∏—Ç—å
            </Button>
          </AlertDescription>
        </Alert>
      ))}
    </CardContent>
  </Card>
)}
```


***

# üéâ **–ò–¢–û–ì–û: 25 –í–û–ü–†–û–°–û–í –†–ï–®–ï–ù–´!**

## **–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Owner Dashboard:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [Impersonation Banner - –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω]                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Top Bar: Logo | Search (Cmd+K) | Notifications | Profile‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Critical Alerts Banner - –µ—Å–ª–∏ –µ—Å—Ç—å]                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ 1. KEY METRICS (4 –∫–∞—Ä—Ç–æ—á–∫–∏)                             ‚îÇ
‚îÇ    üí∞ MRR | üìâ Churn | üè¢ Tenants | üìà Growth          ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ 2. REVENUE CHARTS (2 columns)                           ‚îÇ
‚îÇ    ‚îú‚îÄ MRR Trend (Bar+Line)                              ‚îÇ
‚îÇ    ‚îî‚îÄ Revenue by Plan (Donut)                           ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ 3. ALERTS (if any)                                      ‚îÇ
‚îÇ    ‚ö†Ô∏è High Churn / Payment Failures / etc.             ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ 4. TENANTS TABLE                                        ‚îÇ
‚îÇ    [Filters] [Quick Filters] [Export]                   ‚îÇ
‚îÇ    ‚îÇ Name | Plan | Guests | MRR | Status | Actions ‚îÇ   ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ 5. BILLING SUMMARY                                      ‚îÇ
‚îÇ    Active Subscriptions (Cards Grid)                    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ 6. ACTIVITY LOG                                         ‚îÇ
‚îÇ    Recent actions across platform                       ‚îÇ
‚îÇ                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**

- Next.js 14 + shadcn/ui (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- TanStack Query (data fetching)
- TanStack Table (tenants table)
- Recharts (charts)
- Server-Sent Events (real-time)
- date-fns (dates)

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ

<div align="center">‚ÅÇ</div>

[^7_1]: Beseda-8.md

[^7_2]: Beseda-11.md

[^7_3]: Max-Loyalty-Dashboard.html


---

# üìã **OWNER PLATFORM DASHBOARD - –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–®–ï–ù–ò–Ø –ü–û 25 –í–û–ü–†–û–°–ê–ú**


***

## **üìä 1. DASHBOARD LAYOUT \& STRUCTURE**

### **–í–æ–ø—Ä–æ—Å 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã Owner Dashboard**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Single Page —Å —Å–µ–∫—Ü–∏—è–º–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Owner –≤–∏–¥–∏—Ç –≤—Å—é –∫–∞—Ä—Ç–∏–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å—Ä–∞–∑—É –±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏
- –°–µ–∫—Ü–∏–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã: KPIs ‚Üí Charts ‚Üí Tenants ‚Üí Billing ‚Üí Logs
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä—É Max-Loyalty-Dashboard.html –∏–∑ —Ç–≤–æ–∏—Ö —Ñ–∞–π–ª–æ–≤
- Scroll –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–µ–Ω –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤ —Å –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º –¥–∞–Ω–Ω—ã—Ö
- Drill-down —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
1. KEY METRICS (4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥)
2. REVENUE CHARTS (Grid 2 columns)
3. ALERTS (–µ—Å–ª–∏ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)
4. TENANTS TABLE (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º)
5. BILLING SUMMARY (Active Subscriptions)
6. ACTIVITY LOG (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è)
```


***

### **–í–æ–ø—Ä–æ—Å 2: Top KPI Metrics - –∫–∞–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** MRR | Churn Rate | Active Tenants | Revenue Growth

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **MRR (Monthly Recurring Revenue)** - –≥–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥
- **Churn Rate** - –∫—Ä–∏—Ç–∏—á–Ω–∞—è –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –±–∏–∑–Ω–µ—Å–∞ (–µ—Å–ª–∏ Churn > 5% ‚Üí alarm)
- **Active Tenants** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞—Ç—è—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø—Ä—è–º–æ –≤–ª–∏—è–µ—Ç –Ω–∞ MRR)
- **Revenue Growth** - —Ç—Ä–µ–Ω–¥ —Ä–æ—Å—Ç–∞ –≤ % –∫ –ø—Ä–æ—à–ª–æ–º—É –º–µ—Å—è—Ü—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞–∑–≤–∏—Ç–∏—è

**–í–∏–∑—É–∞–ª:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ –ú–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥    ‚îÇ  ‚îÇ üìâ Churn Rate        ‚îÇ
‚îÇ 2.34M‚ÇΩ               ‚îÇ  ‚îÇ 3.2%                 ‚îÇ
‚îÇ ‚Üë +12.4% –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üì -0.5% (—É–ª—É—á—à–µ–Ω–∏–µ)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã  ‚îÇ  ‚îÇ üìà –†–æ—Å—Ç –≤—ã—Ä—É—á–∫–∏      ‚îÇ
‚îÇ 24                   ‚îÇ  ‚îÇ +18.2%               ‚îÇ
‚îÇ ‚Üë +2 –∑–∞ –º–µ—Å—è—Ü        ‚îÇ  ‚îÇ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **–í–æ–ø—Ä–æ—Å 3: –§–∏–ª—å—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Global —Ñ–∏–ª—å—Ç—Ä (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª) + Custom Date Range

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Global —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º—É –¥–∞—à–±–æ—Ä–¥—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- Preset –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (Today, Last 7/30 days, Last 3/12 months, YTD)
- Custom Range –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –Ω–∞ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–¥–µ–ª—å–Ω–æ

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**

```tsx
üìÖ [Last 30 days ‚ñº]
   ‚îú‚îÄ Today
   ‚îú‚îÄ Last 7 days
   ‚îú‚îÄ Last 30 days ‚úì
   ‚îú‚îÄ Last 3 months
   ‚îú‚îÄ Last 12 months
   ‚îú‚îÄ Year to Date
   ‚îî‚îÄ Custom Range... ‚Üí Modal —Å date picker
```


***

## **üìà 2. CHARTS \& VISUALIZATION**

### **–í–æ–ø—Ä–æ—Å 4: MRR Trend Chart - –∫–∞–∫–æ–π —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Combined Chart (Bar –¥–ª—è MRR + Line –¥–ª—è Growth %)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Bar Chart –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è MRR (–≤—ã—Å–æ—Ç–∞ —Å—Ç–æ–ª–±—Ü–∞ = –¥–µ–Ω—å–≥–∏)
- Line Chart –Ω–∞ –≤—Ç–æ—Ä–æ–π –æ—Å–∏ Y –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–º–ø —Ä–æ—Å—Ç–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- Owner —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã, –∏ –¥–∏–Ω–∞–º–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í–∏–∑—É–∞–ª—å–Ω–æ –±–æ–≥–∞—á–µ —á–µ–º –ø—Ä–æ—Å—Ç–æ–π Line –∏–ª–∏ Bar
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices SaaS –¥–∞—à–±–æ—Ä–¥–æ–≤

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Recharts ComposedChart —Å –¥–≤—É–º—è Y-–æ—Å—è–º–∏

***

### **–í–æ–ø—Ä–æ—Å 5: Revenue by Plan Distribution - Pie –∏–ª–∏ Donut?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Donut Chart —Å Total MRR –≤ —Ü–µ–Ω—Ç—Ä–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Donut –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–µ–µ —á–µ–º –æ–±—ã—á–Ω—ã–π Pie
- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ (Total MRR) –≤–∏–¥–Ω–∞ —Å—Ä–∞–∑—É –±–µ–∑ –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ö–æ–º–ø–∞–∫—Ç–µ–Ω - –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ —á–µ–º Bar Chart
- –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è SaaS –¥–∞—à–±–æ—Ä–¥–æ–≤ (Stripe, Baremetrics –∏—Å–ø–æ–ª—å–∑—É—é—Ç Donut)
- –ö–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ —Å–≤–æ–∏–º —Ü–≤–µ—Ç–æ–º: FREE (—Å–µ—Ä—ã–π), STANDARD (—Å–∏–Ω–∏–π), PRO (–∑–µ–ª—ë–Ω—ã–π), ULTIMA (–æ—Ä–∞–Ω–∂–µ–≤—ã–π), CUSTOM (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)

***

### **–í–æ–ø—Ä–æ—Å 6: Churn Analysis - –∫–∞–∫ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç—Ç–æ–∫–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Horizontal Bar Chart (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–º–µ–Ω –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å - –¥–ª–∏–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –ø—Ä–∏—á–∏–Ω –ø–æ–º–µ—â–∞—é—Ç—Å—è —Å–ª–µ–≤–∞
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—á–µ–≤–∏–¥–Ω–æ - –¥–ª–∏–Ω–∞ –±–∞—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤
- Sortable –ø–æ —É–±—ã–≤–∞–Ω–∏—é - —Ç–æ–ø-–ø—Ä–∏—á–∏–Ω—ã —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã
- Actionable - Owner –ø–æ–Ω–∏–º–∞–µ—Ç –Ω–∞–¥ —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Too expensive" ‚Üí –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞—Ä–∏—Ñ—ã)

**–ü—Ä–∏–º–µ—Ä:**

```
Too expensive          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 12
Not using features     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 8
Technical issues       ‚ñà‚ñà‚ñà‚ñà 4
Found competitor       ‚ñà‚ñà‚ñà 3
Other                  ‚ñà‚ñà 2
```


***

## **üè¢ 3. TENANTS TABLE**

### **–í–æ–ø—Ä–æ—Å 7: Tenants Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ù–∞–∑–≤–∞–Ω–∏–µ | –¢–∞—Ä–∏—Ñ | –ì–æ—Å—Ç–∏ | –î–æ—Ö–æ–¥ (–º–µ—Å) | –°—Ç–∞—Ç—É—Å | –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–ª–∞—Ç—ë–∂ | –î–µ–π—Å—Ç–≤–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–ù–∞–∑–≤–∞–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏** (üçï, üçî) - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ
- **–¢–∞—Ä–∏—Ñ** - Badge —Å —Ü–≤–µ—Ç–æ–º –ø–ª–∞–Ω–∞
- **–ì–æ—Å—Ç–∏** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–µ–Ω–∞–Ω—Ç–∞ (–±–∏–∑–Ω–µ—Å —Ä–∞—Å—Ç—ë—Ç –∏–ª–∏ —Å—Ç–∞–≥–Ω–∏—Ä—É–µ—Ç)
- **–î–æ—Ö–æ–¥ (–º–µ—Å—è—Ü)** - MRR –æ—Ç —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
- **–°—Ç–∞—Ç—É—Å** - ‚úì –ê–∫—Ç–∏–≤–µ–Ω / ‚úï –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω / ‚è≥ Trial / ‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–∫–∞
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–ª–∞—Ç—ë–∂** - "2 –¥–Ω—è –Ω–∞–∑–∞–¥" - –≤–∞–∂–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∏—Å–∫–∞ Churn
- **–î–µ–π—Å—Ç–≤–∏—è** - Dropdown: View Details / Impersonate / Edit Plan / Block / Activity Log

***

### **–í–æ–ø—Ä–æ—Å 8: Status Column - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: ‚úì –ê–∫—Ç–∏–≤–µ–Ω)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ë—ã—Å—Ç—Ä–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –∏–∫–æ–Ω–∫–∞ –≤–∏–¥–Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –ü–æ–Ω—è—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —Ç–µ–∫—Å—Ç –æ–±—ä—è—Å–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å
- –ö–æ–º–ø–∞–∫—Ç–Ω–æ - –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–º—É —Å—Ç–∏–ª—é (–∫–∞–∫ –≤ Guests-Enhanced-V4.html)

**–°—Ç–∞—Ç—É—Å—ã:**

```typescript
ACTIVE:    ‚úì –ê–∫—Ç–∏–≤–µ–Ω      (–∑–µ–ª—ë–Ω—ã–π)
TRIAL:     ‚è≥ Trial        (—Å–∏–Ω–∏–π)
PAST_DUE:  ‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–∫–∞   (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
CANCELLED: ‚úï –û—Ç–º–µ–Ω—ë–Ω      (–∫—Ä–∞—Å–Ω—ã–π)
BLOCKED:   ‚äò –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (–∫—Ä–∞—Å–Ω—ã–π)
```


***

### **–í–æ–ø—Ä–æ—Å 9: Actions Dropdown - –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã Owner?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** View Details | Impersonate | Edit Plan | Block | Activity Log

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **View Details** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ–Ω–∞–Ω—Ç–µ (5 —Ç–∞–±–æ–≤)
- **Impersonate** - –≥–ª–∞–≤–Ω–∞—è —Ñ–∏—á–∞ Owner'–∞ –¥–ª—è troubleshooting (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏—á–∏–Ω—É)
- **Edit Plan** - –±—ã—Å—Ç—Ä–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ (upgrade/downgrade)
- **Block/Unblock** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç –¥–æ—Å—Ç—É–ø–∞
- **Activity Log** - –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞

***

## **üí≥ 4. BILLING SECTION**

### **–í–æ–ø—Ä–æ—Å 10: Active Subscriptions Summary - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Cards Grid (–∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ —Å –∏–∫–æ–Ω–∫–æ–π + —á–∏—Å–ª–æ–º)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –í–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ - –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ - –∫–∞–∂–¥—ã–π –ø–ª–∞–Ω —Å–≤–æ–π —Ü–≤–µ—Ç (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ)
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ - –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –ø–æ —ç—Ç–æ–º—É —Ç–∞—Ä–∏—Ñ—É
- –ö–æ–º–ø–∞–∫—Ç–Ω–æ - 5 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ä—è–¥, –ø–æ–Ω—è—Ç–Ω–æ —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞

**–ü—Ä–∏–º–µ—Ä:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇüÜì 2 ‚îÇ ‚îÇüìä 8 ‚îÇ ‚îÇüìà10 ‚îÇ ‚îÇüöÄ 4 ‚îÇ ‚îÇ‚öôÔ∏è 3 ‚îÇ
‚îÇFREE ‚îÇ ‚îÇSTD  ‚îÇ ‚îÇPRO  ‚îÇ ‚îÇULT  ‚îÇ ‚îÇCUS  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

## **üë§ 5. IMPERSONATION \& ADMIN ACCESS**

### **–í–æ–ø—Ä–æ—Å 11: Impersonation Banner - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ Owner –≤–æ—à—ë–ª –ø–æ–¥ —Ç–µ–Ω–∞–Ω—Ç–æ–º?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Red Banner (fixed top) + Floating Exit Button

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç—å - –∫—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–∏–¥–µ–Ω - fixed position, –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç - "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ Admin —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ üçï –ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è"
- –ë—ã—Å—Ç—Ä—ã–π –≤—ã—Ö–æ–¥ - –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞" –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- Security - Owner –Ω–µ –∑–∞–±—É–¥–µ—Ç —á—Ç–æ –æ–Ω –≤ —á—É–∂–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ

**–¶–≤–µ—Ç–∞:** Background `#dc2626` (red-600), Text –±–µ–ª—ã–π, Exit button –±–µ–ª—ã–π —Ñ–æ–Ω + –∫—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç

***

### **–í–æ–ø—Ä–æ—Å 12: Impersonation Flow - —á—Ç–æ –≤–∏–¥–∏—Ç Owner –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ "Impersonate"?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Reason Modal (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ —Å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤) ‚Üí Redirect

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Compliance** - –∫–∞–∂–¥—ã–π impersonation –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–∏—á–∏–Ω–æ–π –¥–ª—è –∞—É–¥–∏—Ç–∞
- **Security** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ/–∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥—ã –±–µ–∑ —Ü–µ–ª–∏
- **Transparency** - Admin –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤ Activity Log –ø–æ—á–µ–º—É Owner –≤—Ö–æ–¥–∏–ª
- **Best Practice** - –∫—Ä—É–ø–Ω—ã–µ SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Stripe, Shopify) —Ç—Ä–µ–±—É—é—Ç reason

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. Owner –∫–ª–∏–∫–∞–µ—Ç "–í–æ–π—Ç–∏ –∫–∞–∫ Admin" –≤ Dropdown
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Modal —Å –ø–æ–ª–µ–º "–ü—Ä–∏—á–∏–Ω–∞ –≤—Ö–æ–¥–∞" (required, min 10 chars)
3. Warning: "–í—Å–µ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞"
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí Backend —Å–æ–∑–¥–∞—ë—Ç impersonation token (TTL 2h) + –ª–æ–≥ –≤ ActivityLog
5. Redirect –≤ Admin Dashboard —Ç–µ–Ω–∞–Ω—Ç–∞ + –∫—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä

***

### **–í–æ–ø—Ä–æ—Å 13: Activity Log Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Ä–µ–º—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –î–µ–π—Å—Ç–≤–∏–µ | –û–±—ä–µ–∫—Ç | IP –∞–¥—Ä–µ—Å | –°—Ç–∞—Ç—É—Å

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–í—Ä–µ–º—è** - –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ (sortable, —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –¥–∞—Ç–µ)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** - –∫—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª (Owner, Admin, Manager)
- **–î–µ–π—Å—Ç–≤–∏–µ** - —á—Ç–æ —Å–¥–µ–ª–∞–ª (‚úÖ –í—Ö–æ–¥, ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ, ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ, üì• –≠–∫—Å–ø–æ—Ä—Ç)
- **–û–±—ä–µ–∫—Ç** - –Ω–∞–¥ —á–µ–º –¥–µ–π—Å—Ç–≤–∏–µ (Tenant "–ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è", –¢–∞—Ä–∏—Ñ "STANDARD ‚Üí PRO")
- **IP –∞–¥—Ä–µ—Å** - security (–æ—Ç–∫—É–¥–∞ –±—ã–ª–æ –¥–µ–π—Å—Ç–≤–∏–µ, –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- **–°—Ç–∞—Ç—É—Å** - –£—Å–ø–µ—à–Ω–æ (–∑–µ–ª—ë–Ω—ã–π) / –û—à–∏–±–∫–∞ (–∫—Ä–∞—Å–Ω—ã–π)

**–§–∏–ª—å—Ç—Ä—ã:** –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è | –î–∞—Ç–∞ (range) | –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

***

## **üîç 6. SEARCH \& FILTERS**

### **–í–æ–ø—Ä–æ—Å 14: Global Search - —á—Ç–æ –∏—Å–∫–∞—Ç—å –Ω–∞ Owner Dashboard?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞ + email –∫–æ–Ω—Ç–∞–∫—Ç–∞ + —Ç–µ–ª–µ—Ñ–æ–Ω + –∏–º—è Admin'–∞

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ü—Ä–∞–∫—Ç–∏—á–Ω–æ - Owner —á–∞—Å—Ç–æ –∏—â–µ—Ç –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É/email –∏–∑ —Ç–∏–∫–µ—Ç–∞ Support
- –ë—ã—Å—Ç—Ä–æ - –ø–æ–∏—Å–∫ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ–ª—è–º –±–µ–∑ overload
- Fuzzy search - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—á–∞—Ç–æ–∫ ("picca" –Ω–∞–π–¥—ë—Ç "–ü–∏—Ü—Ü–∞ –ù–æ—á–Ω–∞—è")
- CMDK –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ Cmd+K (Mac) –∏–ª–∏ Ctrl+K (Win)

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** Command Palette (shadcn/ui) —Å –≥—Ä—É–ø–ø–∞–º–∏: –¢–µ–Ω–∞–Ω—Ç—ã | –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

***

### **–í–æ–ø—Ä–æ—Å 15: Table Filters - –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–µ–Ω–∞–Ω—Ç–æ–≤?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Dropdown —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π + Quick Filter Buttons

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ü—Ä–æ—Å—Ç–æ—Ç–∞ - Owner —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã - –∫–Ω–æ–ø–∫–∏ "At Risk" (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã 30+ –¥–Ω–µ–π), "High Value" (MRR > 100K), "Trial", "–ü—Ä–æ—Å—Ä–æ—á–∫–∞ –æ–ø–ª–∞—Ç—ã"
- –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç UI - –∫–æ–º–ø–∞–∫—Ç–Ω–æ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π
- –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–µ - –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–§–∏–ª—å—Ç—Ä—ã:**

- Quick Buttons: At Risk | High Value | Trial | Overdue
- Advanced: –ü–æ–∏—Å–∫ | –¢–∞—Ä–∏—Ñ (dropdown) | –°—Ç–∞—Ç—É—Å (dropdown) | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (date range)
- Reset Filters –∫–Ω–æ–ø–∫–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã)

***

## **üìã 7. TENANT DETAILS MODAL**

### **–í–æ–ø—Ä–æ—Å 16: Tenant Details Modal - –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 5 Tabs (Overview | Billing | Analytics | Team | Activity Log)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Overview** - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ç–∞–∫—Ç, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç—É—Å, quick stats, –ª–∏–º–∏—Ç—ã)
- **Billing** - —Ç–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ, –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π, invoices, billing alerts
- **Analytics** - MRR –æ—Ç —Ç–µ–Ω–∞–Ω—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≥—Ä–∞—Ñ–∏–∫–∏
- **Team Members** - —Å–ø–∏—Å–æ–∫ Admin/Manager/Cashier —ç—Ç–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞ —Å —Ä–æ–ª—è–º–∏
- **Activity Log** - –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π (—Ñ–∏–ª—å—Ç—Ä –ø–æ —ç—Ç–æ–º—É —Ç–µ–Ω–∞–Ω—Ç—É)

**–†–∞–∑–º–µ—Ä –º–æ–¥–∞–ª–∞:** max-w-4xl (—à–∏—Ä–æ–∫–∏–π) + max-h-[80vh] (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –≤–Ω—É—Ç—Ä–∏)

***

### **–í–æ–ø—Ä–æ—Å 17: Overview Tab - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (Card) + Quick Stats (Grid 4 –∫–∞—Ä—Ç–æ—á–∫–∏) + –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ (Progress bars) + Quick Actions (–∫–Ω–æ–ø–∫–∏)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Basic Info Card - –Ω–∞–∑–≤–∞–Ω–∏–µ, slug, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç
- Quick Stats - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, –≥–æ—Å—Ç–µ–π, MRR, –æ–ø–µ—Ä–∞—Ü–∏–π/–º–µ—Å (–∫—Ä—É–ø–Ω—ã–µ —Ü–∏—Ñ—Ä—ã)
- –õ–∏–º–∏—Ç—ã - Progress bar –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–∏–º–∏—Ç–∞ (–†–µ—Å—Ç–æ—Ä–∞–Ω—ã 2/5, –ì–æ—Å—Ç–∏ 1,234/10,000, POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ 1/3)
- Warning –µ—Å–ª–∏ –ª–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω 90% (–æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ü–≤–µ—Ç)
- Quick Actions - –∫–Ω–æ–ø–∫–∏: Impersonate | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å | –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

***

## **üí≥ 8. BILLING MANAGEMENT**

### **–í–æ–ø—Ä–æ—Å 18: Billing Tab - –∫–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Current Subscription (Card) + Payment History (Table) + Billing Alerts (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Current Subscription** - Badge —Å —Ç–∞—Ä–∏—Ñ–æ–º, —Ü–µ–Ω–∞/–º–µ—Å, —Å—Ç–∞—Ç—É—Å, –ø–µ—Ä–∏–æ–¥, –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞, –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –¥–Ω–µ–π –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è, –∫–Ω–æ–ø–∫–∞ "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
- **Payment History** - —Ç–∞–±–ª–∏—Ü–∞: –î–∞—Ç–∞ | –°—É–º–º–∞ | –ú–µ—Ç–æ–¥ (Stripe/YooKassa) | –°—Ç–∞—Ç—É—Å | Invoice (download)
- **Billing Alerts** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–ø—Ä–æ—Å—Ä–æ—á–∫–∞ –æ–ø–ª–∞—Ç—ã, –∫–∞—Ä—Ç–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç, –ª–∏–º–∏—Ç—ã –ø—Ä–µ–≤—ã—à–µ–Ω—ã)

***

### **–í–æ–ø—Ä–æ—Å 19: Change Plan Modal - –∫–∞–∫ Owner –º–µ–Ω—è–µ—Ç —Ç–∞—Ä–∏—Ñ —Ç–µ–Ω–∞–Ω—Ç—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Plan Comparison Table (RadioGroup) + Impact Summary + Reason field ‚Üí Confirmation

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- RadioGroup —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ - –∫–∞–∂–¥—ã–π —Ç–∞—Ä–∏—Ñ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (–∏–∫–æ–Ω–∫–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ, –ª–∏–º–∏—Ç—ã, —Ü–µ–Ω–∞)
- Current plan –ø–æ–º–µ—á–µ–Ω Badge "–¢–µ–∫—É—â–∏–π"
- Impact Summary - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è MRR, –Ω–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã, –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–æ–ø–ª–∞—Ç–∞/–≤–æ–∑–≤—Ä–∞—Ç
- Reason field (required) - –ø—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –∞—É–¥–∏—Ç–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –Ω–µ–ª—å–∑—è –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. Owner –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–π –ø–ª–∞–Ω –∏–∑ —Å–ø–∏—Å–∫–∞
2. –í–∏–¥–∏—Ç Impact Summary (delta MRR, –ª–∏–º–∏—Ç—ã, billing changes)
3. –£–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—É –∏–∑–º–µ–Ω–µ–Ω–∏—è (–º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤)
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí Backend –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É + –ª–æ–≥–∏—Ä—É–µ—Ç –≤ ActivityLog

***

## **‚ö° 9. REAL-TIME UPDATES \& NOTIFICATIONS**

### **–í–æ–ø—Ä–æ—Å 20: Real-time Updates - –∫–∞–∫ Owner –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è live?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Server-Sent Events (SSE) - server push updates

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–ü—Ä–æ—â–µ —á–µ–º WebSockets** - unidirectional (server ‚Üí client), –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ bidirectional
- **Automatic reconnection** - –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä—ã–≤–µ
- **HTTP-based** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ firewall/proxy –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- **Event types** - –º–æ–∂–Ω–æ —Å–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã (new_tenant, payment_received, tenant_cancelled)
- **–£–∂–µ —É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ** - –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –ë–µ—Å–µ–¥–µ 8

**–°–æ–±—ã—Ç–∏—è:**

- `new_tenant` - –Ω–æ–≤—ã–π —Ç–µ–Ω–∞–Ω—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è ‚Üí Toast notification + invalidate queries
- `payment_received` - –ø–ª–∞—Ç—ë–∂ –ø–æ–ª—É—á–µ–Ω ‚Üí Toast + update MRR
- `tenant_cancelled` - –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Üí Alert toast —Å –ø—Ä–∏—á–∏–Ω–æ–π + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–≤—è–∑–∞—Ç—å—Å—è
- `limit_exceeded` - —Ç–µ–Ω–∞–Ω—Ç –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç—ã ‚Üí Alert

**UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:** "üü¢ Live updates" –≤ —É–≥–ª—É –¥–∞—à–±–æ—Ä–¥–∞ (–ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è —Ç–æ—á–∫–∞)

***

### **–í–æ–ø—Ä–æ—Å 21: Notifications Bell - –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç—å Owner?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 7 —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Bell Dropdown

**–¢–∏–ø—ã:**

1. **üéâ NEW_TENANT** - –ù–æ–≤—ã–π —Ç–µ–Ω–∞–Ω—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è
2. **üí∞ PAYMENT_RECEIVED** - –ü–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
3. **‚ùå PAYMENT_FAILED** - –ü–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª (–∫–∞—Ä—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞)
4. **üìâ TENANT_CANCELLED** - –¢–µ–Ω–∞–Ω—Ç –æ—Ç–º–µ–Ω–∏–ª –ø–æ–¥–ø–∏—Å–∫—É (—Å –ø—Ä–∏—á–∏–Ω–æ–π)
5. **‚ö†Ô∏è LIMIT_EXCEEDED** - –¢–µ–Ω–∞–Ω—Ç –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç—ã —Ç–∞—Ä–∏—Ñ–∞
6. **üìõ HIGH_CHURN_ALERT** - Churn Rate –ø—Ä–µ–≤—ã—Å–∏–ª 5% –∑–∞ –º–µ—Å—è—Ü
7. **üî• SYSTEM_ERROR** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞

**UI:**

- Bell icon —Å badge (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö)
- Dropdown 400px —à–∏—Ä–∏–Ω–∞, 400px –≤—ã—Å–æ—Ç–∞ (scroll)
- –ö–∞–∂–¥–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
- –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –ø–æ–º–µ—á–µ–Ω—ã —Å–∏–Ω–µ–π —Ç–æ—á–∫–æ–π
- –ö–Ω–æ–ø–∫–∞ "–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏"
- Footer: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ" ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ /owner/notifications

***

## **üì± 10. MOBILE RESPONSIVENESS**

### **–í–æ–ø—Ä–æ—Å 22: Mobile View - –∫–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Owner Dashboard –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Responsive Layout —Å breakpoints (Mobile < 768px | Tablet 768-1024px | Desktop > 1024px)

**Mobile Layout (< 768px):**

- **KPI Metrics** - 2 –∫–æ–ª–æ–Ω–∫–∏ (–≤–º–µ—Å—Ç–æ 4)
- **Charts** - –ø–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞, —Å—Ç–µ–∫–∏—Ä—É—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ (–º–µ–Ω—å—à–µ labels)
- **Tenants Table** - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ Mobile Cards (–∫–∞–∂–¥—ã–π —Ç–µ–Ω–∞–Ω—Ç = –∫–∞—Ä—Ç–æ—á–∫–∞)
- **–§–∏–ª—å—Ç—Ä—ã** - Sheet (–±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å) –≤–º–µ—Å—Ç–æ inline
- **Bottom Navigation** - fixed tab bar (Dashboard | Tenants | Billing | Settings)

**TenantMobileCard:**

- –≠–º–æ–¥–∑–∏ + –Ω–∞–∑–≤–∞–Ω–∏–µ + email
- Badge —Å —Ç–∞—Ä–∏—Ñ–æ–º
- Grid 2x2: –ì–æ—Å—Ç–∏ | MRR
- –°—Ç–∞—Ç—É—Å + ChevronRight
- Tap ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Details Modal

***

## **üì§ 11. EXPORT \& REPORTING**

### **–í–æ–ø—Ä–æ—Å 23: Export Dashboard Data - –≤ –∫–∞–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** CSV + XLSX + PDF

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **CSV** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–µ–∑–¥–µ, –ª—ë–≥–∫–∏–π –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã
- **XLSX** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ñ–æ—Ä–º—É–ª—ã, –≥—Ä–∞—Ñ–∏–∫–∏ (–¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)
- **PDF** - –¥–ª—è –ø–µ—á–∞—Ç–∏/–æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞–º, immutable –¥–æ–∫—É–º–µ–Ω—Ç

**UI:** Dropdown –∫–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç" —Å 3 –æ–ø—Ü–∏—è–º–∏ (–∏–∫–æ–Ω–∫–∏: FileText, FileSpreadsheet, FileDown)

**Backend:** endpoint GET /api/v1/owner/export?format=csv\&from=2026-01-01\&to=2026-02-16

***

### **–í–æ–ø—Ä–æ—Å 24: Scheduled Reports - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ Owner Settings

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç - –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00 MSK
- –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç - 1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 09:00 MSK
- Email –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ (configurable)
- –§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞ - PDF (–ø–µ—á–∞—Ç—å) –∏–ª–∏ XLSX (–∞–Ω–∞–ª–∏–∑)
- Enable/Disable –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

**Backend:** CRON Job (NestJS @Cron decorator) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç + –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ Email Provider (Resend/SendGrid)

***

## **üéØ 12. ALERTS \& MONITORING**

### **–í–æ–ø—Ä–æ—Å 25: Critical Alerts - –∫–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –ø–æ–∫–∞–∑–∞—Ç—å Owner?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 6 —Ç–∏–ø–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤

**Critical Alerts:**

1. **HIGH_CHURN** - Churn > 5% –∑–∞ –º–µ—Å—è—Ü (—Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)
2. **PAYMENT_FAILURES** - >10 –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –¥–µ–Ω—å (–ø—Ä–æ–±–ª–µ–º—ã —Å payment gateway)
3. **SYSTEM_DOWN** - API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω >5 –º–∏–Ω—É—Ç (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
4. **DATABASE_SLOW** - Query time >1s (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î)
5. **DISK_SPACE** - –°–≤–æ–±–æ–¥–Ω–æ <10% (—Ä–∞—Å—à–∏—Ä–∏—Ç—å storage)
6. **SECURITY_BREACH** - –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ª–æ–≥–∏, IP)

**UI:**

- **Fixed Top Banner** - –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω, –ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∏–∫–æ–Ω–∫–∞, —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –∏ "–ó–∞–∫—Ä—ã—Ç—å"
- **Alerts Section –Ω–∞ Dashboard** - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å border-warning, —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤
- –ö–∞–∂–¥—ã–π –∞–ª–µ—Ä—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ö–Ω–æ–ø–∫–∞ "–†–µ—à–∏—Ç—å" - –ø–æ–º–µ—á–∞–µ—Ç –∞–ª–µ—Ä—Ç –∫–∞–∫ resolved

***

# ‚úÖ **–ò–¢–û–ì–û: 25 –†–ï–®–ï–ù–ò–ô –ü–†–ò–ù–Ø–¢–´**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Owner Platform Dashboard –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞:**

- Single Page Layout —Å 6 —Å–µ–∫—Ü–∏—è–º–∏
- Real-time updates —á–µ—Ä–µ–∑ SSE
- Impersonation —Å audit trail
- Mobile responsive
- Export –≤ 3 —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- Scheduled reports
- Critical alerts monitoring

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**

- Next.js 14 + TypeScript
- shadcn/ui (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- TanStack Query + TanStack Table
- Recharts (charts)
- Server-Sent Events (real-time)
- date-fns (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç)

***

# üöÄ **–ì–û–¢–û–í –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ë–õ–û–ö–£!**

**–ß—Ç–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–ª—å—à–µ?**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

1. **Admin Dashboard (RestaurantAdmin)** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º, –≥–æ—Å—Ç—è–º–∏, loyalty
2. **Manager Dashboard** - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
3. **Loyalty Builder** - –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª, —É—Ä–æ–≤–Ω–µ–π, –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π
4. **Analytics \& Reporting** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
5. **POS Integration Setup** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å iiko, R-Keeper
6. **Guest App (Telegram Mini App)** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≥–æ—Å—Ç–µ–π
7. **Billing \& Subscriptions** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏, invoices

**–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?** üéØ

---

# üçï **ADMIN DASHBOARD (RESTAURANTADMIN) - 25+ –í–û–ü–†–û–°–û–í –° –†–ï–®–ï–ù–ò–Ø–ú–ò**


***

## **üìä 1. DASHBOARD LAYOUT \& STRUCTURE**

### **1Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Admin Dashboard - —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Owner?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —É–ø—Ä–∞–≤–ª—è–µ—Ç **–æ–¥–Ω–∏–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º** (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞). –û–Ω –≤–∏–¥–∏—Ç –≥–æ—Å—Ç–µ–π, loyalty —Å–∏—Å—Ç–µ–º—É, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, analytics —Å–≤–æ–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –Ω–æ –ù–ï –≤–∏–¥–∏—Ç –¥—Ä—É–≥–∏–µ —Ç–µ–Ω–∞–Ω—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.[^9_1][^9_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Admin Dashboard?

**A)** Single Page –∫–∞–∫ —É Owner (–≤—Å–µ —Å–µ–∫—Ü–∏–∏ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
**B)** Tabs (Overview | Guests | Loyalty | Analytics | Settings)
**C)** Sidebar Navigation + Content Area (–∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ)
**D)** Dashboard Home + –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) Dashboard Home + –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Scalability** - —É Admin –º–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–æ–≤ (Guests, Loyalty, Analytics, Team, Settings)
- ‚úÖ **Performance** - –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å—ë —Å—Ä–∞–∑—É, lazy loading –ø–æ —Ä–æ—É—Ç–∞–º
- ‚úÖ **UX** - Admin —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ (—Å–µ–≥–æ–¥–Ω—è –≥–æ—Å—Ç–∏, –∑–∞–≤—Ç—Ä–∞ loyalty), –Ω–µ –Ω—É–∂–Ω–∞ –≤—Å—è –∏–Ω—Ñ–∞ —Å—Ä–∞–∑—É
- ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–∞–º** - —Ç–≤–æ–π Max-Loyalty-Dashboard.html –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—é[^9_3]
- ‚úÖ **SEO/Deep linking** - –º–æ–∂–Ω–æ —à–∞—Ä–∏—Ç—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–æ–≤:**

```
/admin/dashboard          ‚Üí Overview (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
/admin/guests             ‚Üí Guests Management
/admin/loyalty            ‚Üí Loyalty Builder
/admin/analytics          ‚Üí Analytics & Reports
/admin/pos                ‚Üí POS Integration
/admin/team               ‚Üí Team Management
/admin/settings           ‚Üí Restaurant Settings
/admin/activity-log       ‚Üí Activity Log
```

**Layout:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Sidebar (240px)  ‚îÇ  Content Area                   ‚îÇ
‚îÇ                  ‚îÇ                                  ‚îÇ
‚îÇ üè† Dashboard     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ üë• Guests        ‚îÇ  ‚îÇ                          ‚îÇ  ‚îÇ
‚îÇ üéÅ Loyalty       ‚îÇ  ‚îÇ   Page Content           ‚îÇ  ‚îÇ
‚îÇ üìä Analytics     ‚îÇ  ‚îÇ                          ‚îÇ  ‚îÇ
‚îÇ üîó POS           ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ üë®‚Äçüíº Team          ‚îÇ                                  ‚îÇ
‚îÇ ‚öôÔ∏è Settings      ‚îÇ                                  ‚îÇ
‚îÇ üìù Activity Log  ‚îÇ                                  ‚îÇ
‚îÇ                  ‚îÇ                                  ‚îÇ
‚îÇ [Profile]        ‚îÇ                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **2Ô∏è‚É£ Dashboard Home - –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/admin/dashboard` –∏ —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å **–∑–¥–æ—Ä–æ–≤—å–µ —Å–≤–æ–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞**: —Å–∫–æ–ª—å–∫–æ –≥–æ—Å—Ç–µ–π, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤—ã—Ä—É—á–∫–∞, loyalty ROI.[^9_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ KPI –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ Admin Dashboard Home?

**A)** –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π | –ê–∫—Ç–∏–≤–Ω—ã—Ö | –ù–æ–≤—ã—Ö –∑–∞ –º–µ—Å—è—Ü | –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
**B)** –ì–æ—Å—Ç–∏ | –ë–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π/–¥–µ–Ω—å | –ö–æ–Ω–≤–µ—Ä—Å–∏—è loyalty
**C)** –ì–æ—Å—Ç–∏ | –í–∏–∑–∏—Ç—ã/–Ω–µ–¥–µ–ª—è | –í—ã—Ä—É—á–∫–∞ | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ/—Å–ø–∏—Å–∞–Ω–æ
**D)** –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π | –ê–∫—Ç–∏–≤–Ω—ã—Ö (30 –¥–Ω–µ–π) | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ | Loyalty ROI

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π | –ê–∫—Ç–∏–≤–Ω—ã—Ö | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ | Loyalty ROI**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π** - –±–∞–∑–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ —Ä–æ—Å—Ç–∞ –±–∞–∑—ã (2,847)
- ‚úÖ **–ê–∫—Ç–∏–≤–Ω—ã–µ –≥–æ—Å—Ç–∏** - –∫—Ç–æ –±—ã–ª –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- ‚úÖ **–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å loyalty –ø—Ä–æ–≥—Ä–∞–º–º—ã (45,680 –∑–∞ –º–µ—Å—è—Ü)
- ‚úÖ **Loyalty ROI** - –∫–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞: —Å–∫–æ–ª—å–∫–æ –≤—ã—Ä—É—á–∫–∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç 1 –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–π –±–∞–ª–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1:8 ‚Üí 1‚ÇΩ –±–∞–ª–ª–æ–≤ = 8‚ÇΩ –≤—ã—Ä—É—á–∫–∏)

**–í–∏–∑—É–∞–ª (–≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë• –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π      ‚îÇ  ‚îÇ ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã—Ö (30–¥)    ‚îÇ
‚îÇ 2,847                ‚îÇ  ‚îÇ 1,876 (66%)          ‚îÇ
‚îÇ ‚Üë +123 –∑–∞ –º–µ—Å—è—Ü      ‚îÇ  ‚îÇ ‚Üë +98 –∑–∞ –º–µ—Å—è—Ü       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üéÅ –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ  ‚îÇ  ‚îÇ üìà Loyalty ROI       ‚îÇ
‚îÇ 45,680               ‚îÇ  ‚îÇ 1:8.4                ‚îÇ
‚îÇ ‚Üë +5,420 –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üë +0.3 (—É–ª—É—á—à–µ–Ω–∏–µ)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ –í—ã—Ä—É—á–∫–∞ (–º–µ—Å)     ‚îÇ  ‚îÇ üéØ –°—Ä–µ–¥–Ω–∏–π —á–µ–∫       ‚îÇ
‚îÇ 2,845,600‚ÇΩ           ‚îÇ  ‚îÇ 3,240‚ÇΩ               ‚îÇ
‚îÇ ‚Üë +12.8% –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üë +180‚ÇΩ –∑–∞ –º–µ—Å—è—Ü     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìä –í–∏–∑–∏—Ç–æ–≤ (–º–µ—Å)     ‚îÇ  ‚îÇ ‚≠ê NPS Score         ‚îÇ
‚îÇ 5,647                ‚îÇ  ‚îÇ 72 (Excellent)       ‚îÇ
‚îÇ ‚Üë +342 –∑–∞ –º–µ—Å—è—Ü      ‚îÇ  ‚îÇ ‚Üë +5 –∑–∞ –º–µ—Å—è—Ü        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **3Ô∏è‚É£ Dashboard Charts - –∫–∞–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å **—Ç—Ä–µ–Ω–¥—ã** —Å–≤–æ–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞: —Ä–æ—Å—Ç –≥–æ—Å—Ç–µ–π, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤—ã—Ä—É—á–∫–∞, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º loyalty.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ 3-4 –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ Dashboard Home?

**A)** Guests Growth | Revenue Trend | Loyalty Levels Distribution
**B)** New Guests per Week | Active vs Inactive | Average Check Trend
**C)** Guests Growth | Revenue + Balls Trend | Loyalty Levels | Top Guests
**D)** Revenue | Visits | Balls Earned/Redeemed | Churn Rate

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Guests Growth | Revenue + Balls | Loyalty Levels | Top Guests**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**–ì—Ä–∞—Ñ–∏–∫ 1: Guests Growth (Line Chart, 6 –º–µ—Å—è—Ü–µ–≤)**

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç –±–∞–∑—ã –≥–æ—Å—Ç–µ–π (–Ω–æ–≤—ã–µ + —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
- Line chart —Å —Ç–æ—á–∫–∞–º–∏, –∑–µ–ª—ë–Ω–∞—è –ª–∏–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ: Total Guests –ø–æ –º–µ—Å—è—Ü–∞–º

**–ì—Ä–∞—Ñ–∏–∫ 2: Revenue + Balls Earned (Combined Chart, 30 –¥–Ω–µ–π)**

- Bar chart –¥–ª—è Revenue (–≤—ã—Ä—É—á–∫–∞ –ø–æ –¥–Ω—è–º)
- Line chart –¥–ª—è Balls Earned (–Ω–∞—á–∏—Å–ª–µ–Ω–æ –±–∞–ª–ª–æ–≤)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é: –±–æ–ª—å—à–µ –≤—ã—Ä—É—á–∫–∞ ‚Üí –±–æ–ª—å—à–µ –±–∞–ª–ª–æ–≤ ‚Üí –ª—É—á—à–µ loyalty

**–ì—Ä–∞—Ñ–∏–∫ 3: Loyalty Levels Distribution (Donut Chart)**

- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π –ø–æ —É—Ä–æ–≤–Ω—è–º: ü•â Bronze, ü•à Silver, ü•á Gold, üëë Platinum
- Donut —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–æ–π "–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π"
- –ö–ª–∏–∫ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç ‚Üí —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –≥–æ—Å—Ç–µ–π

**–ì—Ä–∞—Ñ–∏–∫ 4: Top 10 Guests (Leaderboard Card)**

- –¢–æ–ø-10 –≥–æ—Å—Ç–µ–π –ø–æ Lifetime Spent
- –°–ø–∏—Å–æ–∫ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ (–∏–Ω–∏—Ü–∏–∞–ª—ã), –∏–º–µ–Ω–µ–º, —É—Ä–æ–≤–Ω–µ–º, —Å—É–º–º–æ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç VIP –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞

**Layout:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Guests Growth        ‚îÇ  ‚îÇ Revenue + Balls      ‚îÇ
‚îÇ (Line Chart)         ‚îÇ  ‚îÇ (Bar + Line)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Loyalty Levels       ‚îÇ  ‚îÇ Top 10 Guests        ‚îÇ
‚îÇ (Donut Chart)        ‚îÇ  ‚îÇ (Leaderboard)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **4Ô∏è‚É£ Quick Actions Panel - —á—Ç–æ Admin –¥–µ–ª–∞–µ—Ç —á–∞—â–µ –≤—Å–µ–≥–æ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞—á–∏: –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏—é.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ Quick Actions –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ Dashboard?

**A)** –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã | –≠–∫—Å–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞
**B)** –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ | –≠–∫—Å–ø–æ—Ä—Ç
**C)** –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã | –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏
**D)** –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ | –≠–∫—Å–ø–æ—Ä—Ç | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ | –≠–∫—Å–ø–æ—Ä—Ç**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **‚ûï –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è** - —Å–∞–º–æ–µ —á–∞—Å—Ç–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–∞—Å—Å–µ/–≤—Ä—É—á–Ω—É—é)
- ‚úÖ **‚úèÔ∏è –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤** - Admin —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã (–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è, –ø—Ä–æ–º–æ, –æ—à–∏–±–∫–∞)
- ‚úÖ **üéÅ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏—é** - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∞–∫—Ü–∏–∏ (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –≤—ã—Ö–æ–¥–Ω—ã–µ, –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä)
- ‚úÖ **üì• –≠–∫—Å–ø–æ—Ä—Ç –≥–æ—Å—Ç–µ–π** - –≤—ã–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–æ–∫, –∞–Ω–∞–ª–∏–∑–∞

**UI (Cards –≤ —Ä—è–¥):**

```tsx
<div className="grid grid-cols-4 gap-4">
  <Card 
    className="cursor-pointer hover:bg-card-hover transition"
    onClick={openAddGuestModal}
  >
    <CardContent className="p-6 text-center">
      <UserPlus className="h-8 w-8 mx-auto mb-2 text-primary" />
      <div className="font-semibold">–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è</div>
      <div className="text-xs text-secondary mt-1">
        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Ä—É—á–Ω—É—é
      </div>
    </CardContent>
  </Card>
  
  <Card 
    className="cursor-pointer hover:bg-card-hover transition"
    onClick={openAdjustBallsModal}
  >
    <CardContent className="p-6 text-center">
      <Edit className="h-8 w-8 mx-auto mb-2 text-success" />
      <div className="font-semibold">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞</div>
      <div className="text-xs text-secondary mt-1">
        –ù–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã
      </div>
    </CardContent>
  </Card>
  
  <Card 
    className="cursor-pointer hover:bg-card-hover transition"
    onClick={openCreatePromoModal}
  >
    <CardContent className="p-6 text-center">
      <Gift className="h-8 w-8 mx-auto mb-2 text-warning" />
      <div className="font-semibold">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ</div>
      <div className="text-xs text-secondary mt-1">
        –ê–∫—Ü–∏—è –∏–ª–∏ –±–æ–Ω—É—Å
      </div>
    </CardContent>
  </Card>
  
  <Card 
    className="cursor-pointer hover:bg-card-hover transition"
    onClick={openExportModal}
  >
    <CardContent className="p-6 text-center">
      <Download className="h-8 w-8 mx-auto mb-2 text-info" />
      <div className="font-semibold">–≠–∫—Å–ø–æ—Ä—Ç</div>
      <div className="text-xs text-secondary mt-1">
        CSV, XLSX, PDF
      </div>
    </CardContent>
  </Card>
</div>
```


***

## **üë• 2. GUESTS MANAGEMENT PAGE**

### **5Ô∏è‚É£ Guests Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π —Å–≤–æ–µ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞. –ò–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ Guests-Enhanced-V4.html –∏–∑–≤–µ—Å—Ç–Ω—ã: –ê–≤–∞—Ç–∞—Ä, –ò–º—è, Email, –¢–µ–ª–µ—Ñ–æ–Ω, –î–†, –£—Ä–æ–≤–µ–Ω—å, –°—Ç–∞—Ç—É—Å, –ü–æ—Å–µ—â–µ–Ω–∏–π, –î–µ–π—Å—Ç–≤–∏—è.[^9_4]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–∫–ª—é—á–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?

**A)** –ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | Email | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏—è
**B)** –ê–≤–∞—Ç–∞—Ä+–ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | Lifetime Spent | –ü–æ—Å–µ—â–µ–Ω–∏–π | –î–µ–π—Å—Ç–≤–∏—è
**C)** –ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | –î–† | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç | –î–µ–π—Å—Ç–≤–∏—è
**D)** –ê–≤–∞—Ç–∞—Ä+–ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | Email | –î–† | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏—è

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | –î–† | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç | –î–µ–π—Å—Ç–≤–∏—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ò–º—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º** (–∏–Ω–∏—Ü–∏–∞–ª—ã) - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–∞–∫ –≤ —Ç–≤–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ[^9_4]
- ‚úÖ **–¢–µ–ª–µ—Ñ–æ–Ω** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ø–æ –Ω–µ–º—É –∏—â—É—Ç –Ω–∞ –∫–∞—Å—Å–µ)
- ‚úÖ **–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è** - –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π "–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è" + –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞
- ‚úÖ **–£—Ä–æ–≤–µ–Ω—å** - ü•â Bronze, ü•à Silver, ü•á Gold —Å —ç–º–æ–¥–∑–∏
- ‚úÖ **–ë–∞–ª–∞–Ω—Å** - —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ —É –≥–æ—Å—Ç—è (Regular + Promo)
- ‚úÖ **–ü–æ—Å–µ—â–µ–Ω–∏–π** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ—è–ª—å–Ω–æ—Å—Ç—å (47 –≤–∏–∑–∏—Ç–æ–≤ = –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç)
- ‚úÖ **–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç** - "2 –¥–Ω—è –Ω–∞–∑–∞–¥" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ **–î–µ–π—Å—Ç–≤–∏—è** - Dropdown: –ü—Ä–æ—Å–º–æ—Ç—Ä | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –ò—Å—Ç–æ—Ä–∏—è | –£–¥–∞–ª–∏—Ç—å

**–¢–∞–±–ª–∏—Ü–∞ (–≤ —Ç–≤–æ—ë–º —Å—Ç–∏–ª–µ):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ò–º—è              –¢–µ–ª–µ—Ñ–æ–Ω          –î–†         –£—Ä–æ–≤–µ–Ω—å  –ë–∞–ª–∞–Ω—Å  –ü–æ—Å–µ—â.  –ü–æ—Å–ª–µ–¥.  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ò–ò –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤  +7 999 123-45-67 15.05 ‚ôâ  ü•á Gold   2,850   47      2 –¥–Ω—è     ‚îÇ
‚îÇ –ú–ü –ú–∞—Ä–∏—è –ü.     +7 888 777-66-55 23.11 ‚ôê  ü•à Silver 1,200   12      1 –Ω–µ–¥–µ–ª—è  ‚îÇ
‚îÇ –ü–° –ü—ë—Ç—Ä –°–∏–¥–æ—Ä–æ–≤ +7 777 555-44-33 08.03 ‚ôì  ü•â Bronze   340   5       3 –¥–Ω—è     ‚îÇ
‚îÇ –ê–ù –ê–Ω–Ω–∞ –ù.      +7 666 444-33-22 30.07 ‚ôå  Standard    120   2       2 –Ω–µ–¥–µ–ª–∏  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Optional Columns (–º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–±–ª–∏—Ü—ã):**

- Email
- Lifetime Spent (—Å—É–º–º–∞ –≤—Å–µ—Ö –ø–æ–∫—É–ø–æ–∫)
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ò—Å—Ç–æ—á–Ω–∏–∫ (POS, Telegram, Web)
- –î–µ—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –¢–µ–≥–∏

***

### **6Ô∏è‚É£ Guest Search - –∫–∞–∫ –∏—Å–∫–∞—Ç—å –≥–æ—Å—Ç–µ–π?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –Ω–∞ –∫–∞—Å—Å–µ –≥–æ–≤–æ—Ä–∏—Ç: "–ù–∞–π–¥–∏ –≥–æ—Å—Ç—è –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" –∏–ª–∏ "–¢–µ–ª–µ—Ñ–æ–Ω +7 999 123-45-67" –∏–ª–∏ "–ö–∞—Ä—Ç–∞ 000123".

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –¥–æ–ª–∂–µ–Ω –∏—Å–∫–∞—Ç—å –ø–æ–∏—Å–∫?

**A)** –¢–æ–ª—å–∫–æ –∏–º—è
**B)** –ò–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω
**C)** –ò–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω + email + –∫–∞—Ä—Ç–∞ (QR/6-digit)
**D)** –í—Å—ë –≤—ã—à–µ + –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è + —Ç–µ–≥–∏

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –ò–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω + email + –∫–∞—Ä—Ç–∞ (QR/6-digit)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ò–º—è** - "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", "–ò–≤–∞–Ω–æ–≤" (fuzzy search)
- ‚úÖ **–¢–µ–ª–µ—Ñ–æ–Ω** - "+7 999 123-45-67", "9991234567", "999 123" (partial match)
- ‚úÖ **Email** - "ivan@example.com", "ivan" (partial)
- ‚úÖ **–ö–∞—Ä—Ç–∞** - "000123" (6-digit code), "QR-123456" (QR code)
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –ø–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º –ë–î (phone, email, cardCode)

**UI (–≤ —Ö–µ–¥–µ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã):**

```tsx
<div className="relative w-full max-w-md">
  <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-secondary" />
  <Input
    placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, email, –∫–∞—Ä—Ç–µ..."
    value={searchQuery}
    onChange={(e) => setSearchQuery(e.target.value)}
    className="pl-10"
  />
  {searchQuery && (
    <Button
      variant="ghost"
      size="sm"
      className="absolute right-2 top-1/2 -translate-y-1/2"
      onClick={() => setSearchQuery('')}
    >
      <X className="h-4 w-4" />
    </Button>
  )}
</div>
```

**Backend:**

```typescript
// Prisma query
where: {
  OR: [
    { firstName: { contains: searchQuery, mode: 'insensitive' } },
    { lastName: { contains: searchQuery, mode: 'insensitive' } },
    { phone: { contains: searchQuery } },
    { email: { contains: searchQuery, mode: 'insensitive' } },
    { guestCard: { displayCode: { contains: searchQuery } } },
    { guestCard: { qrCode: { contains: searchQuery } } }
  ]
}
```


***

### **7Ô∏è‚É£ Guest Filters - –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç–µ–π?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Ö–æ—á–µ—Ç –Ω–∞–π—Ç–∏: "–í—Å–µ—Ö Gold –≥–æ—Å—Ç–µ–π", "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö 30+ –¥–Ω–µ–π", "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ", "–ë–∞–ª–∞–Ω—Å > 1000".

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å?

**A)** –£—Ä–æ–≤–µ–Ω—å | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
**B)** –£—Ä–æ–≤–µ–Ω—å | –°—Ç–∞—Ç—É—Å | –ë–∞–ª–∞–Ω—Å (min-max) | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç
**C)** –£—Ä–æ–≤–µ–Ω—å | –°—Ç–∞—Ç—É—Å | –ë–∞–ª–∞–Ω—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π (min-max) | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç
**D)** –í—Å—ë –≤—ã—à–µ + –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–º–µ—Å—è—Ü) + Lifetime Spent + –¢–µ–≥–∏

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã + Quick Filter Buttons**

**Quick Filter Buttons (–Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π):**

```tsx
<div className="flex gap-2 mb-4">
  <Button
    variant={quickFilter === 'vip' ? 'default' : 'outline'}
    size="sm"
    onClick={() => setQuickFilter('vip')}
  >
    üíé VIP (Lifetime > 100K)
  </Button>
  <Button
    variant={quickFilter === 'at-risk' ? 'default' : 'outline'}
    size="sm"
    onClick={() => setQuickFilter('at-risk')}
  >
    ‚ö†Ô∏è At Risk (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã 30+ –¥–Ω–µ–π)
  </Button>
  <Button
    variant={quickFilter === 'birthday-month' ? 'default' : 'outline'}
    size="sm"
    onClick={() => setQuickFilter('birthday-month')}
  >
    üéÇ –î–† –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ
  </Button>
  <Button
    variant={quickFilter === 'new' ? 'default' : 'outline'}
    size="sm"
    onClick={() => setQuickFilter('new')}
  >
    ‚ú® –ù–æ–≤—ã–µ (30 –¥–Ω–µ–π)
  </Button>
  <Button
    variant={quickFilter === 'high-balance' ? 'default' : 'outline'}
    size="sm"
    onClick={() => setQuickFilter('high-balance')}
  >
    üí∞ –ë–∞–ª–∞–Ω—Å > 1,000
  </Button>
</div>
```

**Advanced Filters (Dropdown/Popover):**

```tsx
<Popover>
  <PopoverTrigger asChild>
    <Button variant="outline" size="sm">
      <Filter className="mr-2 h-4 w-4" />
      –§–∏–ª—å—Ç—Ä—ã {activeFiltersCount > 0 && `(${activeFiltersCount})`}
    </Button>
  </PopoverTrigger>
  <PopoverContent className="w-[400px]" align="start">
    <div className="space-y-4">
      {/* Level Filter */}
      <div>
        <Label>–£—Ä–æ–≤–µ–Ω—å</Label>
        <MultiSelect
          options={loyaltyLevels}
          value={filters.levelIds}
          onChange={(value) => setFilters({ ...filters, levelIds: value })}
          placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–Ω–∏"
        />
      </div>
      
      {/* Status Filter */}
      <div>
        <Label>–°—Ç–∞—Ç—É—Å</Label>
        <Select value={filters.status} onValueChange={(value) => setFilters({ ...filters, status: value })}>
          <SelectTrigger>
            <SelectValue placeholder="–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">–í—Å–µ</SelectItem>
            <SelectItem value="ACTIVE">‚úì –ê–∫—Ç–∏–≤–Ω—ã–π</SelectItem>
            <SelectItem value="INACTIVE">‚äò –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</SelectItem>
            <SelectItem value="BLOCKED">‚úï –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</SelectItem>
          </SelectContent>
        </Select>
      </div>
      
      {/* Balance Range */}
      <div>
        <Label>–ë–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤</Label>
        <div className="grid grid-cols-2 gap-2">
          <Input
            type="number"
            placeholder="–û—Ç"
            value={filters.balanceMin ?? ''}
            onChange={(e) => setFilters({ ...filters, balanceMin: Number(e.target.value) })}
          />
          <Input
            type="number"
            placeholder="–î–æ"
            value={filters.balanceMax ?? ''}
            onChange={(e) => setFilters({ ...filters, balanceMax: Number(e.target.value) })}
          />
        </div>
      </div>
      
      {/* Visits Range */}
      <div>
        <Label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â–µ–Ω–∏–π</Label>
        <div className="grid grid-cols-2 gap-2">
          <Input
            type="number"
            placeholder="–û—Ç"
            value={filters.visitsMin ?? ''}
            onChange={(e) => setFilters({ ...filters, visitsMin: Number(e.target.value) })}
          />
          <Input
            type="number"
            placeholder="–î–æ"
            value={filters.visitsMax ?? ''}
            onChange={(e) => setFilters({ ...filters, visitsMax: Number(e.target.value) })}
          />
        </div>
      </div>
      
      {/* Birthday Month */}
      <div>
        <Label>–ú–µ—Å—è—Ü —Ä–æ–∂–¥–µ–Ω–∏—è</Label>
        <Select value={filters.birthMonth} onValueChange={(value) => setFilters({ ...filters, birthMonth: value })}>
          <SelectTrigger>
            <SelectValue placeholder="–õ—é–±–æ–π –º–µ—Å—è—Ü" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">–õ—é–±–æ–π –º–µ—Å—è—Ü</SelectItem>
            {MONTHS_RU.map((month, idx) => (
              <SelectItem key={idx} value={String(idx + 1)}>
                {month}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>
      </div>
      
      {/* Last Visit */}
      <div>
        <Label>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç</Label>
        <Select value={filters.lastVisit} onValueChange={(value) => setFilters({ ...filters, lastVisit: value })}>
          <SelectTrigger>
            <SelectValue placeholder="–õ—é–±–æ–µ –≤—Ä–µ–º—è" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">–õ—é–±–æ–µ –≤—Ä–µ–º—è</SelectItem>
            <SelectItem value="7d">–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</SelectItem>
            <SelectItem value="30d">–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</SelectItem>
            <SelectItem value="90d">–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π</SelectItem>
            <SelectItem value="180d">–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 180 –¥–Ω–µ–π</SelectItem>
          </SelectContent>
        </Select>
      </div>
      
      <Separator />
      
      <div className="flex justify-between">
        <Button variant="outline" size="sm" onClick={resetFilters}>
          –°–±—Ä–æ—Å–∏—Ç—å
        </Button>
        <Button size="sm" onClick={applyFilters}>
          –ü—Ä–∏–º–µ–Ω–∏—Ç—å
        </Button>
      </div>
    </div>
  </PopoverContent>
</Popover>
```


***

### **8Ô∏è‚É£ Bulk Actions - —á—Ç–æ Admin –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –≥–æ—Å—Ç—è–º–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤—ã–±–∏—Ä–∞–µ—Ç 10 –≥–æ—Å—Ç–µ–π (checkboxes –≤ —Ç–∞–±–ª–∏—Ü–µ) –∏ —Ö–æ—á–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∞—Å—Å–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ Bulk Actions –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å?

**A)** –≠–∫—Å–ø–æ—Ä—Ç | –£–¥–∞–ª–∏—Ç—å
**B)** –≠–∫—Å–ø–æ—Ä—Ç | –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã | –£–¥–∞–ª–∏—Ç—å
**C)** –≠–∫—Å–ø–æ—Ä—Ç | –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥ | –£–¥–∞–ª–∏—Ç—å
**D)** –≠–∫—Å–ø–æ—Ä—Ç | –î–æ–±–∞–≤–∏—Ç—å/–£–¥–∞–ª–∏—Ç—å –±–∞–ª–ª—ã | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –¢–µ–≥ | –ò–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å | –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –≠–∫—Å–ø–æ—Ä—Ç | –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥ | –£–¥–∞–ª–∏—Ç—å**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **üì• –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö** - CSV/XLSX –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–æ–∫
- ‚úÖ **üéÅ –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã** - –º–∞—Å—Å–æ–≤–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "500 –±–∞–ª–ª–æ–≤ –≤—Å–µ–º Gold –≥–æ—Å—Ç—è–º")
- ‚úÖ **üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - push —á–µ—Ä–µ–∑ Telegram/Email (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–∫—Ü–∏—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è")
- ‚úÖ **üè∑Ô∏è –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥** - —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è ("VIP", "Inactive", "Birthdays")
- ‚úÖ **üóëÔ∏è –£–¥–∞–ª–∏—Ç—å** - –º–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)

**UI (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Å—Ç–µ–π):**

```tsx
{selectedGuests.length > 0 && (
  <div className="fixed bottom-6 left-1/2 -translate-x-1/2 z-50">
    <Card className="shadow-lg border-primary">
      <CardContent className="p-4 flex items-center gap-4">
        <div className="flex items-center gap-2">
          <Checkbox
            checked={selectedGuests.length === guests.length}
            onCheckedChange={toggleSelectAll}
          />
          <span className="font-semibold">
            {selectedGuests.length} –≤—ã–±—Ä–∞–Ω–æ
          </span>
        </div>
        
        <Separator orientation="vertical" className="h-6" />
        
        <div className="flex gap-2">
          <Button variant="outline" size="sm" onClick={exportSelected}>
            <Download className="mr-2 h-4 w-4" />
            –≠–∫—Å–ø–æ—Ä—Ç
          </Button>
          
          <Button variant="outline" size="sm" onClick={openBulkAddBalls}>
            <Gift className="mr-2 h-4 w-4" />
            –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã
          </Button>
          
          <Button variant="outline" size="sm" onClick={openBulkNotification}>
            <Send className="mr-2 h-4 w-4" />
            –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          </Button>
          
          <Button variant="outline" size="sm" onClick={openBulkTag}>
            <Tag className="mr-2 h-4 w-4" />
            –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥
          </Button>
          
          <Separator orientation="vertical" className="h-6" />
          
          <Button variant="destructive" size="sm" onClick={openBulkDelete}>
            <Trash2 className="mr-2 h-4 w-4" />
            –£–¥–∞–ª–∏—Ç—å
          </Button>
        </div>
        
        <Button
          variant="ghost"
          size="sm"
          onClick={() => setSelectedGuests([])}
        >
          <X className="h-4 w-4" />
        </Button>
      </CardContent>
    </Card>
  </div>
)}
```


***

### **9Ô∏è‚É£ Guest Profile Page - –∫–∞–∫–∏–µ —Ç–∞–±—ã –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –≥–æ—Å—Ç—è ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/guests/:id` —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –ò–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ Guests-Enhanced-V4.html –≤–∏–¥–Ω—ã —Ç–∞–±—ã: Overview, Transactions, Visits, Activity Log.[^9_4]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ç–∞–±—ã –≤–∫–ª—é—á–∏—Ç—å –≤ Guest Profile?

**A)** Overview | Transactions | Visits
**B)** Overview | Transactions | Visits | Activity Log
**C)** Overview | –ë–∞–ª–ª—ã | –í–∏–∑–∏—Ç—ã | –ò—Å—Ç–æ—Ä–∏—è | –î–µ—Ç–∏
**D)** Overview | Transactions | Visits | Children | Activity Log | Analytics

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) 6 —Ç–∞–±–æ–≤ (Overview | Transactions | Visits | Children | Activity | Analytics)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Tab 1: Overview**

- –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –î–†, —Ñ–æ—Ç–æ)
- Loyalty –∫–∞—Ä—Ç–æ—á–∫–∞ (—É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å, QR-–∫–æ–¥, 6-digit –∫–æ–¥)
- Lifetime —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Lifetime Spent, Visits, Avg Check, –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- Quick Actions (–î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã, –¢—Ä–∞–Ω—Å—Ñ–µ—Ä, –°–±—Ä–æ—Å–∏—Ç—å QR, –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ)

**Tab 2: Transactions (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –±–∞–ª–ª–∞–º–∏)**

- –¢–∞–±–ª–∏—Ü–∞: –î–∞—Ç–∞ | –¢–∏–ø (–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ/–°–ø–∏—Å–∞–Ω–∏–µ/–¢—Ä–∞–Ω—Å—Ñ–µ—Ä) | –°—É–º–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ (POS/Manual) | –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ
- –§–∏–ª—å—Ç—Ä—ã: –¢–∏–ø | –î–∞—Ç–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫

**Tab 3: Visits (–í–∏–∑–∏—Ç—ã –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω)**

- –¢–∞–±–ª–∏—Ü–∞: –î–∞—Ç–∞ | –†–µ—Å—Ç–æ—Ä–∞–Ω | –ß–µ–∫ | –ù–∞—á–∏—Å–ª–µ–Ω–æ | –°–ø–∏—Å–∞–Ω–æ | –î–µ—Ç–∞–ª–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ß–∞—Å—Ç–æ—Ç–∞ –≤–∏–∑–∏—Ç–æ–≤, –õ—é–±–∏–º–æ–µ –≤—Ä–µ–º—è, –õ—é–±–∏–º—ã–π –¥–µ–Ω—å, –°—Ä–µ–¥–Ω–∏–π —á–µ–∫

**Tab 4: Children (–î–µ—Ç–∏ –≥–æ—Å—Ç—è)**

- –°–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π —Å –§–ò–û, –î–†, —Ñ–æ—Ç–æ
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞"
- Birthday promo –¥–ª—è –¥–µ—Ç–µ–π

**Tab 5: Activity Log (–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π)**

- –õ–æ–≥ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —ç—Ç–∏–º –≥–æ—Å—Ç–µ–º: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, impersonation
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–µ–π—Å—Ç–≤–∏—è

**Tab 6: Analytics (–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)**

- –ì—Ä–∞—Ñ–∏–∫ –≤–∏–∑–∏—Ç–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º
- –ì—Ä–∞—Ñ–∏–∫ —Ç—Ä–∞—Ç (Lifetime Spent Trend)
- RFM —Å–µ–≥–º–µ–Ω—Ç (Recency, Frequency, Monetary)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–î–∞–≤–Ω–æ –Ω–µ –±—ã–ª ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ")

***

### **üîü Guest Profile Overview Tab - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤–∫–ª—é—á–∏—Ç—å –≤ Overview?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

```tsx
<div className="grid grid-cols-3 gap-6">
  {/* Left Column: Personal Info */}
  <Card className="col-span-1">
    <CardHeader>
      <CardTitle>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>
    </CardHeader>
    <CardContent className="space-y-4">
      {/* Avatar */}
      <div className="flex flex-col items-center">
        <Avatar className="h-24 w-24">
          {guest.avatar ? (
            <AvatarImage src={guest.avatar} />
          ) : (
            <AvatarFallback className="text-2xl">
              {getInitials(guest.firstName, guest.lastName)}
            </AvatarFallback>
          )}
        </Avatar>
        <Button variant="ghost" size="sm" className="mt-2">
          <Upload className="mr-2 h-4 w-4" />
          –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
        </Button>
      </div>
      
      {/* Info Fields */}
      <Separator />
      
      <div className="space-y-3">
        <div>
          <Label className="text-xs text-secondary">–§–ò–û</Label>
          <p className="font-medium">
            {guest.firstName} {guest.lastName}
          </p>
        </div>
        
        <div>
          <Label className="text-xs text-secondary">–¢–µ–ª–µ—Ñ–æ–Ω</Label>
          <p className="font-medium">{formatPhone(guest.phone)}</p>
        </div>
        
        <div>
          <Label className="text-xs text-secondary">Email</Label>
          <p className="font-medium">{guest.email || '‚Äî'}</p>
        </div>
        
        <div>
          <Label className="text-xs text-secondary">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</Label>
          <p className="font-medium">
            {formatDate(guest.birthdate)} {getZodiacSign(guest.birthdate)}
          </p>
        </div>
        
        <div>
          <Label className="text-xs text-secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</Label>
          <p className="font-medium">
            {formatDate(guest.createdAt)}
            <span className="text-sm text-secondary ml-2">
              ({formatRelative(guest.createdAt)})
            </span>
          </p>
        </div>
        
        <div>
          <Label className="text-xs text-secondary">–ò—Å—Ç–æ—á–Ω–∏–∫</Label>
          <Badge variant="outline">
            {SOURCE_ICONS[guest.registrationSource]}
            {guest.registrationSource}
          </Badge>
        </div>
      </div>
      
      <Separator />
      
      <Button variant="outline" className="w-full">
        <Edit className="mr-2 h-4 w-4" />
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      </Button>
    </CardContent>
  </Card>
  
  {/* Center Column: Loyalty Card */}
  <Card className="col-span-1">
    <CardHeader>
      <CardTitle>Loyalty –∫–∞—Ä—Ç–æ—á–∫–∞</CardTitle>
    </CardHeader>
    <CardContent className="space-y-4">
      {/* Level Badge */}
      <div className="flex items-center justify-center gap-3">
        <span className="text-4xl">{LEVEL_ICONS[guestCard.level]}</span>
        <div>
          <div className="text-2xl font-bold">{guestCard.level}</div>
          <div className="text-sm text-secondary">
            {formatCurrency(guestCard.lifetimeSpent)} –ø–æ—Ç—Ä–∞—á–µ–Ω–æ
          </div>
        </div>
      </div>
      
      {/* Balance */}
      <Separator />
      
      <div className="text-center">
        <div className="text-3xl font-bold text-primary">
          {guestCard.totalBalance}
        </div>
        <div className="text-sm text-secondary">
          –±–∞–ª–ª–æ–≤ –Ω–∞ —Å—á—ë—Ç–µ
        </div>
        <div className="text-xs text-secondary mt-1">
          Regular: {guestCard.regularBalance} | Promo: {guestCard.promoBalance}
        </div>
      </div>
      
      {/* QR Code */}
      <div className="flex flex-col items-center bg-white p-4 rounded-lg">
        <QRCodeSVG value={guestCard.qrCode} size={150} />
        <div className="mt-2 font-mono text-lg">
          {guestCard.displayCode}
        </div>
      </div>
      
      {/* Actions */}
      <div className="grid grid-cols-2 gap-2">
        <Button variant="outline" size="sm" onClick={resetQR}>
          <RefreshCw className="mr-2 h-4 w-4" />
          –°–±—Ä–æ—Å–∏—Ç—å QR
        </Button>
        <Button variant="outline" size="sm" onClick={printCard}>
          <Printer className="mr-2 h-4 w-4" />
          –ü–µ—á–∞—Ç—å
        </Button>
      </div>
    </CardContent>
  </Card>
  
  {/* Right Column: Stats + Actions */}
  <Card className="col-span-1">
    <CardHeader>
      <CardTitle>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</CardTitle>
    </CardHeader>
    <CardContent className="space-y-6">
      {/* Lifetime Stats */}
      <div className="grid grid-cols-2 gap-4">
        <div>
          <div className="text-2xl font-bold">
            {formatCurrency(guestCard.lifetimeSpent)}
          </div>
          <div className="text-xs text-secondary">Lifetime Spent</div>
        </div>
        
        <div>
          <div className="text-2xl font-bold">
            {guestCard.visitsCount}
          </div>
          <div className="text-xs text-secondary">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
        </div>
        
        <div>
          <div className="text-2xl font-bold">
            {formatCurrency(guestCard.avgCheck)}
          </div>
          <div className="text-xs text-secondary">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</div>
        </div>
        
        <div>
          <div className="text-2xl font-bold">
            {formatRelative(guestCard.lastVisit)}
          </div>
          <div className="text-xs text-secondary">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç</div>
        </div>
      </div>
      
      <Separator />
      
      {/* Quick Actions */}
      <div className="space-y-2">
        <h4 className="text-sm font-semibold">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
        
        <Button variant="outline" className="w-full justify-start" onClick={openAddBalls}>
          <Plus className="mr-2 h-4 w-4 text-success" />
          –ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã
        </Button>
        
        <Button variant="outline" className="w-full justify-start" onClick={openSubtractBalls}>
          <Minus className="mr-2 h-4 w-4 text-danger" />
          –°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã
        </Button>
        
        <Button variant="outline" className="w-full justify-start" onClick={openTransfer}>
          <ArrowLeftRight className="mr-2 h-4 w-4 text-info" />
          –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –±–∞–ª–ª–æ–≤
        </Button>
        
        <Button variant="outline" className="w-full justify-start" onClick={openSendMessage}>
          <Send className="mr-2 h-4 w-4 text-primary" />
          –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        </Button>
        
        <Separator />
        
        <Button variant="destructive" className="w-full justify-start" onClick={openBlockGuest}>
          <Ban className="mr-2 h-4 w-4" />
          –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è
        </Button>
      </div>
    </CardContent>
  </Card>
</div>
```


***

## **üéÅ 3. LOYALTY BUILDER PAGE**

### **1Ô∏è‚É£1Ô∏è‚É£ Loyalty Builder Structure - –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç loyalty —Å–∏—Å—Ç–µ–º—É: –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, —É—Ä–æ–≤–Ω–∏ (Bronze/Silver/Gold), –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏, –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏.[^9_2][^9_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å Loyalty Builder?

**A)** –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–∞–±–∞–º–∏ (Rules | Levels | Promos | Design)
**B)** –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (/loyalty/rules, /loyalty/levels, etc.)
**C)** Wizard flow (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º)
**D)** Dashboard —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ ‚Üí –∫–ª–∏–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Builder

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å 4 —Ç–∞–±–∞–º–∏**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ** - Admin –≤–∏–¥–∏—Ç –≤—Å—é loyalty —Å–∏—Å—Ç–µ–º—É —Å—Ä–∞–∑—É
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ **–õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** - Rules, Levels, Promos, Design ‚Äî —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

**Tabs:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìè –ü—Ä–∞–≤–∏–ª–∞ | üèÜ –£—Ä–æ–≤–Ω–∏ | üéÅ –ü—Ä–æ–º–æ | üé® –î–∏–∑–∞–π–Ω ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **1Ô∏è‚É£2Ô∏è‚É£ Loyalty Rules Builder - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª–æ: "–ù–∞—á–∏—Å–ª—è—Ç—å 10% —Å –∫–∞–∂–¥–æ–≥–æ —á–µ–∫–∞", "–î–≤–æ–π–Ω—ã–µ –±–∞–ª–ª—ã –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º", "15% –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é '–ü–∏—Ü—Ü–∞'".[^9_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª?

**A)** –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ (–ù–∞–∑–≤–∞–Ω–∏–µ, –ü—Ä–æ—Ü–µ–Ω—Ç, –£—Å–ª–æ–≤–∏—è)
**B)** Visual Builder —Å drag-drop –±–ª–æ–∫–∞–º–∏
**C)** –§–æ—Ä–º–∞ + Live Preview (–≤–∏–¥–Ω–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
**D)** Template Wizard (–≤—ã–±—Ä–∞—Ç—å —à–∞–±–ª–æ–Ω ‚Üí –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –§–æ—Ä–º–∞ + Live Preview**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–§–æ—Ä–º–∞** - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è Admin
- ‚úÖ **Live Preview** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —á–µ–∫–∞
- ‚úÖ **Validation** - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **Examples** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ü—Ä–∏–º–µ—Ä —á–µ–∫–∞: 2,000‚ÇΩ ‚Üí –ù–∞—á–∏—Å–ª–µ–Ω–æ: 200 –±–∞–ª–ª–æ–≤"

**UI Layout:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ]  [–ò–º–ø–æ—Ä—Ç]  [–®–∞–±–ª–æ–Ω—ã]         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ê–ö–¢–ò–í–ù–´–ï –ü–†–ê–í–ò–õ–ê (3)                            ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ ‚îå‚îÄ Priority 1 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ üéâ Birthday Cashback         [‚úì –ê–∫—Ç–∏–≤–Ω–æ] ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: 15%                           ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –£—Å–ª–æ–≤–∏—è: –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –≥–æ—Å—Ç—è              ‚îÇ   ‚îÇ
‚îÇ ‚îÇ [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å]          ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ ‚îå‚îÄ Priority 2 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ üçï Weekend Bonus            [‚úì –ê–∫—Ç–∏–≤–Ω–æ]  ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: 12%                           ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –£—Å–ª–æ–≤–∏—è: –°–±-–í—Å, 18:00-22:00               ‚îÇ   ‚îÇ
‚îÇ ‚îÇ [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å]          ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ ‚îå‚îÄ Priority 3 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ üí∞ Base Cashback            [‚úì –ê–∫—Ç–∏–≤–Ω–æ]  ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: 10%                           ‚îÇ   ‚îÇ
‚îÇ ‚îÇ –£—Å–ª–æ–≤–∏—è: –í—Å–µ–≥–¥–∞                           ‚îÇ   ‚îÇ
‚îÇ ‚îÇ [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å]          ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Create/Edit Rule Modal:**

```tsx
<Dialog open={showRuleBuilder} onOpenChange={setShowRuleBuilder}>
  <DialogContent className="max-w-4xl max-h-[90vh] overflow-y-auto">
    <DialogHeader>
      <DialogTitle>
        {editingRule ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ' : '–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ'}
      </DialogTitle>
    </DialogHeader>
    
    <div className="grid grid-cols-2 gap-6">
      {/* Left: Form */}
      <div className="space-y-4">
        <div>
          <Label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ *</Label>
          <Input
            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Birthday Cashback"
            value={rule.name}
            onChange={(e) => setRule({ ...rule, name: e.target.value })}
          />
        </div>
        
        <div>
          <Label>–ü—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è *</Label>
          <div className="flex items-center gap-2">
            <Slider
              value={[rule.earnPercent]}
              onValueChange={([value]) => setRule({ ...rule, earnPercent: value })}
              min={1}
              max={30}
              step={1}
              className="flex-1"
            />
            <Input
              type="number"
              value={rule.earnPercent}
              onChange={(e) => setRule({ ...rule, earnPercent: Number(e.target.value) })}
              className="w-20"
            />
            <span className="text-secondary">%</span>
          </div>
        </div>
        
        <Separator />
        
        <div>
          <Label className="flex items-center justify-between">
            <span>–£—Å–ª–æ–≤–∏—è</span>
            <Button
              variant="ghost"
              size="sm"
              onClick={() => addCondition()}
            >
              <Plus className="h-4 w-4 mr-1" />
              –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ
            </Button>
          </Label>
          
          <div className="space-y-2 mt-2">
            {rule.conditions.map((condition, idx) => (
              <ConditionBuilder
                key={idx}
                condition={condition}
                onChange={(updated) => updateCondition(idx, updated)}
                onRemove={() => removeCondition(idx)}
              />
            ))}
            
            {rule.conditions.length === 0 && (
              <Alert>
                <Info className="h-4 w-4" />
                <AlertDescription>
                  –ü—Ä–∞–≤–∏–ª–æ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ –≤—Å–µ–º —á–µ–∫–∞–º
                </AlertDescription>
              </Alert>
            )}
          </div>
        </div>
        
        <Separator />
        
        <div>
          <Label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</Label>
          <Select
            value={String(rule.priority)}
            onValueChange={(value) => setRule({ ...rule, priority: Number(value) })}
          >
            <SelectTrigger>
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              {[1, 2, 3, 4, 5].map((p) => (
                <SelectItem key={p} value={String(p)}>
                  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç {p}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
          <p className="text-xs text-secondary mt-1">
            –ü—Ä–∞–≤–∏–ª–∞ —Å –º–µ–Ω—å—à–∏–º –Ω–æ–º–µ—Ä–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
          </p>
        </div>
        
        <div className="flex items-center justify-between">
          <Label>–°—Ç–∞—Ç—É—Å</Label>
          <Switch
            checked={rule.isActive}
            onCheckedChange={(checked) => setRule({ ...rule, isActive: checked })}
          />
        </div>
      </div>
      
      {/* Right: Live Preview */}
      <div className="space-y-4">
        <Card className="bg-primary/5">
          <CardHeader>
            <CardTitle className="text-base">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</CardTitle>
            <CardDescription>
              –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —á–µ–∫–∞
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            {/* Example Check */}
            <div>
              <Label className="text-xs">–ü—Ä–∏–º–µ—Ä —á–µ–∫–∞</Label>
              <div className="bg-card p-3 rounded-lg mt-1 space-y-2">
                <div className="flex justify-between text-sm">
                  <span>–°—É–º–º–∞ —á–µ–∫–∞:</span>
                  <span className="font-medium">2,000‚ÇΩ</span>
                </div>
                <div className="flex justify-between text-sm">
                  <span>–î–∞—Ç–∞:</span>
                  <span className="font-medium">{formatDate(previewDate)}</span>
                </div>
                <div className="flex justify-between text-sm">
                  <span>–£—Ä–æ–≤–µ–Ω—å –≥–æ—Å—Ç—è:</span>
                  <Badge>Silver</Badge>
                </div>
              </div>
            </div>
            
            {/* Calculation Result */}
            <Separator />
            
            <div>
              <Label className="text-xs">–†–µ–∑—É–ª—å—Ç–∞—Ç</Label>
              <div className="bg-success/10 border border-success/20 p-3 rounded-lg mt-1">
                <div className="flex items-center justify-between mb-2">
                  <span className="text-sm">–ù–∞—á–∏—Å–ª–µ–Ω–æ –±–∞–ª–ª–æ–≤:</span>
                  <span className="text-2xl font-bold text-success">
                    {calculateEarnedBalls(rule, 2000)}
                  </span>
                </div>
                <div className="text-xs text-secondary">
                  –†–∞—Å—á—ë—Ç: 2,000‚ÇΩ √ó {rule.earnPercent}% = {calculateEarnedBalls(rule, 2000)} –±–∞–ª–ª–æ–≤
                </div>
              </div>
            </div>
            
            {/* Conditions Match */}
            {rule.conditions.length > 0 && (
              <>
                <Separator />
                <div>
                  <Label className="text-xs">–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π</Label>
                  <div className="space-y-1 mt-1">
                    {rule.conditions.map((condition, idx) => (
                      <div
                        key={idx}
                        className="flex items-center gap-2 text-sm"
                      >
                        {checkCondition(condition, previewDate) ? (
                          <CheckCircle2 className="h-4 w-4 text-success" />
                        ) : (
                          <XCircle className="h-4 w-4 text-danger" />
                        )}
                        <span>{formatCondition(condition)}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </>
            )}
          </CardContent>
        </Card>
        
        {/* Templates */}
        <Card>
          <CardHeader>
            <CardTitle className="text-base">–®–∞–±–ª–æ–Ω—ã</CardTitle>
          </CardHeader>
          <CardContent className="space-y-2">
            <Button
              variant="outline"
              size="sm"
              className="w-full justify-start"
              onClick={() => applyTemplate('birthday')}
            >
              üéâ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (15%)
            </Button>
            <Button
              variant="outline"
              size="sm"
              className="w-full justify-start"
              onClick={() => applyTemplate('weekend')}
            >
              üçï –í—ã—Ö–æ–¥–Ω—ã–µ (12%)
            </Button>
            <Button
              variant="outline"
              size="sm"
              className="w-full justify-start"
              onClick={() => applyTemplate('happy-hour')}
            >
              üçπ Happy Hour (20%)
            </Button>
          </CardContent>
        </Card>
      </div>
    </div>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowRuleBuilder(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={saveRule} disabled={!isRuleValid()}>
        {editingRule ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : '–°–æ–∑–¥–∞—Ç—å'}
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ 13-25?** –ò–ª–∏ —Ö–æ—á–µ—à—å —É—Ç–æ—á–Ω–∏—Ç—å —á—Ç–æ-—Ç–æ –ø–æ –ø–µ—Ä–≤—ã–º 12 –≤–æ–ø—Ä–æ—Å–∞–º Admin Dashboard?

**–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã:**

- 13-17: Loyalty Levels, Promos, Design
- 18-21: Analytics Page, Reports, Drill-down
- 22-25: Settings, Team Management, POS Integration, Mobile View

<div align="center">‚ÅÇ</div>

[^9_1]: Beseda-2.md

[^9_2]: Beseda-8.md

[^9_3]: Max-Loyalty-Dashboard.html

[^9_4]: Guests-Enhanced-V4.html


---

# üçï **ADMIN DASHBOARD (RESTAURANTADMIN) - –ü–†–û–î–û–õ–ñ–ï–ù–ò–ï (13-25 –í–û–ü–†–û–°–û–í)**


***

## **üéÅ 3. LOYALTY BUILDER PAGE (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)**

### **1Ô∏è‚É£3Ô∏è‚É£ Loyalty Levels - –∫–∞–∫ Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —É—Ä–æ–≤–Ω–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Å–æ–∑–¥–∞—ë—Ç —É—Ä–æ–≤–Ω–∏: Bronze (0‚ÇΩ), Silver (150,000‚ÇΩ), Gold (400,000‚ÇΩ), Platinum (1,000,000‚ÇΩ). –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–∞—ë—Ç –±–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é (+5%, +10%, +15%).[^10_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω–µ–π?

**A)** –¢–∞–±–ª–∏—Ü–∞ —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º inline
**B)** Timeline –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ: Bronze ‚Üí Silver ‚Üí Gold)
**C)** Cards Grid —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏
**D)** Drag-and-drop Builder —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π —à–∫–∞–ª–æ–π

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Timeline –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è + Modal –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Visual** - Admin —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—é —É—Ä–æ–≤–Ω–µ–π (0‚ÇΩ ‚Üí 150K ‚Üí 400K ‚Üí 1M)
- ‚úÖ **Intuitive** - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π flow "—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ" = —Ä–æ—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ **One-way up logic** - –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç downgrade[^10_1]
- ‚úÖ **Editable** - –∫–ª–∏–∫ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å ‚Üí Modal —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**UI (Timeline View):**

```tsx
<div className="space-y-6">
  <div className="flex items-center justify-between">
    <div>
      <h2 className="text-2xl font-bold">–£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
      <p className="text-sm text-secondary mt-1">
        –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä–æ–≥–∏ –∏ –±–æ–Ω—É—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
      </p>
    </div>
    <Button onClick={openCreateLevel}>
      <Plus className="mr-2 h-4 w-4" />
      –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å
    </Button>
  </div>
  
  <Alert>
    <Info className="h-4 w-4" />
    <AlertDescription>
      <strong>One-way up:</strong> –ì–æ—Å—Ç–∏ –Ω–µ –º–æ–≥—É—Ç —Å–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –Ω–∏–∂–µ. 
      –£—Ä–æ–≤–µ–Ω—å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Lifetime Spent.
    </AlertDescription>
  </Alert>
  
  {/* Timeline */}
  <div className="relative">
    {/* Progress Line */}
    <div className="absolute top-12 left-0 right-0 h-1 bg-border" />
    
    <div className="relative grid grid-cols-4 gap-4">
      {levels.map((level, idx) => (
        <Card
          key={level.id}
          className={cn(
            "cursor-pointer hover:border-primary transition",
            selectedLevel?.id === level.id && "border-primary shadow-lg"
          )}
          onClick={() => selectLevel(level)}
        >
          <CardContent className="p-6 text-center">
            {/* Level Icon */}
            <div className="text-5xl mb-3">
              {LEVEL_ICONS[level.name]}
            </div>
            
            {/* Level Name */}
            <h3 className="text-xl font-bold mb-2">
              {level.name}
            </h3>
            
            {/* Threshold */}
            <div className="text-sm text-secondary mb-4">
              {idx === 0 ? (
                '–° –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è'
              ) : (
                <>
                  –û—Ç <span className="font-semibold text-foreground">
                    {formatCurrency(level.threshold)}
                  </span>
                </>
              )}
            </div>
            
            {/* Bonus */}
            <Badge variant="outline" className="mb-4">
              +{level.earnBonus}% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é
            </Badge>
            
            {/* Stats */}
            <div className="text-xs text-secondary">
              {level.guestsCount} –≥–æ—Å—Ç–µ–π
            </div>
            
            {/* Arrow to next level */}
            {idx < levels.length - 1 && (
              <ChevronRight className="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 h-6 w-6 text-primary z-10" />
            )}
          </CardContent>
        </Card>
      ))}
    </div>
  </div>
  
  {/* Selected Level Details */}
  {selectedLevel && (
    <Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <span className="text-2xl">{LEVEL_ICONS[selectedLevel.name]}</span>
          <span>{selectedLevel.name}</span>
        </CardTitle>
      </CardHeader>
      <CardContent>
        <dl className="grid grid-cols-2 gap-4">
          <div>
            <dt className="text-sm text-secondary">–ü–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞</dt>
            <dd className="text-2xl font-bold">
              {formatCurrency(selectedLevel.threshold)}
            </dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">–ë–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é</dt>
            <dd className="text-2xl font-bold text-success">
              +{selectedLevel.earnBonus}%
            </dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">–ì–æ—Å—Ç–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ</dt>
            <dd className="text-2xl font-bold">
              {selectedLevel.guestsCount}
            </dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</dt>
            <dd className="text-2xl font-bold">
              {formatCurrency(selectedLevel.avgCheck)}
            </dd>
          </div>
        </dl>
        
        <div className="flex gap-2 mt-6">
          <Button onClick={() => editLevel(selectedLevel)}>
            <Edit className="mr-2 h-4 w-4" />
            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
          </Button>
          
          <Button variant="outline" onClick={() => viewGuests(selectedLevel)}>
            <Users className="mr-2 h-4 w-4" />
            –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥–æ—Å—Ç–µ–π
          </Button>
          
          {selectedLevel.guestsCount === 0 && (
            <Button variant="destructive" onClick={() => deleteLevel(selectedLevel)}>
              <Trash2 className="mr-2 h-4 w-4" />
              –£–¥–∞–ª–∏—Ç—å
            </Button>
          )}
        </div>
      </CardContent>
    </Card>
  )}
</div>
```

**Edit Level Modal:**

```tsx
<Dialog open={showEditLevel} onOpenChange={setShowEditLevel}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å</DialogTitle>
    </DialogHeader>
    
    <form onSubmit={handleSubmit} className="space-y-4">
      <div>
        <Label>–ù–∞–∑–≤–∞–Ω–∏–µ *</Label>
        <Input
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Silver"
          value={editingLevel.name}
          onChange={(e) => setEditingLevel({ ...editingLevel, name: e.target.value })}
          required
        />
      </div>
      
      <div>
        <Label>–ò–∫–æ–Ω–∫–∞</Label>
        <Select
          value={editingLevel.icon}
          onValueChange={(value) => setEditingLevel({ ...editingLevel, icon: value })}
        >
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="ü•â">ü•â Bronze</SelectItem>
            <SelectItem value="ü•à">ü•à Silver</SelectItem>
            <SelectItem value="ü•á">ü•á Gold</SelectItem>
            <SelectItem value="üëë">üëë Platinum</SelectItem>
            <SelectItem value="üíé">üíé Diamond</SelectItem>
          </SelectContent>
        </Select>
      </div>
      
      <div>
        <Label>–ü–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ (Lifetime Spent) *</Label>
        <Input
          type="number"
          placeholder="150000"
          value={editingLevel.threshold}
          onChange={(e) => setEditingLevel({ ...editingLevel, threshold: Number(e.target.value) })}
          required
        />
        <p className="text-xs text-secondary mt-1">
          –ì–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç —É—Ä–æ–≤–Ω—è –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ —ç—Ç–æ–π —Å—É–º–º—ã –ø–æ–∫—É–ø–æ–∫
        </p>
      </div>
      
      <div>
        <Label>–ë–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é *</Label>
        <div className="flex items-center gap-2">
          <Slider
            value={[editingLevel.earnBonus]}
            onValueChange={([value]) => setEditingLevel({ ...editingLevel, earnBonus: value })}
            min={0}
            max={20}
            step={1}
            className="flex-1"
          />
          <Input
            type="number"
            value={editingLevel.earnBonus}
            onChange={(e) => setEditingLevel({ ...editingLevel, earnBonus: Number(e.target.value) })}
            className="w-20"
          />
          <span className="text-secondary">%</span>
        </div>
        <p className="text-xs text-secondary mt-1">
          –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä: 10% + 5% = 15% –∏—Ç–æ–≥–æ)
        </p>
      </div>
      
      <div>
        <Label>–¶–≤–µ—Ç</Label>
        <div className="flex gap-2">
          {COLOR_PRESETS.map((color) => (
            <button
              key={color}
              type="button"
              className={cn(
                "w-10 h-10 rounded-full border-2 transition",
                editingLevel.color === color ? "border-primary scale-110" : "border-transparent"
              )}
              style={{ backgroundColor: color }}
              onClick={() => setEditingLevel({ ...editingLevel, color })}
            />
          ))}
        </div>
      </div>
      
      <Alert variant="warning">
        <AlertTriangle className="h-4 w-4" />
        <AlertDescription>
          <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ {editingLevel.guestsCount} –≥–æ—Å—Ç–µ–π. 
          –ü–µ—Ä–µ—Å—á—ë—Ç —É—Ä–æ–≤–Ω–µ–π –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        </AlertDescription>
      </Alert>
    </form>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowEditLevel(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={saveLevel}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

### **1Ô∏è‚É£4Ô∏è‚É£ Promo Campaigns Builder - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–∫—Ü–∏–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–æ: "500 –±–∞–ª–ª–æ–≤ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è", "–£–¥–≤–æ–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ", "1000 –±–∞–ª–ª–æ–≤ –∑–∞ –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç".[^10_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–æ?

**A)** –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ (–ù–∞–∑–≤–∞–Ω–∏–µ, –¢–∏–ø, –ë–æ–Ω—É—Å, –î–∞—Ç—ã)
**B)** Wizard (5 —à–∞–≥–æ–≤: –¢–∏–ø ‚Üí –£—Å–ª–æ–≤–∏—è ‚Üí –ë–æ–Ω—É—Å ‚Üí –î–∞—Ç—ã ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
**C)** Template Gallery ‚Üí –≤—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
**D)** AI Assistant (–æ–ø–∏—Å—ã–≤–∞–µ—à—å –ø—Ä–æ–º–æ —Ç–µ–∫—Å—Ç–æ–º ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Template Gallery + Form –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Templates** - 80% –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ (–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –í—ã—Ö–æ–¥–Ω—ã–µ, –ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç)
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - –∫–ª–∏–∫ –Ω–∞ —à–∞–±–ª–æ–Ω ‚Üí –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã ‚Üí —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ç–∞–ª–∏
- ‚úÖ **Custom option** - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è
- ‚úÖ **Visual** - –∏–∫–æ–Ω–∫–∏ –∏ –ø—Ä–µ–≤—å—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

**UI (Promo List + Template Gallery):**

```tsx
<div className="space-y-6">
  <div className="flex items-center justify-between">
    <div>
      <h2 className="text-2xl font-bold">–ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏</h2>
      <p className="text-sm text-secondary mt-1">
        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–æ–Ω—É—Å—ã –¥–ª—è –≥–æ—Å—Ç–µ–π
      </p>
    </div>
    <Button onClick={() => setShowTemplateGallery(true)}>
      <Plus className="mr-2 h-4 w-4" />
      –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ
    </Button>
  </div>
  
  {/* Active Promos */}
  <Card>
    <CardHeader>
      <CardTitle className="text-base">–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–∫—Ü–∏–∏ ({activePromos.length})</CardTitle>
    </CardHeader>
    <CardContent>
      <div className="space-y-3">
        {activePromos.map((promo) => (
          <div
            key={promo.id}
            className="flex items-center justify-between p-4 border rounded-lg hover:bg-card-hover transition"
          >
            <div className="flex items-center gap-4">
              <div className="text-3xl">
                {PROMO_ICONS[promo.type]}
              </div>
              <div>
                <div className="font-semibold">{promo.name}</div>
                <div className="text-sm text-secondary">
                  {promo.description}
                </div>
                <div className="flex items-center gap-3 mt-1">
                  <Badge variant="outline">
                    +{promo.bonusPoints} –±–∞–ª–ª–æ–≤
                  </Badge>
                  {promo.expiresInDays && (
                    <span className="text-xs text-secondary">
                      –î–µ–π—Å—Ç–≤—É—é—Ç {promo.expiresInDays} –¥–Ω–µ–π
                    </span>
                  )}
                </div>
              </div>
            </div>
            
            <div className="flex items-center gap-2">
              <div className="text-right mr-4">
                <div className="text-sm text-secondary">–ê–∫—Ç–∏–≤–∞—Ü–∏–π</div>
                <div className="text-xl font-bold">{promo.activationsCount}</div>
              </div>
              
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost" size="sm">
                    <MoreVertical className="h-4 w-4" />
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end">
                  <DropdownMenuItem onClick={() => editPromo(promo)}>
                    <Edit className="mr-2 h-4 w-4" />
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                  </DropdownMenuItem>
                  <DropdownMenuItem onClick={() => viewStats(promo)}>
                    <BarChart3 className="mr-2 h-4 w-4" />
                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem onClick={() => deactivatePromo(promo)}>
                    <PauseCircle className="mr-2 h-4 w-4" />
                    –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
          </div>
        ))}
      </div>
    </CardContent>
  </Card>
</div>

{/* Template Gallery Modal */}
<Dialog open={showTemplateGallery} onOpenChange={setShowTemplateGallery}>
  <DialogContent className="max-w-4xl">
    <DialogHeader>
      <DialogTitle>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏</DialogTitle>
      <DialogDescription>
        –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—É—é –∞–∫—Ü–∏—é —Å –Ω—É–ª—è
      </DialogDescription>
    </DialogHeader>
    
    <div className="grid grid-cols-3 gap-4">
      {PROMO_TEMPLATES.map((template) => (
        <Card
          key={template.type}
          className="cursor-pointer hover:border-primary transition"
          onClick={() => selectTemplate(template)}
        >
          <CardContent className="p-6 text-center">
            <div className="text-4xl mb-3">{template.icon}</div>
            <h3 className="font-semibold mb-2">{template.name}</h3>
            <p className="text-sm text-secondary mb-4">
              {template.description}
            </p>
            <Badge variant="outline">
              {template.defaultBonus} –±–∞–ª–ª–æ–≤
            </Badge>
          </CardContent>
        </Card>
      ))}
      
      {/* Custom Promo */}
      <Card
        className="cursor-pointer hover:border-primary transition border-dashed"
        onClick={() => createCustomPromo()}
      >
        <CardContent className="p-6 text-center flex flex-col items-center justify-center h-full">
          <Plus className="h-12 w-12 mb-3 text-secondary" />
          <h3 className="font-semibold">–ö–∞—Å—Ç–æ–º–Ω–∞—è –∞–∫—Ü–∏—è</h3>
          <p className="text-sm text-secondary mt-2">
            –°–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è
          </p>
        </CardContent>
      </Card>
    </div>
  </DialogContent>
</Dialog>
```

**Promo Templates:**

```typescript
const PROMO_TEMPLATES = [
  {
    type: 'BIRTHDAY',
    icon: 'üéÇ',
    name: '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    description: '–ë–æ–Ω—É—Å –≥–æ—Å—Ç—é –≤ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
    defaultBonus: 500,
    expiresInDays: 7,
    conditions: { birthdayWindow: 7 }
  },
  {
    type: 'CHILD_BIRTHDAY',
    icon: 'üéà',
    name: '–î–† —Ä–µ–±—ë–Ω–∫–∞',
    description: '–ë–æ–Ω—É—Å –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞',
    defaultBonus: 300,
    expiresInDays: 7,
    conditions: { childBirthdayWindow: 7 }
  },
  {
    type: 'FIRST_VISIT',
    icon: '‚ú®',
    name: '–ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç',
    description: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å –Ω–æ–≤–æ–º—É –≥–æ—Å—Ç—é',
    defaultBonus: 1000,
    expiresInDays: 30,
    conditions: { visitNumber: 1 }
  },
  {
    type: 'INACTIVITY',
    icon: 'üí§',
    name: '–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ',
    description: '–ë–æ–Ω—É—Å –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è',
    defaultBonus: 500,
    expiresInDays: 14,
    conditions: { inactiveDays: 60 }
  },
  {
    type: 'WEEKEND',
    icon: 'üéâ',
    name: '–í—ã—Ö–æ–¥–Ω—ã–µ',
    description: '–£–¥–≤–æ–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã –≤ –°–±-–í—Å',
    multiplier: 2,
    conditions: { daysOfWeek: [6, 7] }
  },
  {
    type: 'HAPPY_HOUR',
    icon: 'üçπ',
    name: 'Happy Hour',
    description: '–ë–æ–Ω—É—Å –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —á–∞—Å—ã',
    multiplier: 1.5,
    conditions: { timeRange: { from: '18:00', to: '22:00' } }
  }
];
```

**Edit Promo Form (after selecting template):**

```tsx
<Dialog open={showPromoForm} onOpenChange={setShowPromoForm}>
  <DialogContent className="max-w-2xl">
    <DialogHeader>
      <DialogTitle className="flex items-center gap-2">
        <span className="text-2xl">{selectedTemplate.icon}</span>
        <span>{selectedTemplate.name}</span>
      </DialogTitle>
    </DialogHeader>
    
    <form onSubmit={handleSavePromo} className="space-y-4">
      <div>
        <Label>–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏ *</Label>
        <Input
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ë–æ–Ω—É—Å –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è"
          value={promo.name}
          onChange={(e) => setPromo({ ...promo, name: e.target.value })}
          required
        />
      </div>
      
      <div>
        <Label>–û–ø–∏—Å–∞–Ω–∏–µ</Label>
        <Textarea
          placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ü–∏–∏..."
          value={promo.description}
          onChange={(e) => setPromo({ ...promo, description: e.target.value })}
          rows={3}
        />
      </div>
      
      <Separator />
      
      {/* Bonus Type */}
      <div>
        <Label>–¢–∏–ø –±–æ–Ω—É—Å–∞</Label>
        <RadioGroup
          value={promo.bonusType}
          onValueChange={(value) => setPromo({ ...promo, bonusType: value })}
        >
          <div className="flex items-center space-x-2">
            <RadioGroupItem value="fixed" id="fixed" />
            <Label htmlFor="fixed">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ –±–∞–ª–ª–æ–≤</Label>
          </div>
          <div className="flex items-center space-x-2">
            <RadioGroupItem value="multiplier" id="multiplier" />
            <Label htmlFor="multiplier">–ú–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</Label>
          </div>
          <div className="flex items-center space-x-2">
            <RadioGroupItem value="percentage" id="percentage" />
            <Label htmlFor="percentage">–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —á–µ–∫–∞</Label>
          </div>
        </RadioGroup>
      </div>
      
      {promo.bonusType === 'fixed' && (
        <div>
          <Label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ *</Label>
          <Input
            type="number"
            placeholder="500"
            value={promo.bonusPoints}
            onChange={(e) => setPromo({ ...promo, bonusPoints: Number(e.target.value) })}
            required
          />
        </div>
      )}
      
      {promo.bonusType === 'multiplier' && (
        <div>
          <Label>–ú–Ω–æ–∂–∏—Ç–µ–ª—å *</Label>
          <div className="flex items-center gap-2">
            <Input
              type="number"
              step="0.1"
              placeholder="2.0"
              value={promo.multiplier}
              onChange={(e) => setPromo({ ...promo, multiplier: Number(e.target.value) })}
              required
            />
            <span className="text-secondary">√ó</span>
          </div>
          <p className="text-xs text-secondary mt-1">
            –ù–∞–ø—Ä–∏–º–µ—Ä: 2.0 = —É–¥–≤–æ–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã, 1.5 = +50% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é
          </p>
        </div>
      )}
      
      <Separator />
      
      {/* Expiration */}
      <div>
        <Label>–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –±–∞–ª–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</Label>
        <div className="flex items-center gap-2">
          <Input
            type="number"
            placeholder="7"
            value={promo.expiresInDays ?? ''}
            onChange={(e) => setPromo({ ...promo, expiresInDays: e.target.value ? Number(e.target.value) : null })}
          />
          <span className="text-secondary">–¥–Ω–µ–π</span>
        </div>
        <p className="text-xs text-secondary mt-1">
          –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –±–µ—Å—Å—Ä–æ—á–Ω—ã—Ö –±–∞–ª–ª–æ–≤
        </p>
      </div>
      
      {/* Dates */}
      <div className="grid grid-cols-2 gap-4">
        <div>
          <Label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ *</Label>
          <Input
            type="date"
            value={promo.startDate}
            onChange={(e) => setPromo({ ...promo, startDate: e.target.value })}
            required
          />
        </div>
        <div>
          <Label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</Label>
          <Input
            type="date"
            value={promo.endDate ?? ''}
            onChange={(e) => setPromo({ ...promo, endDate: e.target.value || null })}
          />
        </div>
      </div>
      
      {/* Conditions */}
      <Separator />
      
      <div>
        <Label className="flex items-center justify-between">
          <span>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</span>
          <Button
            type="button"
            variant="ghost"
            size="sm"
            onClick={() => setShowConditions(!showConditions)}
          >
            {showConditions ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å'}
          </Button>
        </Label>
        
        {showConditions && (
          <div className="space-y-3 mt-3 p-4 border rounded-lg">
            <div>
              <Label className="text-sm">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —á–µ–∫–∞</Label>
              <Input
                type="number"
                placeholder="–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π"
                value={promo.minCheckAmount ?? ''}
                onChange={(e) => setPromo({ ...promo, minCheckAmount: e.target.value ? Number(e.target.value) : null })}
              />
            </div>
            
            <div>
              <Label className="text-sm">–ü—Ä–∏–º–µ–Ω–∏–º–æ –∫ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º</Label>
              <MultiSelect
                options={restaurants}
                value={promo.restaurantIds}
                onChange={(value) => setPromo({ ...promo, restaurantIds: value })}
                placeholder="–í—Å–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã"
              />
            </div>
            
            {selectedTemplate.type === 'WEEKEND' && (
              <div>
                <Label className="text-sm">–î–Ω–∏ –Ω–µ–¥–µ–ª–∏</Label>
                <div className="flex gap-2 mt-2">
                  {DAYS_OF_WEEK.map((day) => (
                    <Button
                      key={day.value}
                      type="button"
                      variant={promo.daysOfWeek?.includes(day.value) ? 'default' : 'outline'}
                      size="sm"
                      onClick={() => toggleDayOfWeek(day.value)}
                    >
                      {day.short}
                    </Button>
                  ))}
                </div>
              </div>
            )}
          </div>
        )}
      </div>
      
      {/* Active Status */}
      <div className="flex items-center justify-between p-4 border rounded-lg">
        <div>
          <Label>–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</Label>
          <p className="text-xs text-secondary mt-1">
            –ê–∫—Ü–∏—è –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞
          </p>
        </div>
        <Switch
          checked={promo.isActive}
          onCheckedChange={(checked) => setPromo({ ...promo, isActive: checked })}
        />
      </div>
      
      {/* Preview */}
      <Alert>
        <Gift className="h-4 w-4" />
        <AlertDescription>
          <strong>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</strong> –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç {promo.bonusType === 'fixed' ? `${promo.bonusPoints} –±–∞–ª–ª–æ–≤` : `${promo.multiplier}√ó –º–Ω–æ–∂–∏—Ç–µ–ª—å`} 
          {promo.expiresInDays && ` (–¥–µ–π—Å—Ç–≤—É—é—Ç ${promo.expiresInDays} –¥–Ω–µ–π)`}
        </AlertDescription>
      </Alert>
    </form>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowPromoForm(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={savePromo}>
        –°–æ–∑–¥–∞—Ç—å –∞–∫—Ü–∏—é
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

### **1Ô∏è‚É£5Ô∏è‚É£ Loyalty Card Design - –∫–∞–∫ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ loyalty –∫–∞—Ä—Ç–æ—á–∫–∏: —Ü–≤–µ—Ç–∞, –ª–æ–≥–æ—Ç–∏–ø, —Ñ–æ–Ω, —à—Ä–∏—Ñ—Ç—ã (–¥–ª—è –ø–µ—á–∞—Ç–∏ –∏ –≤ Telegram mini app).[^10_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞?

**A)** –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ (–¶–≤–µ—Ç, –õ–æ–≥–æ—Ç–∏–ø, –§–æ–Ω)
**B)** Visual Editor —Å Live Preview (–∫–∞–∫ –≤ Figma)
**C)** Template Gallery (–≤—ã–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω ‚Üí –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–≤–µ—Ç–∞)
**D)** AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–æ–ø–∏—Å–∞—Ç—å —Å—Ç–∏–ª—å ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∏–∑–∞–π–Ω)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Template Gallery + Color Customizer + Live Preview**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Templates** - –≥–æ—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏ (Minimal, Modern, Elegant, Fun)
- ‚úÖ **Customizer** - —Ü–≤–µ—Ç–∞ –±—Ä–µ–Ω–¥–∞, –ª–æ–≥–æ—Ç–∏–ø, –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ **Live Preview** - –≤–∏–¥–Ω–æ –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–Ω—ã –¥–∏–∑–∞–π–Ω-—Å–∫–∏–ª–ª—ã

**UI:**

```tsx
<div className="grid grid-cols-2 gap-6">
  {/* Left: Customizer */}
  <div className="space-y-6">
    <Card>
      <CardHeader>
        <CardTitle>–®–∞–±–ª–æ–Ω—ã –¥–∏–∑–∞–π–Ω–∞</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="grid grid-cols-2 gap-3">
          {CARD_TEMPLATES.map((template) => (
            <Card
              key={template.id}
              className={cn(
                "cursor-pointer transition",
                selectedTemplate.id === template.id ? "border-primary" : "border-border"
              )}
              onClick={() => selectTemplate(template)}
            >
              <CardContent className="p-3">
                <img
                  src={template.preview}
                  alt={template.name}
                  className="w-full h-24 object-cover rounded mb-2"
                />
                <div className="text-sm font-medium">{template.name}</div>
              </CardContent>
            </Card>
          ))}
        </div>
      </CardContent>
    </Card>
    
    <Card>
      <CardHeader>
        <CardTitle>–¶–≤–µ—Ç–∞ –±—Ä–µ–Ω–¥–∞</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <div>
          <Label>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç</Label>
          <div className="flex gap-2 mt-2">
            <Input
              type="color"
              value={design.primaryColor}
              onChange={(e) => setDesign({ ...design, primaryColor: e.target.value })}
              className="w-16 h-10"
            />
            <Input
              type="text"
              value={design.primaryColor}
              onChange={(e) => setDesign({ ...design, primaryColor: e.target.value })}
              placeholder="#3B82F6"
            />
          </div>
        </div>
        
        <div>
          <Label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞</Label>
          <div className="flex gap-2 mt-2">
            <Input
              type="color"
              value={design.backgroundColor}
              onChange={(e) => setDesign({ ...design, backgroundColor: e.target.value })}
              className="w-16 h-10"
            />
            <Input
              type="text"
              value={design.backgroundColor}
              onChange={(e) => setDesign({ ...design, backgroundColor: e.target.value })}
              placeholder="#FFFFFF"
            />
          </div>
        </div>
        
        <div>
          <Label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</Label>
          <div className="flex gap-2 mt-2">
            <Input
              type="color"
              value={design.textColor}
              onChange={(e) => setDesign({ ...design, textColor: e.target.value })}
              className="w-16 h-10"
            />
            <Input
              type="text"
              value={design.textColor}
              onChange={(e) => setDesign({ ...design, textColor: e.target.value })}
              placeholder="#000000"
            />
          </div>
        </div>
      </CardContent>
    </Card>
    
    <Card>
      <CardHeader>
        <CardTitle>–õ–æ–≥–æ—Ç–∏–ø</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        {design.logo ? (
          <div className="relative">
            <img
              src={design.logo}
              alt="Logo"
              className="w-full h-32 object-contain border rounded p-2"
            />
            <Button
              variant="ghost"
              size="sm"
              className="absolute top-2 right-2"
              onClick={() => setDesign({ ...design, logo: null })}
            >
              <X className="h-4 w-4" />
            </Button>
          </div>
        ) : (
          <div
            className="border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-primary transition"
            onClick={() => uploadLogo()}
          >
            <Upload className="h-8 w-8 mx-auto mb-2 text-secondary" />
            <p className="text-sm text-secondary">
              –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª–æ–≥–æ—Ç–∏–ø (PNG, SVG)
            </p>
          </div>
        )}
      </CardContent>
    </Card>
    
    <Card>
      <CardHeader>
        <CardTitle>–ü–∞—Ç—Ç–µ—Ä–Ω —Ñ–æ–Ω–∞</CardTitle>
      </CardHeader>
      <CardContent>
        <Select
          value={design.backgroundPattern}
          onValueChange={(value) => setDesign({ ...design, backgroundPattern: value })}
        >
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="none">–ë–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</SelectItem>
            <SelectItem value="dots">–¢–æ—á–∫–∏</SelectItem>
            <SelectItem value="waves">–í–æ–ª–Ω—ã</SelectItem>
            <SelectItem value="geometric">–ì–µ–æ–º–µ—Ç—Ä–∏—è</SelectItem>
            <SelectItem value="gradient">–ì—Ä–∞–¥–∏–µ–Ω—Ç</SelectItem>
          </SelectContent>
        </Select>
      </CardContent>
    </Card>
  </div>
  
  {/* Right: Live Preview */}
  <div className="space-y-6 sticky top-6">
    <Card>
      <CardHeader>
        <CardTitle>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</CardTitle>
        <CardDescription>
          –¢–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —É –≥–æ—Å—Ç–µ–π
        </CardDescription>
      </CardHeader>
      <CardContent>
        <Tabs defaultValue="physical">
          <TabsList className="grid w-full grid-cols-2">
            <TabsTrigger value="physical">–§–∏–∑–∏—á–µ—Å–∫–∞—è</TabsTrigger>
            <TabsTrigger value="digital">Telegram</TabsTrigger>
          </TabsList>
          
          <TabsContent value="physical" className="mt-4">
            <LoyaltyCardPreview
              design={design}
              guest={PREVIEW_GUEST}
              type="physical"
            />
          </TabsContent>
          
          <TabsContent value="digital" className="mt-4">
            <div className="bg-[#0088cc] p-4 rounded-lg">
              <LoyaltyCardPreview
                design={design}
                guest={PREVIEW_GUEST}
                type="digital"
              />
            </div>
          </TabsContent>
        </Tabs>
      </CardContent>
    </Card>
    
    <div className="flex gap-2">
      <Button variant="outline" onClick={resetToDefault}>
        –°–±—Ä–æ—Å–∏—Ç—å
      </Button>
      <Button className="flex-1" onClick={saveDesign}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∏–∑–∞–π–Ω
      </Button>
    </div>
  </div>
</div>
```


***

## **üìä 4. ANALYTICS PAGE**

### **1Ô∏è‚É£6Ô∏è‚É£ Analytics Dashboard Structure - –∫–∞–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/admin/analytics` –∏ —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞: –≤—ã—Ä—É—á–∫–∞, –≥–æ—Å—Ç–∏, loyalty ROI, —Ç—Ä–µ–Ω–¥—ã.[^10_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å Analytics Page?

**A)** Single Page —Å —Å–µ–∫—Ü–∏—è–º–∏ (Overview | Guests | Revenue | Loyalty)
**B)** Tabs (Overview | Guests Analysis | Revenue | Loyalty ROI | Reports)
**C)** Dashboard —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏ (drag-and-drop customizable)
**D)** Report Builder (–≤—ã–±–∏—Ä–∞–µ—à—å –º–µ—Ç—Ä–∏–∫–∏ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Tabs (5 —Ä–∞–∑–¥–µ–ª–æ–≤)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Overview** - –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ (KPIs + –≥–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏)
- ‚úÖ **Guests Analysis** - RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, cohort analysis, churn
- ‚úÖ **Revenue Analysis** - –≤—ã—Ä—É—á–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- ‚úÖ **Loyalty ROI** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **Reports** - –≥–æ—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

**Tabs:**

```tsx
<Tabs defaultValue="overview">
  <TabsList className="grid w-full grid-cols-5">
    <TabsTrigger value="overview">
      <BarChart3 className="mr-2 h-4 w-4" />
      –û–±–∑–æ—Ä
    </TabsTrigger>
    <TabsTrigger value="guests">
      <Users className="mr-2 h-4 w-4" />
      –ì–æ—Å—Ç–∏
    </TabsTrigger>
    <TabsTrigger value="revenue">
      <TrendingUp className="mr-2 h-4 w-4" />
      –í—ã—Ä—É—á–∫–∞
    </TabsTrigger>
    <TabsTrigger value="loyalty">
      <Gift className="mr-2 h-4 w-4" />
      Loyalty ROI
    </TabsTrigger>
    <TabsTrigger value="reports">
      <FileText className="mr-2 h-4 w-4" />
      –û—Ç—á—ë—Ç—ã
    </TabsTrigger>
  </TabsList>
  
  <TabsContent value="overview">
    {/* Overview content */}
  </TabsContent>
  
  {/* Other tabs... */}
</Tabs>
```


***

### **1Ô∏è‚É£7Ô∏è‚É£ Guests Analysis Tab - –∫–∞–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π: –∫—Ç–æ –∞–∫—Ç–∏–≤–Ω—ã–µ, –∫—Ç–æ at-risk, —Å–µ–≥–º–µ–Ω—Ç—ã –ø–æ RFM (Recency, Frequency, Monetary).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤–∫–ª—é—á–∏—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**1. RFM Segmentation Chart (Scatter Plot)**

- X-axis: Recency (–¥–Ω–µ–π —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–∑–∏—Ç–∞)
- Y-axis: Frequency (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤)
- Bubble size: Monetary (Lifetime Spent)
- –¶–≤–µ—Ç–∞: Champions (–∑–µ–ª—ë–Ω—ã–π), Loyal (—Å–∏–Ω–∏–π), At Risk (–æ—Ä–∞–Ω–∂–µ–≤—ã–π), Lost (–∫—Ä–∞—Å–Ω—ã–π)

**2. Guest Lifecycle Funnel**

```
–í—Å–µ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ: 2,847
  ‚Üì 92%
–°–¥–µ–ª–∞–ª–∏ –ø–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç: 2,619
  ‚Üì 68%
–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–∏–∑–∏—Ç: 1,781
  ‚Üì 45%
–õ–æ—è–ª—å–Ω—ã–µ (5+ –≤–∏–∑–∏—Ç–æ–≤): 1,281
  ‚Üì 35%
VIP (20+ –≤–∏–∑–∏—Ç–æ–≤): 997
```

**3. Cohort Retention Analysis (Heatmap)**

- –°—Ç—Ä–æ–∫–∏: Cohort (–º–µ—Å—è—Ü —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –°—Ç–æ–ª–±—Ü—ã: –ú–µ—Å—è—Ü—ã —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (Month 0, 1, 2, ...)
- –¶–≤–µ—Ç–∞: % —É–¥–µ—Ä–∂–∞–Ω–∏—è (100% –∑–µ–ª—ë–Ω—ã–π ‚Üí 0% –∫—Ä–∞—Å–Ω—ã–π)

**4. Churn Risk Matrix (Table)**

- –ì–æ—Å—Ç–∏ —Å —Ä–∏—Å–∫–æ–º –æ—Ç—Ç–æ–∫–∞ (–Ω–µ –±—ã–ª–∏ 30+ –¥–Ω–µ–π, –Ω–æ —Ä–∞–Ω—å—à–µ –∞–∫—Ç–∏–≤–Ω—ã–µ)
- –°—Ç–æ–ª–±—Ü—ã: –ò–º—è | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç | Lifetime Spent | –†–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ

**UI (Guests Analysis Tab):**

```tsx
<TabsContent value="guests" className="space-y-6">
  {/* Period Filter */}
  <div className="flex items-center justify-between">
    <div>
      <h3 className="text-xl font-bold">–ê–Ω–∞–ª–∏–∑ –≥–æ—Å—Ç–µ–π</h3>
      <p className="text-sm text-secondary mt-1">
        RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏ retention analysis
      </p>
    </div>
    <Select value={period} onValueChange={setPeriod}>
      <SelectTrigger className="w-[180px]">
        <SelectValue />
      </SelectTrigger>
      <SelectContent>
        <SelectItem value="30d">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</SelectItem>
        <SelectItem value="90d">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π</SelectItem>
        <SelectItem value="12m">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤</SelectItem>
        <SelectItem value="all">–ó–∞ –≤—Å—ë –≤—Ä–µ–º—è</SelectItem>
      </SelectContent>
    </Select>
  </div>
  
  {/* RFM Segments Summary */}
  <div className="grid grid-cols-4 gap-4">
    {RFM_SEGMENTS.map((segment) => (
      <Card key={segment.id}>
        <CardContent className="p-4">
          <div className="flex items-center justify-between mb-2">
            <Badge style={{ backgroundColor: segment.color }}>
              {segment.name}
            </Badge>
            <span className="text-2xl font-bold">
              {segment.count}
            </span>
          </div>
          <p className="text-xs text-secondary">{segment.description}</p>
          <div className="mt-2">
            <Progress value={segment.percentage} />
            <p className="text-xs text-secondary mt-1">
              {segment.percentage}% –æ—Ç –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π
            </p>
          </div>
        </CardContent>
      </Card>
    ))}
  </div>
  
  {/* RFM Scatter Plot */}
  <Card>
    <CardHeader>
      <CardTitle>RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è</CardTitle>
      <CardDescription>
        Recency (–¥–Ω–∏), Frequency (–≤–∏–∑–∏—Ç—ã), Monetary (—Ç—Ä–∞—Ç—ã)
      </CardDescription>
    </CardHeader>
    <CardContent>
      <ResponsiveContainer width="100%" height={400}>
        <ScatterChart>
          <CartesianGrid strokeDasharray="3 3" stroke="#262626" />
          <XAxis 
            dataKey="recency" 
            name="–î–Ω–µ–π —Å –≤–∏–∑–∏—Ç–∞" 
            stroke="#a1a1a1"
          />
          <YAxis 
            dataKey="frequency" 
            name="–í–∏–∑–∏—Ç–æ–≤" 
            stroke="#a1a1a1"
          />
          <Tooltip 
            cursor={{ strokeDasharray: '3 3' }}
            content={<CustomTooltip />}
          />
          <Legend />
          
          {RFM_SEGMENTS.map((segment) => (
            <Scatter
              key={segment.id}
              name={segment.name}
              data={segment.data}
              fill={segment.color}
            />
          ))}
        </ScatterChart>
      </ResponsiveContainer>
    </CardContent>
  </Card>
  
  {/* Guest Lifecycle Funnel */}
  <Card>
    <CardHeader>
      <CardTitle>–í–æ—Ä–æ–Ω–∫–∞ –≥–æ—Å—Ç–µ–π</CardTitle>
    </CardHeader>
    <CardContent>
      <FunnelChart data={LIFECYCLE_FUNNEL} />
    </CardContent>
  </Card>
  
  {/* Cohort Retention */}
  <Card>
    <CardHeader>
      <CardTitle>Cohort Retention Analysis</CardTitle>
      <CardDescription>
        –ü—Ä–æ—Ü–µ–Ω—Ç –≥–æ—Å—Ç–µ–π, –≤–µ—Ä–Ω—É–≤—à–∏—Ö—Å—è –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
      </CardDescription>
    </CardHeader>
    <CardContent>
      <CohortHeatmap data={COHORT_DATA} />
    </CardContent>
  </Card>
  
  {/* Churn Risk Table */}
  <Card>
    <CardHeader>
      <CardTitle className="flex items-center gap-2">
        <AlertTriangle className="h-5 w-5 text-warning" />
        –†–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞ ({churnRiskGuests.length})
      </CardTitle>
      <CardDescription>
        –ì–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å
      </CardDescription>
    </CardHeader>
    <CardContent>
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>–ì–æ—Å—Ç—å</TableHead>
            <TableHead>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç</TableHead>
            <TableHead>Lifetime Spent</TableHead>
            <TableHead>–†–∏—Å–∫</TableHead>
            <TableHead>–î–µ–π—Å—Ç–≤–∏–µ</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {churnRiskGuests.map((guest) => (
            <TableRow key={guest.id}>
              <TableCell>
                <div className="flex items-center gap-2">
                  <Avatar className="h-8 w-8">
                    <AvatarFallback>
                      {getInitials(guest.firstName, guest.lastName)}
                    </AvatarFallback>
                  </Avatar>
                  <div>
                    <div className="font-medium">
                      {guest.firstName} {guest.lastName}
                    </div>
                    <div className="text-sm text-secondary">
                      {guest.phone}
                    </div>
                  </div>
                </div>
              </TableCell>
              <TableCell>
                <span className="text-warning">
                  {formatRelative(guest.lastVisit)}
                </span>
              </TableCell>
              <TableCell className="font-medium">
                {formatCurrency(guest.lifetimeSpent)}
              </TableCell>
              <TableCell>
                <Badge variant={RISK_VARIANTS[guest.riskLevel]}>
                  {guest.riskLevel}
                </Badge>
              </TableCell>
              <TableCell>
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => sendWinbackOffer(guest)}
                >
                  <Send className="mr-2 h-4 w-4" />
                  –í–µ—Ä–Ω—É—Ç—å
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </CardContent>
  </Card>
</TabsContent>
```


***

### **1Ô∏è‚É£8Ô∏è‚É£ Loyalty ROI Tab - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å: —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ loyalty –ø—Ä–æ–≥—Ä–∞–º–º–∞? –°–∫–æ–ª—å–∫–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤—ã—Ä—É—á–∫–∏ –Ω–∞ 1‚ÇΩ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤?

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Key Metrics:**

1. **ROI** - 1:8.4 (–Ω–∞ 1‚ÇΩ –±–∞–ª–ª–æ–≤ ‚Üí 8.4‚ÇΩ –≤—ã—Ä—É—á–∫–∏)
2. **Earned vs Redeemed** - –ù–∞—á–∏—Å–ª–µ–Ω–æ: 45,680 | –°–ø–∏—Å–∞–Ω–æ: 12,340 (27% redemption rate)
3. **Avg Check Lift** - +18% —É –≥–æ—Å—Ç–µ–π —Å –±–∞–ª–ª–∞–º–∏ vs –±–µ–∑ –±–∞–ª–ª–æ–≤
4. **Repeat Rate** - 68% –≥–æ—Å—Ç–µ–π —Å loyalty –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è vs 34% –±–µ–∑ loyalty

**Charts:**

1. **Balls Flow (Sankey Diagram)**
    - Earned ‚Üí Active Balance ‚Üí Redeemed
    - Earned ‚Üí Active Balance ‚Üí Expired
2. **Revenue Impact (Stacked Bar)**
    - –° loyalty –±–∞–ª–ª–∞–º–∏ (–∑–µ–ª—ë–Ω—ã–π)
    - –ë–µ–∑ loyalty (—Å–µ—Ä—ã–π)
    - –ü–æ –º–µ—Å—è—Ü–∞–º
3. **Level Distribution Performance**
    - –°—Ç–æ–ª–±—Ü—ã: Bronze, Silver, Gold, Platinum
    - –ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å: Avg Check, Visit Frequency, Lifetime Value

**UI:**

```tsx
<TabsContent value="loyalty" className="space-y-6">
  <div>
    <h3 className="text-xl font-bold">Loyalty ROI</h3>
    <p className="text-sm text-secondary mt-1">
      –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
    </p>
  </div>
  
  {/* Key Metrics */}
  <div className="grid grid-cols-4 gap-4">
    <Card>
      <CardContent className="p-6">
        <div className="text-sm text-secondary mb-2">ROI</div>
        <div className="text-3xl font-bold text-success">1:8.4</div>
        <p className="text-xs text-secondary mt-2">
          –ù–∞ 1‚ÇΩ –±–∞–ª–ª–æ–≤ ‚Üí 8.4‚ÇΩ –≤—ã—Ä—É—á–∫–∏
        </p>
      </CardContent>
    </Card>
    
    <Card>
      <CardContent className="p-6">
        <div className="text-sm text-secondary mb-2">Redemption Rate</div>
        <div className="text-3xl font-bold">27%</div>
        <p className="text-xs text-secondary mt-2">
          12,340 –∏–∑ 45,680 —Å–ø–∏—Å–∞–Ω–æ
        </p>
      </CardContent>
    </Card>
    
    <Card>
      <CardContent className="p-6">
        <div className="text-sm text-secondary mb-2">Avg Check Lift</div>
        <div className="text-3xl font-bold text-success">+18%</div>
        <p className="text-xs text-secondary mt-2">
          –ì–æ—Å—Ç–∏ —Å –±–∞–ª–ª–∞–º–∏ vs –±–µ–∑
        </p>
      </CardContent>
    </Card>
    
    <Card>
      <CardContent className="p-6">
        <div className="text-sm text-secondary mb-2">Repeat Rate</div>
        <div className="text-3xl font-bold text-success">68%</div>
        <p className="text-xs text-secondary mt-2">
          –° loyalty vs 34% –±–µ–∑
        </p>
      </CardContent>
    </Card>
  </div>
  
  {/* Charts Grid */}
  <div className="grid grid-cols-2 gap-6">
    <Card>
      <CardHeader>
        <CardTitle>Balls Flow</CardTitle>
      </CardHeader>
      <CardContent>
        <SankeyChart data={BALLS_FLOW} />
      </CardContent>
    </Card>
    
    <Card>
      <CardHeader>
        <CardTitle>Revenue Impact</CardTitle>
      </CardHeader>
      <CardContent>
        <ResponsiveContainer width="100%" height={300}>
          <BarChart data={REVENUE_IMPACT}>
            <CartesianGrid strokeDasharray="3 3" stroke="#262626" />
            <XAxis dataKey="month" stroke="#a1a1a1" />
            <YAxis stroke="#a1a1a1" />
            <Tooltip />
            <Legend />
            <Bar dataKey="withLoyalty" fill="#10b981" name="–° loyalty" stackId="a" />
            <Bar dataKey="withoutLoyalty" fill="#6b7280" name="–ë–µ–∑ loyalty" stackId="a" />
          </BarChart>
        </ResponsiveContainer>
      </CardContent>
    </Card>
  </div>
  
  {/* Level Performance */}
  <Card>
    <CardHeader>
      <CardTitle>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ —É—Ä–æ–≤–Ω—è–º</CardTitle>
    </CardHeader>
    <CardContent>
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>–£—Ä–æ–≤–µ–Ω—å</TableHead>
            <TableHead>–ì–æ—Å—Ç–µ–π</TableHead>
            <TableHead>Avg Check</TableHead>
            <TableHead>Visit Frequency</TableHead>
            <TableHead>Lifetime Value</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {LEVEL_PERFORMANCE.map((level) => (
            <TableRow key={level.name}>
              <TableCell>
                <div className="flex items-center gap-2">
                  <span className="text-xl">{level.icon}</span>
                  <span className="font-medium">{level.name}</span>
                </div>
              </TableCell>
              <TableCell>{level.guestsCount}</TableCell>
              <TableCell className="font-medium">
                {formatCurrency(level.avgCheck)}
              </TableCell>
              <TableCell>
                {level.visitFrequency} —Ä–∞–∑/–º–µ—Å
              </TableCell>
              <TableCell className="font-medium text-success">
                {formatCurrency(level.ltv)}
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </CardContent>
  </Card>
</TabsContent>
```


***

## **‚öôÔ∏è 5. SETTINGS \& TEAM**

### **1Ô∏è‚É£9Ô∏è‚É£ Restaurant Settings - –∫–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—Ç—å Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–µ—Å—Ç–æ—Ä–∞–Ω: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã, loyalty –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.[^10_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å Settings Page?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: 6 —Ç–∞–±–æ–≤ (General | Loyalty | POS | Notifications | Team | Security)**

**Settings Tabs:**

```tsx
<Tabs defaultValue="general">
  <TabsList className="grid w-full grid-cols-6">
    <TabsTrigger value="general">–û—Å–Ω–æ–≤–Ω—ã–µ</TabsTrigger>
    <TabsTrigger value="loyalty">Loyalty</TabsTrigger>
    <TabsTrigger value="pos">POS</TabsTrigger>
    <TabsTrigger value="notifications">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</TabsTrigger>
    <TabsTrigger value="team">–ö–æ–º–∞–Ω–¥–∞</TabsTrigger>
    <TabsTrigger value="security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</TabsTrigger>
  </TabsList>
  
  {/* Tab Contents */}
</Tabs>
```

**General Tab:**

- –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –ª–æ–≥–æ—Ç–∏–ø
- –ê–¥—Ä–µ—Å, —Ç–µ–ª–µ—Ñ–æ–Ω, email, —Å–∞–π—Ç
- –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏)
- Timezone
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**Loyalty Tab:**

- Ball conversion (1 –±–∞–ª–ª = X‚ÇΩ)
- Redeem limit (10-100% –æ—Ç —á–µ–∫–∞)
- Min check amount (–º–∏–Ω–∏–º—É–º –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è)
- Inactivity expiration (90 –¥–Ω–µ–π –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Üí —Å–≥–æ—Ä–∞–Ω–∏–µ)
- Transfer settings (—Ä–∞–∑—Ä–µ—à–∏—Ç—å/–∑–∞–ø—Ä–µ—Ç–∏—Ç—å, –ª–∏–º–∏—Ç—ã)

**POS Tab:**

- –í—ã–±–æ—Ä POS —Å–∏—Å—Ç–µ–º—ã (iiko, R-Keeper, Poster)
- API credentials (encrypted)
- Webhook URL
- Sync frequency
- Test connection button
- Last sync status

**Notifications Tab:**

- Channels (Telegram, Email, SMS)
- Templates customization
- Rate limits (—Å–∫–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å)
- Quiet hours (23:00-09:00)

**Team Tab:**

- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Admin, Manager, Cashier)
- –†–æ–ª–∏ –∏ permissions
- Invite new user
- Activity log

**Security Tab:**

- Change password
- Two-factor authentication (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å)
- Active sessions (—Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤)
- API tokens management
- Audit log

***

### **2Ô∏è‚É£0Ô∏è‚É£ Team Management - –∫–∞–∫ Admin —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –º–æ–∂–µ—Ç –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å Manager'–æ–≤ –∏ Cashier'–æ–≤, –Ω–∞–∑–Ω–∞—á–∞—Ç—å permissions, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.[^10_3][^10_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–æ–π?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Table + Invite Modal**

**Team Table:**

```tsx
<Card>
  <CardHeader>
    <div className="flex items-center justify-between">
      <div>
        <CardTitle>–ö–æ–º–∞–Ω–¥–∞ ({teamMembers.length})</CardTitle>
        <CardDescription>
          –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
        </CardDescription>
      </div>
      <Button onClick={openInviteModal}>
        <UserPlus className="mr-2 h-4 w-4" />
        –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å
      </Button>
    </div>
  </CardHeader>
  <CardContent>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</TableHead>
          <TableHead>–†–æ–ª—å</TableHead>
          <TableHead>Email</TableHead>
          <TableHead>–¢–µ–ª–µ—Ñ–æ–Ω</TableHead>
          <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
          <TableHead>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</TableHead>
          <TableHead></TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {teamMembers.map((member) => (
          <TableRow key={member.id}>
            <TableCell>
              <div className="flex items-center gap-3">
                <Avatar>
                  {member.avatar ? (
                    <AvatarImage src={member.avatar} />
                  ) : (
                    <AvatarFallback>
                      {getInitials(member.firstName, member.lastName)}
                    </AvatarFallback>
                  )}
                </Avatar>
                <div>
                  <div className="font-medium">
                    {member.firstName} {member.lastName}
                  </div>
                  {member.isCurrentUser && (
                    <Badge variant="outline" className="text-xs">–í—ã</Badge>
                  )}
                </div>
              </div>
            </TableCell>
            <TableCell>
              <Badge variant={ROLE_VARIANTS[member.role]}>
                {ROLE_NAMES[member.role]}
              </Badge>
            </TableCell>
            <TableCell>{member.email}</TableCell>
            <TableCell>{formatPhone(member.phone)}</TableCell>
            <TableCell>
              <Badge variant={member.status === 'ACTIVE' ? 'success' : 'secondary'}>
                {member.status === 'ACTIVE' ? '‚úì –ê–∫—Ç–∏–≤–µ–Ω' : '‚è≥ –ü—Ä–∏–≥–ª–∞—à—ë–Ω'}
              </Badge>
            </TableCell>
            <TableCell>
              {member.lastLoginAt ? formatRelative(member.lastLoginAt) : '‚Äî'}
            </TableCell>
            <TableCell>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost" size="sm">
                    <MoreVertical className="h-4 w-4" />
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end">
                  <DropdownMenuItem onClick={() => editMember(member)}>
                    <Edit className="mr-2 h-4 w-4" />
                    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                  </DropdownMenuItem>
                  <DropdownMenuItem onClick={() => viewPermissions(member)}>
                    <Shield className="mr-2 h-4 w-4" />
                    –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
                  </DropdownMenuItem>
                  {member.status === 'INVITED' && (
                    <DropdownMenuItem onClick={() => resendInvite(member)}>
                      <Mail className="mr-2 h-4 w-4" />
                      –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
                    </DropdownMenuItem>
                  )}
                  <DropdownMenuSeparator />
                  <DropdownMenuItem
                    onClick={() => removeMember(member)}
                    className="text-danger"
                    disabled={member.isCurrentUser}
                  >
                    <Trash2 className="mr-2 h-4 w-4" />
                    –£–¥–∞–ª–∏—Ç—å
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </CardContent>
</Card>
```

**Invite User Modal:**

```tsx
<Dialog open={showInviteModal} onOpenChange={setShowInviteModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</DialogTitle>
    </DialogHeader>
    
    <form onSubmit={handleInvite} className="space-y-4">
      <div>
        <Label>Email *</Label>
        <Input
          type="email"
          placeholder="manager@example.com"
          value={invite.email}
          onChange={(e) => setInvite({ ...invite, email: e.target.value })}
          required
        />
      </div>
      
      <div>
        <Label>–†–æ–ª—å *</Label>
        <Select
          value={invite.role}
          onValueChange={(value) => setInvite({ ...invite, role: value })}
        >
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="MANAGER">
              <div>
                <div className="font-medium">Manager</div>
                <div className="text-xs text-secondary">
                  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏, loyalty, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
                </div>
              </div>
            </SelectItem>
            <SelectItem value="CASHIER">
              <div>
                <div className="font-medium">Cashier</div>
                <div className="text-xs text-secondary">
                  –†–∞–±–æ—Ç–∞ —Å –≥–æ—Å—Ç—è–º–∏ –Ω–∞ –∫–∞—Å—Å–µ
                </div>
              </div>
            </SelectItem>
          </SelectContent>
        </Select>
      </div>
      
      {invite.role === 'MANAGER' && (
        <div>
          <Label>Permissions</Label>
          <div className="space-y-2 mt-2 p-4 border rounded-lg">
            {MANAGER_PERMISSIONS.map((permission) => (
              <div key={permission.id} className="flex items-start gap-2">
                <Checkbox
                  id={permission.id}
                  checked={invite.permissions?.includes(permission.id)}
                  onCheckedChange={(checked) => {
                    if (checked) {
                      setInvite({
                        ...invite,
                        permissions: [...(invite.permissions || []), permission.id]
                      });
                    } else {
                      setInvite({
                        ...invite,
                        permissions: invite.permissions?.filter(p => p !== permission.id)
                      });
                    }
                  }}
                />
                <div className="flex-1">
                  <Label htmlFor={permission.id} className="font-normal cursor-pointer">
                    {permission.name}
                  </Label>
                  <p className="text-xs text-secondary">{permission.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      )}
      
      <Alert>
        <Info className="h-4 w-4" />
        <AlertDescription>
          –ù–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
        </AlertDescription>
      </Alert>
    </form>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowInviteModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={sendInvite}>
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

## **üì± 6. MOBILE \& RESPONSIVE**

### **2Ô∏è‚É£1Ô∏è‚É£ Mobile View - –∫–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Admin Dashboard –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –º–æ–∂–µ—Ç –∑–∞—Ö–æ–¥–∏—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å, –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è mobile?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Mobile Layout (< 768px):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚ò∞] Max Loyalty    [üîî]  ‚îÇ ‚Üê Top Bar (fixed)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                           ‚îÇ
‚îÇ Dashboard Content         ‚îÇ
‚îÇ (scrollable)              ‚îÇ
‚îÇ                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [üè†][üë•][üéÅ][üìä][‚öôÔ∏è]    ‚îÇ ‚Üê Bottom Nav (fixed)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Sidebar ‚Üí Bottom Navigation:**

- üè† Dashboard
- üë• Guests
- üéÅ Loyalty
- üìä Analytics
- ‚öôÔ∏è Settings

**Hamburger Menu (Sidebar overlay):**

- Profile
- Team
- Activity Log
- Support
- Logout

**Guest Table ‚Üí Cards:**

```tsx
<Card className="mb-3" onClick={() => viewGuest(guest.id)}>
  <CardContent className="p-4">
    <div className="flex items-start justify-between mb-3">
      <div className="flex items-center gap-3">
        <Avatar>
          <AvatarFallback>–ò–ò</AvatarFallback>
        </Avatar>
        <div>
          <div className="font-medium">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</div>
          <div className="text-sm text-secondary">+7 999 123-45-67</div>
        </div>
      </div>
      <Badge>ü•á Gold</Badge>
    </div>
    
    <div className="grid grid-cols-2 gap-3 text-sm">
      <div>
        <div className="text-secondary">–ë–∞–ª–∞–Ω—Å</div>
        <div className="font-medium">2,850 –±–∞–ª–ª–æ–≤</div>
      </div>
      <div>
        <div className="text-secondary">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
        <div className="font-medium">47</div>
      </div>
    </div>
    
    <div className="mt-3 flex items-center justify-between text-sm">
      <span className="text-secondary">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç</span>
      <span>2 –¥–Ω—è –Ω–∞–∑–∞–¥</span>
    </div>
  </CardContent>
</Card>
```

**Quick Actions (Floating Action Button):**

```tsx
<div className="fixed bottom-20 right-4 z-40">
  <DropdownMenu>
    <DropdownMenuTrigger asChild>
      <Button size="lg" className="rounded-full h-14 w-14 shadow-lg">
        <Plus className="h-6 w-6" />
      </Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent align="end" className="w-56">
      <DropdownMenuItem onClick={openAddGuest}>
        <UserPlus className="mr-2 h-4 w-4" />
        –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è
      </DropdownMenuItem>
      <DropdownMenuItem onClick={openAdjustBalls}>
        <Gift className="mr-2 h-4 w-4" />
        –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤
      </DropdownMenuItem>
      <DropdownMenuItem onClick={openCreatePromo}>
        <Sparkles className="mr-2 h-4 w-4" />
        –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ
      </DropdownMenuItem>
    </DropdownMenuContent>
  </DropdownMenu>
</div>
```


***

## **üîó 7. POS INTEGRATION**

### **2Ô∏è‚É£2Ô∏è‚É£ POS Integration Setup - –∫–∞–∫ Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –ø–æ–¥–∫–ª—é—á–∞–µ—Ç iiko –∏–ª–∏ R-Keeper –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ.[^10_2][^10_1]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ POS?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Step-by-Step Wizard + Status Dashboard**

**POS Integration Page:**

```tsx
<div className="space-y-6">
  {!hasIntegration ? (
    // Setup Wizard
    <Card>
      <CardHeader>
        <CardTitle>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ POS —Å–∏—Å—Ç–µ–º—ã</CardTitle>
        <CardDescription>
          –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–∞—Ö
        </CardDescription>
      </CardHeader>
      <CardContent>
        <div className="grid grid-cols-3 gap-4">
          {POS_PROVIDERS.map((provider) => (
            <Card
              key={provider.id}
              className="cursor-pointer hover:border-primary transition"
              onClick={() => selectProvider(provider)}
            >
              <CardContent className="p-6 text-center">
                <img
                  src={provider.logo}
                  alt={provider.name}
                  className="h-16 mx-auto mb-4"
                />
                <h3 className="font-semibold mb-2">{provider.name}</h3>
                <Badge variant="outline">{provider.type}</Badge>
              </CardContent>
            </Card>
          ))}
        </div>
      </CardContent>
    </Card>
  ) : (
    // Integration Status
    <>
      <Card>
        <CardHeader>
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-4">
              <img
                src={integration.provider.logo}
                alt={integration.provider.name}
                className="h-12"
              />
              <div>
                <CardTitle>{integration.provider.name}</CardTitle>
                <CardDescription>
                  {integration.method === 'WEBHOOK' ? 'Webhook (Push)' : 'API Polling (Pull)'}
                </CardDescription>
              </div>
            </div>
            <Badge variant={integration.status === 'ACTIVE' ? 'success' : 'destructive'}>
              {integration.status === 'ACTIVE' ? '‚úì –ê–∫—Ç–∏–≤–Ω–∞' : '‚úï –û—à–∏–±–∫–∞'}
            </Badge>
          </div>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="grid grid-cols-3 gap-4">
            <div>
              <Label className="text-xs text-secondary">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</Label>
              <p className="font-medium">{formatRelative(integration.lastSync)}</p>
            </div>
            <div>
              <Label className="text-xs text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è</Label>
              <p className="font-medium">{integration.todayTransactions}</p>
            </div>
            <div>
              <Label className="text-xs text-secondary">–û—à–∏–±–æ–∫</Label>
              <p className="font-medium text-danger">{integration.errorsCount}</p>
            </div>
          </div>
          
          {integration.method === 'WEBHOOK' && (
            <div>
              <Label className="text-xs">Webhook URL</Label>
              <div className="flex gap-2 mt-1">
                <Input
                  value={integration.webhookUrl}
                  readOnly
                  className="font-mono text-sm"
                />
                <Button
                  variant="outline"
                  size="sm"
                  onClick={() => copyToClipboard(integration.webhookUrl)}
                >
                  <Copy className="h-4 w-4" />
                </Button>
              </div>
              <p className="text-xs text-secondary mt-1">
                –£–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö {integration.provider.name}
              </p>
            </div>
          )}
          
          <div className="flex gap-2">
            <Button onClick={testConnection}>
              <Zap className="mr-2 h-4 w-4" />
              –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
            </Button>
            <Button variant="outline" onClick={viewSyncLog}>
              <FileText className="mr-2 h-4 w-4" />
              –õ–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
            </Button>
            <Button variant="outline" onClick={editIntegration}>
              <Settings className="mr-2 h-4 w-4" />
              –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </Button>
          </div>
        </CardContent>
      </Card>
      
      {/* Recent Transactions */}
      <Card>
        <CardHeader>
          <CardTitle>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ POS</CardTitle>
        </CardHeader>
        <CardContent>
          <Table>
            <TableHeader>
              <TableRow>
                <TableHead>–î–∞—Ç–∞</TableHead>
                <TableHead>–ß–µ–∫ ‚Ññ</TableHead>
                <TableHead>–ì–æ—Å—Ç—å</TableHead>
                <TableHead>–°—É–º–º–∞</TableHead>
                <TableHead>–ù–∞—á–∏—Å–ª–µ–Ω–æ</TableHead>
                <TableHead>–°–ø–∏—Å–∞–Ω–æ</TableHead>
                <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {posTransactions.map((tx) => (
                <TableRow key={tx.id}>
                  <TableCell>{formatDateTime(tx.createdAt)}</TableCell>
                  <TableCell className="font-mono">{tx.checkId}</TableCell>
                  <TableCell>{tx.guestName || tx.guestPhone}</TableCell>
                  <TableCell>{formatCurrency(tx.checkAmount)}</TableCell>
                  <TableCell className="text-success">
                    {tx.earnedPoints ? `+${tx.earnedPoints}` : '‚Äî'}
                  </TableCell>
                  <TableCell className="text-danger">
                    {tx.redeemedPoints ? `‚àí${tx.redeemedPoints}` : '‚Äî'}
                  </TableCell>
                  <TableCell>
                    <Badge variant={tx.status === 'SUCCESS' ? 'success' : 'destructive'}>
                      {tx.status}
                    </Badge>
                  </TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </CardContent>
      </Card>
    </>
  )}
</div>
```


***

## **üéØ 8. FINAL QUESTIONS**

### **2Ô∏è‚É£3Ô∏è‚É£ Notifications System - –∫–∞–∫ Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–≤–µ–¥–æ–º–ª—ë–Ω –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö: –Ω–æ–≤—ã–π –≥–æ—Å—Ç—å, –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ç–∞—Ä–∏—Ñ–∞, –æ—à–∏–±–∫–∞ POS sync, –≥–æ—Å—Ç—å at-risk.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Notification Types:**

- üë§ NEW_GUEST - –ù–æ–≤—ã–π –≥–æ—Å—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è
- üéÇ BIRTHDAY_TODAY - –£ –≥–æ—Å—Ç—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è
- ‚ö†Ô∏è AT_RISK_GUEST - –ì–æ—Å—Ç—å –¥–∞–≤–Ω–æ –Ω–µ –±—ã–ª (at-risk churn)
- üìâ LOW_BALANCE - –£ –≥–æ—Å—Ç—è –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –±–∞–ª–ª—ã
- üî• POS_ERROR - –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å POS
- üìä LIMIT_WARNING - –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–º–∏—Ç—É —Ç–∞—Ä–∏—Ñ–∞ (90%)
- üí∞ HIGH_VALUE_GUEST - –ì–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è

**Bell Icon + Dropdown (–∫–∞–∫ —É Owner):**

- Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- Dropdown —Å–æ —Å–ø–∏—Å–∫–æ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É
- Mark as read
- Settings (–∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç—å)

***

### **2Ô∏è‚É£4Ô∏è‚É£ Export \& Reports - –∫–∞–∫–∏–µ –æ—Ç—á—ë—Ç—ã –Ω—É–∂–Ω—ã Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏, –∞–Ω–∞–ª–∏–∑–∞, email-—Ä–∞—Å—Å—ã–ª–æ–∫.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï:**

**Reports:**

1. **Guests Report** - —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (CSV, XLSX)
2. **Transactions Report** - –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –±–∞–ª–ª–∞–º–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
3. **Revenue Report** - –≤—ã—Ä—É—á–∫–∞, —á–µ–∫–∏, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫
4. **Loyalty ROI Report** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã
5. **Birthday Report** - —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å –î–† –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ
6. **At-Risk Report** - –≥–æ—Å—Ç–∏ —Å —Ä–∏—Å–∫–æ–º –æ—Ç—Ç–æ–∫–∞

**Export Formats:** CSV, XLSX, PDF

**Scheduled Reports:**

- Weekly Summary (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
- Monthly Report (1-–≥–æ —á–∏—Å–ª–∞)
- Custom Schedule

***

### **2Ô∏è‚É£5Ô∏è‚É£ Onboarding Flow - –∫–∞–∫ –Ω–æ–≤—ã–π Admin –∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑–∞—Ç—å –ª–∏ onboarding?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, Interactive Onboarding (4 —à–∞–≥–∞)**

**Steps:**

1. **Welcome** - "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Max Loyalty! –ù–∞—Å—Ç—Ä–æ–∏–º –≤—Å—ë –∑–∞ 2 –º–∏–Ω—É—Ç—ã"
2. **Restaurant Info** - –ù–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, –ª–æ–≥–æ—Ç–∏–ø (form)
3. **Loyalty Settings** - Ball conversion, redeem limit (form —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏)
4. **Invite Team** - –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å Manager/Cashier (optional, skip)
5. **Ready!** - "–í—Å—ë –≥–æ—Ç–æ–≤–æ! –ù–∞—á–Ω–∏—Ç–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –≥–æ—Å—Ç—è"

**UI:** Modal —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º, –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" / "–î–∞–ª–µ–µ" / "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"

**Skip option:** "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∑–∂–µ" ‚Üí Dashboard

***

# ‚úÖ **–ò–¢–û–ì–û: 25 –í–û–ü–†–û–°–û–í ADMIN DASHBOARD –†–ï–®–ï–ù–´!**

**–ì–æ—Ç–æ–≤ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É –ø–æ–¥–≤–µ–¥–µ–Ω–∏—é –∏—Ç–æ–≥–æ–≤?** –•–æ—á–µ—à—å —á—Ç–æ–±—ã —è:

1. **–°–æ—Å—Ç–∞–≤–∏–ª –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 25 —Ä–µ—à–µ–Ω–∏–π** (–≤–æ–ø—Ä–æ—Å ‚Üí —Ä–µ—à–µ–Ω–∏–µ ‚Üí –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ) –¥–ª—è Admin Dashboard?
2. **–ü–µ—Ä–µ—à—ë–ª –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É** (Manager Dashboard, Cashier POS Interface, Guest Telegram Mini App, –∏–ª–∏ –¥—Ä—É–≥–æ–µ)?

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?** üöÄ

<div align="center">‚ÅÇ</div>

[^10_1]: Beseda-8.md

[^10_2]: Beseda-2.md

[^10_3]: Beseda-3.md


---

# üìã **ADMIN DASHBOARD (RESTAURANTADMIN) - –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–®–ï–ù–ò–Ø –ü–û 25 –í–û–ü–†–û–°–ê–ú**


***

## **üìä 1. DASHBOARD LAYOUT \& STRUCTURE**

### **–í–æ–ø—Ä–æ—Å 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Admin Dashboard - —á–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Owner?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Dashboard Home + –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å Sidebar Navigation

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Admin —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–¥–Ω–∏–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–Ω–∞–Ω—Ç–∞), –Ω–æ –ù–ï –≤–∏–¥–∏—Ç –¥—Ä—É–≥–∏–µ —Ç–µ–Ω–∞–Ω—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- Scalability - –º–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–æ–≤ (Guests, Loyalty, Analytics, Team, Settings)
- Performance - lazy loading –ø–æ —Ä–æ—É—Ç–∞–º, –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å—ë —Å—Ä–∞–∑—É
- UX - Admin —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏, –Ω–µ –Ω—É–∂–Ω–∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–∞–º –∏–∑ —Ñ–∞–π–ª–æ–≤ - sidebar –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–ª—è multi-section –¥–∞—à–±–æ—Ä–¥–æ–≤
- SEO/Deep linking - –º–æ–∂–Ω–æ —à–∞—Ä–∏—Ç—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–æ–≤:**

```
/admin/dashboard          ‚Üí Overview
/admin/guests             ‚Üí Guests Management
/admin/loyalty            ‚Üí Loyalty Builder
/admin/analytics          ‚Üí Analytics & Reports
/admin/pos                ‚Üí POS Integration
/admin/team               ‚Üí Team Management
/admin/settings           ‚Üí Restaurant Settings
/admin/activity-log       ‚Üí Activity Log
```


***

### **–í–æ–ø—Ä–æ—Å 2: Dashboard Home - –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π | –ê–∫—Ç–∏–≤–Ω—ã—Ö (30 –¥–Ω–µ–π) | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ | Loyalty ROI

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π** - –±–∞–∑–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ —Ä–æ—Å—Ç–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: 2,847)
- **–ê–∫—Ç–∏–≤–Ω—ã–µ –≥–æ—Å—Ç–∏ (30 –¥–Ω–µ–π)** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±—â–µ–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1,876 = 66%)
- **–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ –∑–∞ –º–µ—Å—è—Ü** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å loyalty –ø—Ä–æ–≥—Ä–∞–º–º—ã (45,680)
- **Loyalty ROI** - –∫–ª—é—á–µ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: —Å–∫–æ–ª—å–∫–æ –≤—ã—Ä—É—á–∫–∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç 1‚ÇΩ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ (1:8.4 ‚Üí –Ω–∞ 1‚ÇΩ –±–∞–ª–ª–æ–≤ = 8.4‚ÇΩ –≤—ã—Ä—É—á–∫–∏)

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞):**

- –í—ã—Ä—É—á–∫–∞ –∑–∞ –º–µ—Å—è—Ü
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –í–∏–∑–∏—Ç–æ–≤ –∑–∞ –º–µ—Å—è—Ü
- NPS Score

***

### **–í–æ–ø—Ä–æ—Å 3: Dashboard Charts - –∫–∞–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 4 –≥—Ä–∞—Ñ–∏–∫–∞ (Guests Growth | Revenue + Balls | Loyalty Levels | Top 10 Guests)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**–ì—Ä–∞—Ñ–∏–∫ 1: Guests Growth (Line Chart, 6 –º–µ—Å—è—Ü–µ–≤)**

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç –±–∞–∑—ã –≥–æ—Å—Ç–µ–π
- –í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π —Ç—Ä–µ–Ω–¥ (–≤–≤–µ—Ä—Ö = —Ö–æ—Ä–æ—à–æ)
- –ó–µ–ª—ë–Ω–∞—è –ª–∏–Ω–∏—è —Å —Ç–æ—á–∫–∞–º–∏

**–ì—Ä–∞—Ñ–∏–∫ 2: Revenue + Balls Earned (Combined Chart, 30 –¥–Ω–µ–π)**

- Bar chart –¥–ª—è –≤—ã—Ä—É—á–∫–∏ –ø–æ –¥–Ω—è–º
- Line chart –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é: –±–æ–ª—å—à–µ –≤—ã—Ä—É—á–∫–∞ ‚Üí –±–æ–ª—å—à–µ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ

**–ì—Ä–∞—Ñ–∏–∫ 3: Loyalty Levels Distribution (Donut Chart)**

- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π –ø–æ —É—Ä–æ–≤–Ω—è–º (Bronze, Silver, Gold, Platinum)
- Donut —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–æ–π "–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π"
- –ö–ª–∏–∫ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç ‚Üí —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –≥–æ—Å—Ç–µ–π –ø–æ —É—Ä–æ–≤–Ω—é

**–ì—Ä–∞—Ñ–∏–∫ 4: Top 10 Guests Leaderboard**

- –°–ø–∏—Å–æ–∫ —Ç–æ–ø-10 –≥–æ—Å—Ç–µ–π –ø–æ Lifetime Spent
- –ê–≤–∞—Ç–∞—Ä—ã (–∏–Ω–∏—Ü–∏–∞–ª—ã), –∏–º—è, —É—Ä–æ–≤–µ–Ω—å, —Å—É–º–º–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç VIP –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è

***

### **–í–æ–ø—Ä–æ—Å 4: Quick Actions Panel - —á—Ç–æ Admin –¥–µ–ª–∞–µ—Ç —á–∞—â–µ –≤—Å–µ–≥–æ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 4 –∫–∞—Ä—Ç–æ—á–∫–∏ (–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ | –≠–∫—Å–ø–æ—Ä—Ç)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **‚ûï –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è** - —Å–∞–º–æ–µ —á–∞—Å—Ç–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–∞—Å—Å–µ –≤—Ä—É—á–Ω—É—é)
- **‚úèÔ∏è –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤** - Admin —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã (–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞ –æ—à–∏–±–∫—É, –ø—Ä–æ–º–æ, goodwill)
- **üéÅ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏—é** - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∞–∫—Ü–∏–∏ (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –≤—ã—Ö–æ–¥–Ω—ã–µ, –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä)
- **üì• –≠–∫—Å–ø–æ—Ä—Ç –≥–æ—Å—Ç–µ–π** - –≤—ã–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–æ–∫, –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel

**UI:** Cards Grid –≤ 4 –∫–æ–ª–æ–Ω–∫–∏, –∫–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥–∞–ª

***

## **üë• 2. GUESTS MANAGEMENT PAGE**

### **–í–æ–ø—Ä–æ—Å 5: Guests Table - –∫–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ò–º—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º | –¢–µ–ª–µ—Ñ–æ–Ω | –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è | –£—Ä–æ–≤–µ–Ω—å | –ë–∞–ª–∞–Ω—Å | –ü–æ—Å–µ—â–µ–Ω–∏–π | –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç | –î–µ–π—Å—Ç–≤–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–ò–º—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º (–∏–Ω–∏—Ü–∏–∞–ª—ã)** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ Guests-Enhanced-V4.html
- **–¢–µ–ª–µ—Ñ–æ–Ω** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –ø–æ –Ω–µ–º—É –∏—â—É—Ç –≥–æ—Å—Ç—è –Ω–∞ –∫–∞—Å—Å–µ
- **–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è** - –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π "–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è" + –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ (‚ôâ, ‚ôê, ‚ôì)
- **–£—Ä–æ–≤–µ–Ω—å** - Badge —Å —ç–º–æ–¥–∑–∏ (ü•â Bronze, ü•à Silver, ü•á Gold, üëë Platinum)
- **–ë–∞–ª–∞–Ω—Å** - —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ —É –≥–æ—Å—Ç—è —Å–µ–π—á–∞—Å (Regular + Promo –æ—Ç–¥–µ–ª—å–Ω–æ)
- **–ü–æ—Å–µ—â–µ–Ω–∏–π** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ—è–ª—å–Ω–æ—Å—Ç—å (47 –≤–∏–∑–∏—Ç–æ–≤ = –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç)
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç** - "2 –¥–Ω—è –Ω–∞–∑–∞–¥" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å/—Ä–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞
- **–î–µ–π—Å—Ç–≤–∏—è** - Dropdown: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤ | –ò—Å—Ç–æ—Ä–∏—è | –£–¥–∞–ª–∏—Ç—å

**Optional columns** (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Table Settings):

- Email, Lifetime Spent, –°—Ä–µ–¥–Ω–∏–π —á–µ–∫, –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ò—Å—Ç–æ—á–Ω–∏–∫, –î–µ—Ç–∏, –¢–µ–≥–∏

***

### **–í–æ–ø—Ä–æ—Å 6: Guest Search - –∫–∞–∫ –∏—Å–∫–∞—Ç—å –≥–æ—Å—Ç–µ–π?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ + —Ç–µ–ª–µ—Ñ–æ–Ω + email + –∫–∞—Ä—Ç–∞ (QR/6-digit –∫–æ–¥)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–ò–º—è** - "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", "–ò–≤–∞–Ω–æ–≤" (fuzzy search –¥–ª—è –æ–ø–µ—á–∞—Ç–æ–∫)
- **–¢–µ–ª–µ—Ñ–æ–Ω** - "+7 999 123-45-67", "9991234567", "999 123" (partial match)
- **Email** - "ivan@example.com", "ivan" (partial)
- **–ö–∞—Ä—Ç–∞** - "000123" (6-digit code), "QR-123456" (QR code)
- –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å—ã –ë–î (phone, email, cardCode)
- –ï–¥–∏–Ω–æ–µ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ - –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å "–∏—Å–∫–∞—Ç—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É" –∏–ª–∏ "–ø–æ –∏–º–µ–Ω–∏"

**Backend:** Prisma query —Å OR —É—Å–ª–æ–≤–∏—è–º–∏ –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º (firstName, lastName, phone, email, guestCard.displayCode, guestCard.qrCode)

***

### **–í–æ–ø—Ä–æ—Å 7: Guest Filters - –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç–µ–π?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Quick Filter Buttons + Advanced Filters (Dropdown/Popover)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Quick Filter Buttons (–Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π):**

- üíé VIP (Lifetime > 100K)
- ‚ö†Ô∏è At Risk (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã 30+ –¥–Ω–µ–π)
- üéÇ –î–† –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ
- ‚ú® –ù–æ–≤—ã–µ (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)
- üí∞ –í—ã—Å–æ–∫–∏–π –±–∞–ª–∞–Ω—Å (>1,000 –±–∞–ª–ª–æ–≤)

**Advanced Filters (Popover):**

- –£—Ä–æ–≤–µ–Ω—å (MultiSelect: Bronze, Silver, Gold, Platinum)
- –°—Ç–∞—Ç—É—Å (Active, Inactive, Blocked)
- –ë–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ (min-max range)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–µ—â–µ–Ω–∏–π (min-max range)
- –ú–µ—Å—è—Ü —Ä–æ–∂–¥–µ–Ω–∏—è (dropdown: —è–Ω–≤–∞—Ä—å-–¥–µ–∫–∞–±—Ä—å)
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç (7d, 30d, 90d, 180d)

**–ü—Ä–∏—á–∏–Ω–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

- Quick Filters - –¥–ª—è 80% –∑–∞–¥–∞—á (–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É)
- Advanced Filters - –¥–ª—è —Å–ª–æ–∂–Ω–æ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: VIP + –î–† –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ)

***

### **–í–æ–ø—Ä–æ—Å 8: Bulk Actions - —á—Ç–æ Admin –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –≥–æ—Å—Ç—è–º–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –≠–∫—Å–ø–æ—Ä—Ç | –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥ | –£–¥–∞–ª–∏—Ç—å

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **üì• –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö** - CSV/XLSX –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–æ–∫ –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel
- **üéÅ –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã** - –º–∞—Å—Å–æ–≤–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "500 –±–∞–ª–ª–æ–≤ –≤—Å–µ–º Gold –≥–æ—Å—Ç—è–º –Ω–∞ –ù–æ–≤—ã–π –ì–æ–¥")
- **üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - push —á–µ—Ä–µ–∑ Telegram/Email (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ê–∫—Ü–∏—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å")
- **üè∑Ô∏è –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥** - —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–∞–±–æ—Ç—ã ("VIP", "Inactive", "Birthdays Feb")
- **üóëÔ∏è –£–¥–∞–ª–∏—Ç—å** - –º–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö/—Ç–µ—Å—Ç–æ–≤—ã—Ö –≥–æ—Å—Ç–µ–π (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)

**UI:** Fixed bottom bar –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Å—Ç–µ–π (checkboxes), –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö + –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π

***

### **–í–æ–ø—Ä–æ—Å 9: Guest Profile Page - –∫–∞–∫–∏–µ —Ç–∞–±—ã –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 6 —Ç–∞–±–æ–≤ (Overview | Transactions | Visits | Children | Activity Log | Analytics)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Tab 1: Overview**

- –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –î–†, —Ñ–æ—Ç–æ)
- Loyalty –∫–∞—Ä—Ç–æ—á–∫–∞ (—É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å, QR-–∫–æ–¥, 6-digit –∫–æ–¥)
- Lifetime —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Lifetime Spent, Visits, Avg Check, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- Quick Actions (–î–æ–±–∞–≤–∏—Ç—å/–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã, –¢—Ä–∞–Ω—Å—Ñ–µ—Ä, –°–±—Ä–æ—Å–∏—Ç—å QR, –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å)

**Tab 2: Transactions**

- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–ª–ª–∞–º–∏: –î–∞—Ç–∞ | –¢–∏–ø (–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ/–°–ø–∏—Å–∞–Ω–∏–µ/–¢—Ä–∞–Ω—Å—Ñ–µ—Ä/–í–æ–∑–≤—Ä–∞—Ç) | –°—É–º–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ (POS/Manual/Promo) | –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É, –¥–∞—Ç–µ, –∏—Å—Ç–æ—á–Ω–∏–∫—É

**Tab 3: Visits**

- –¢–∞–±–ª–∏—Ü–∞ –≤–∏–∑–∏—Ç–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω: –î–∞—Ç–∞ | –†–µ—Å—Ç–æ—Ä–∞–Ω | –°—É–º–º–∞ —á–µ–∫–∞ | –ù–∞—á–∏—Å–ª–µ–Ω–æ | –°–ø–∏—Å–∞–Ω–æ | –î–µ—Ç–∞–ª–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ß–∞—Å—Ç–æ—Ç–∞ –≤–∏–∑–∏—Ç–æ–≤, –õ—é–±–∏–º–æ–µ –≤—Ä–µ–º—è, –õ—é–±–∏–º—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –°—Ä–µ–¥–Ω–∏–π —á–µ–∫

**Tab 4: Children**

- –°–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π –≥–æ—Å—Ç—è —Å –§–ò–û, –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è, —Ñ–æ—Ç–æ
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞"
- Birthday promo –¥–ª—è –¥–µ—Ç–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**Tab 5: Activity Log**

- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —ç—Ç–∏–º –≥–æ—Å—Ç–µ–º: —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è, –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, impersonation Owner'–æ–º
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥–∞—Ç–µ

**Tab 6: Analytics**

- –ì—Ä–∞—Ñ–∏–∫ –≤–∏–∑–∏—Ç–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º (trend)
- –ì—Ä–∞—Ñ–∏–∫ —Ç—Ä–∞—Ç (Lifetime Spent Trend)
- RFM —Å–µ–≥–º–µ–Ω—Ç (Recency, Frequency, Monetary) —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–î–∞–≤–Ω–æ –Ω–µ –±—ã–ª 45 –¥–Ω–µ–π ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å win-back –ø—Ä–æ–º–æ")

***

### **–í–æ–ø—Ä–æ—Å 10: Guest Profile Overview Tab - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 3 –∫–æ–ª–æ–Ω–∫–∏ (Personal Info Card | Loyalty Card | Stats + Quick Actions)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Left Column: Personal Info** - –∞–≤–∞—Ç–∞—Ä (upload), –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è + –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∏—Å—Ç–æ—á–Ω–∏–∫ (POS/Telegram/Web), –∫–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
- **Center Column: Loyalty Card** - —É—Ä–æ–≤–µ–Ω—å —Å –∏–∫–æ–Ω–∫–æ–π (ü•á Gold), –±–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ (–∫—Ä—É–ø–Ω–æ), Regular/Promo breakdown, QR-–∫–æ–¥ (150x150px), 6-digit –∫–æ–¥, –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å QR" –∏ "–ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏"
- **Right Column: Stats + Actions** - Lifetime Spent, Visits Count, Avg Check, Last Visit (–≤—Å–µ –∫—Ä—É–ø–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏), Quick Actions (–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã, –°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã, –¢—Ä–∞–Ω—Å—Ñ–µ—Ä, –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è)

**Grid layout:** 3 —Ä–∞–≤–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏, –≤—Å–µ –≤ Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

***

## **üéÅ 3. LOYALTY BUILDER PAGE**

### **–í–æ–ø—Ä–æ—Å 11: Loyalty Builder Structure - –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å 4 —Ç–∞–±–∞–º–∏ (Rules | Levels | Promos | Design)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ - Admin –≤–∏–¥–∏—Ç –≤—Å—é loyalty —Å–∏—Å—Ç–µ–º—É —Å—Ä–∞–∑—É, –Ω–µ —Ç–µ—Ä—è—è –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ - –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, —É—Ä–æ–≤–Ω–∏, –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏, –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ - —ç—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ loyalty —Å–∏—Å—Ç–µ–º—ã
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices –¥–ª—è Builder-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

**Tabs:**

- üìè –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
- üèÜ –£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- üéÅ –ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏
- üé® –î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏

***

### **–í–æ–ø—Ä–æ—Å 12: Loyalty Rules Builder - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –§–æ—Ä–º–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ + Live Preview (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —á–µ–∫–∞)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–§–æ—Ä–º–∞** - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è Admin (–Ω–∞–∑–≤–∞–Ω–∏–µ, –ø—Ä–æ—Ü–µ–Ω—Ç, —É—Å–ª–æ–≤–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- **Live Preview** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —á–µ–∫–∞ (2,000‚ÇΩ ‚Üí 200 –±–∞–ª–ª–æ–≤)
- **Validation** - –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Examples** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å—á—ë—Ç –Ω–∞–≥–ª—è–¥–Ω–æ
- **Priority system** - –ø—Ä–∞–≤–∏–ª–∞ —Å –º–µ–Ω—å—à–∏–º –Ω–æ–º–µ—Ä–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)

**UI:**

- –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª (Priority 1, 2, 3...) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é drag-and-drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ" ‚Üí Modal —Å —Ñ–æ—Ä–º–æ–π
- Form: –ù–∞–∑–≤–∞–Ω–∏–µ, –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è (slider 1-30%), –£—Å–ª–æ–≤–∏—è (ConditionBuilder: –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, –≤—Ä–µ–º—è, –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞), –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –°—Ç–∞—Ç—É—Å (active/inactive)
- Live Preview —Å–ø—Ä–∞–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä —á–µ–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è

***

### **–í–æ–ø—Ä–æ—Å 13: Loyalty Levels - –∫–∞–∫ Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —É—Ä–æ–≤–Ω–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Timeline –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ: Bronze ‚Üí Silver ‚Üí Gold ‚Üí Platinum) + Modal –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Visual** - Admin —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—é —É—Ä–æ–≤–Ω–µ–π —Å –ø–æ—Ä–æ–≥–∞–º–∏ –≤—Ö–æ–¥–∞ (0‚ÇΩ ‚Üí 150K ‚Üí 400K ‚Üí 1M)
- **Intuitive** - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π flow "—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ" = —Ä–æ—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞
- **One-way up logic** - –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç downgrade –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –Ω–∏–∂–µ (—Å–æ–≥–ª–∞—Å–Ω–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –∏–∑ —Ñ–∞–π–ª–æ–≤)
- **Editable** - –∫–ª–∏–∫ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å ‚Üí Modal —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∏–∫–æ–Ω–∫–∞, –ø–æ—Ä–æ–≥, –±–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é, —Ü–≤–µ—Ç)

**Timeline –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –ò–∫–æ–Ω–∫—É —É—Ä–æ–≤–Ω—è (ü•â, ü•à, ü•á, üëë)
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ü–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ (Lifetime Spent)
- –ë–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é (+5%, +10%, +15%)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ
- –°—Ç—Ä–µ–ª–∫–∏ –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏ (ChevronRight)

**Edit Level Modal:**

- –ù–∞–∑–≤–∞–Ω–∏–µ, –∏–∫–æ–Ω–∫–∞ (emoji picker), –ø–æ—Ä–æ–≥ (‚ÇΩ), –±–æ–Ω—É—Å –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é (%), —Ü–≤–µ—Ç (color picker)
- Warning –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏—Ö –≥–æ—Å—Ç–µ–π (–ø–µ—Ä–µ—Å—á—ë—Ç —É—Ä–æ–≤–Ω–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

***

### **–í–æ–ø—Ä–æ—Å 14: Promo Campaigns Builder - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–∫—Ü–∏–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Template Gallery + Form –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Templates** - 80% –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ (–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –í—ã—Ö–æ–¥–Ω—ã–µ, –ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç, Happy Hour, –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è, –î–† —Ä–µ–±—ë–Ω–∫–∞)
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - –∫–ª–∏–∫ –Ω–∞ —à–∞–±–ª–æ–Ω ‚Üí –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã ‚Üí —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ç–∞–ª–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤, –¥–∞—Ç—ã)
- **Custom option** - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–∫—Ü–∏—é —Å –Ω—É–ª—è
- **Visual** - –∏–∫–æ–Ω–∫–∏ –∏ –ø—Ä–µ–≤—å—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–º–æ

**Promo Templates:**

1. üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è - 500 –±–∞–ª–ª–æ–≤ –≤ ¬±7 –¥–Ω–µ–π –æ—Ç –î–†
2. üéà –î–† —Ä–µ–±—ë–Ω–∫–∞ - 300 –±–∞–ª–ª–æ–≤ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞
3. ‚ú® –ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç - 1000 –±–∞–ª–ª–æ–≤ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å
4. üí§ –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ - 500 –±–∞–ª–ª–æ–≤ –ø–æ—Å–ª–µ 60 –¥–Ω–µ–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è
5. üéâ –í—ã—Ö–æ–¥–Ω—ã–µ - —É–¥–≤–æ–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã –≤ –°–±-–í—Å
6. üçπ Happy Hour - –º–Ω–æ–∂–∏—Ç–µ–ª—å 1.5√ó –≤ 18:00-22:00

**Promo Form:**

- –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
- –¢–∏–ø –±–æ–Ω—É—Å–∞: Fixed (500 –±–∞–ª–ª–æ–≤) | Multiplier (2√ó) | Percentage (15% –æ—Ç —á–µ–∫–∞)
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –±–∞–ª–ª–æ–≤ (7 –¥–Ω–µ–π, 30 –¥–Ω–µ–π, –±–µ—Å—Å—Ä–æ—á–Ω–æ)
- –î–∞—Ç—ã –∞–∫—Ü–∏–∏ (–Ω–∞—á–∞–ª–æ, –æ–∫–æ–Ω—á–∞–Ω–∏–µ)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —á–µ–∫–∞, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏)
- –°—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–Ω–∞/–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞)

***

### **–í–æ–ø—Ä–æ—Å 15: Loyalty Card Design - –∫–∞–∫ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Template Gallery + Color Customizer + Live Preview (Physical \& Digital)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Templates** - –≥–æ—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–∏–∑–∞–π–Ω–∞ (Minimal, Modern, Elegant, Fun) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
- **Customizer** - —Ü–≤–µ—Ç–∞ –±—Ä–µ–Ω–¥–∞ (primary, background, text), –ª–æ–≥–æ—Ç–∏–ø (upload), –ø–∞—Ç—Ç–µ—Ä–Ω —Ñ–æ–Ω–∞ (dots, waves, geometric, gradient)
- **Live Preview** - –≤–∏–¥–Ω–æ –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
    - Physical card (–¥–ª—è –ø–µ—á–∞—Ç–∏)
    - Digital card (–≤ Telegram mini app —Å —Å–∏–Ω–∏–º —Ñ–æ–Ω–æ–º Telegram UI)
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–Ω—ã –¥–∏–∑–∞–π–Ω-—Å–∫–∏–ª–ª—ã, –≤—Å—ë —á–µ—Ä–µ–∑ UI

**UI Layout:** 2 –∫–æ–ª–æ–Ω–∫–∏

- **Left:** Template gallery, Color pickers (primary, background, text), Logo upload, Background pattern selector
- **Right:** Live Preview —Å —Ç–∞–±–∞–º–∏ Physical/Digital, –∫–Ω–æ–ø–∫–∏ "–°–±—Ä–æ—Å–∏—Ç—å" –∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∏–∑–∞–π–Ω"

***

## **üìä 4. ANALYTICS PAGE**

### **–í–æ–ø—Ä–æ—Å 16: Analytics Dashboard Structure - –∫–∞–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 5 —Ç–∞–±–æ–≤ (Overview | Guests Analysis | Revenue Analysis | Loyalty ROI | Reports)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Overview** - –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ (KPIs + –≥–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Guests Analysis** - RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, cohort retention, churn risk, lifecycle funnel
- **Revenue Analysis** - –≤—ã—Ä—É—á–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º, —Ç—Ä–µ–Ω–¥—ã
- **Loyalty ROI** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (ROI, redemption rate, avg check lift, repeat rate)
- **Reports** - –≥–æ—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (Guests, Transactions, Revenue, Birthday, At-Risk)

**Tabs navigation:** TabsList —Å –∏–∫–æ–Ω–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞

***

### **–í–æ–ø—Ä–æ—Å 17: Guests Analysis Tab - –∫–∞–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** RFM Scatter Plot | Guest Lifecycle Funnel | Cohort Retention Heatmap | Churn Risk Table

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**1. RFM Segmentation Chart (Scatter Plot)**

- X-axis: Recency (–¥–Ω–µ–π —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–∑–∏—Ç–∞)
- Y-axis: Frequency (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤)
- Bubble size: Monetary (Lifetime Spent)
- –¶–≤–µ—Ç–∞: Champions (–∑–µ–ª—ë–Ω—ã–π), Loyal (—Å–∏–Ω–∏–π), At Risk (–æ—Ä–∞–Ω–∂–µ–≤—ã–π), Lost (–∫—Ä–∞—Å–Ω—ã–π)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ã –≥–æ—Å—Ç–µ–π

**2. Guest Lifecycle Funnel**

- –í–æ—Ä–æ–Ω–∫–∞: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ ‚Üí –ü–µ—Ä–≤—ã–π –≤–∏–∑–∏—Ç ‚Üí –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–∏–∑–∏—Ç ‚Üí –õ–æ—è–ª—å–Ω—ã–µ (5+) ‚Üí VIP (20+)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
- –ü–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ "—É–∑–∫–∏–µ –º–µ—Å—Ç–∞" –≤ –≤–æ—Ä–æ–Ω–∫–µ

**3. Cohort Retention Analysis (Heatmap)**

- –°—Ç—Ä–æ–∫–∏: Cohort (–º–µ—Å—è—Ü —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –°—Ç–æ–ª–±—Ü—ã: –ú–µ—Å—è—Ü—ã —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (0, 1, 2, 3...)
- –¶–≤–µ—Ç–∞: % —É–¥–µ—Ä–∂–∞–Ω–∏—è (100% –∑–µ–ª—ë–Ω—ã–π ‚Üí 0% –∫—Ä–∞—Å–Ω—ã–π)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –¥–æ–ª–≥–æ –≥–æ—Å—Ç–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏

**4. Churn Risk Matrix (Table)**

- –ì–æ—Å—Ç–∏ —Å —Ä–∏—Å–∫–æ–º –æ—Ç—Ç–æ–∫–∞ (–Ω–µ –±—ã–ª–∏ 30+ –¥–Ω–µ–π, –Ω–æ —Ä–∞–Ω—å—à–µ –±—ã–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å –≤—ã—Å–æ–∫–∏–º LTV)
- –°—Ç–æ–ª–±—Ü—ã: –ò–º—è, –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–∏–∑–∏—Ç, Lifetime Spent, –†–∏—Å–∫ –æ—Ç—Ç–æ–∫–∞ (High/Medium/Low), –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å" (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å win-back offer)

**Summary Cards:** Champions, Loyal, At Risk, Lost - —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ—Å—Ç–µ–π –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º –æ—Ç –æ–±—â–µ–π –±–∞–∑—ã

***

### **–í–æ–ø—Ä–æ—Å 18: Loyalty ROI Tab - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 4 Key Metrics + 3 Charts (Balls Flow Sankey | Revenue Impact | Level Performance Table)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Key Metrics:**

1. **ROI: 1:8.4** - –Ω–∞ 1‚ÇΩ –±–∞–ª–ª–æ–≤ ‚Üí 8.4‚ÇΩ –≤—ã—Ä—É—á–∫–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã)
2. **Redemption Rate: 27%** - —Å–∫–æ–ª—å–∫–æ % –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è (12,340 –∏–∑ 45,680)
3. **Avg Check Lift: +18%** - –≥–æ—Å—Ç–∏ —Å –±–∞–ª–ª–∞–º–∏ —Ç—Ä–∞—Ç—è—Ç –±–æ–ª—å—à–µ vs –≥–æ—Å—Ç–µ–π –±–µ–∑ –±–∞–ª–ª–æ–≤
4. **Repeat Rate: 68% vs 34%** - –≥–æ—Å—Ç–∏ —Å loyalty –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ 2 —Ä–∞–∑–∞ —á–∞—â–µ

**Charts:**

**1. Balls Flow (Sankey Diagram)**

- Earned ‚Üí Active Balance ‚Üí Redeemed
- Earned ‚Üí Active Balance ‚Üí Expired
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –±–∞–ª–ª–æ–≤ –æ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è/—Å–≥–æ—Ä–∞–Ω–∏—è

**2. Revenue Impact (Stacked Bar Chart)**

- –°—Ç–æ–ª–±—Ü—ã –ø–æ –º–µ—Å—è—Ü–∞–º
- Stack: –° loyalty (–∑–µ–ª—ë–Ω—ã–π) + –ë–µ–∑ loyalty (—Å–µ—Ä—ã–π)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥ loyalty –≤ –æ–±—â—É—é –≤—ã—Ä—É—á–∫—É

**3. Level Performance Table**

- –°—Ç—Ä–æ–∫–∏: Bronze, Silver, Gold, Platinum
- –°—Ç–æ–ª–±—Ü—ã: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π, Avg Check, Visit Frequency, Lifetime Value
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ —É—Ä–æ–≤–Ω–∏ —Å–∞–º—ã–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ

***

## **‚öôÔ∏è 5. SETTINGS \& TEAM**

### **–í–æ–ø—Ä–æ—Å 19: Restaurant Settings - –∫–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—Ç—å Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 6 —Ç–∞–±–æ–≤ (General | Loyalty | POS | Notifications | Team | Security)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**General Tab:**

- –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –ª–æ–≥–æ—Ç–∏–ø, –∞–¥—Ä–µ—Å, —Ç–µ–ª–µ—Ñ–æ–Ω, email, —Å–∞–π—Ç
- –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏)
- Timezone, —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**Loyalty Tab:**

- Ball conversion rate (1 –±–∞–ª–ª = X‚ÇΩ)
- Redeem limit (10-100% –æ—Ç —Å—É–º–º—ã —á–µ–∫–∞)
- Minimum check amount –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
- Inactivity expiration (90 –¥–Ω–µ–π ‚Üí —Å–≥–æ—Ä–∞–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∞–ª–ª–æ–≤)
- Transfer settings (—Ä–∞–∑—Ä–µ—à–∏—Ç—å/–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –≥–æ—Å—Ç—è–º–∏, –ª–∏–º–∏—Ç—ã)

**POS Tab:**

- –í—ã–±–æ—Ä POS —Å–∏—Å—Ç–µ–º—ã (iiko, R-Keeper, Poster, Custom)
- API credentials (encrypted —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- Webhook URL
- Sync frequency (realtime, 5min, 15min)
- Test connection button
- Last sync status

**Notifications Tab:**

- Channels (Telegram, Email, SMS)
- Templates customization
- Rate limits (—Å–∫–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å –æ–¥–Ω–æ–º—É –≥–æ—Å—Ç—é)
- Quiet hours (23:00-09:00 –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å)

**Team Tab:**

- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Admin, Manager, Cashier)
- –†–æ–ª–∏ –∏ permissions
- Invite new user
- Activity log –∫–æ–º–∞–Ω–¥—ã

**Security Tab:**

- Change password
- Two-factor authentication (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å)
- Active sessions (—Å–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å IP –∏ –≤—Ä–µ–º–µ–Ω–µ–º)
- API tokens management
- Audit log (–∏—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π)

***

### **–í–æ–ø—Ä–æ—Å 20: Team Management - –∫–∞–∫ Admin —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Table —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ + Invite Modal –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–æ–≤—ã—Ö

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Table** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –ê–≤–∞—Ç–∞—Ä + –ò–º—è, –†–æ–ª—å (Badge), Email, –¢–µ–ª–µ—Ñ–æ–Ω, –°—Ç–∞—Ç—É—Å (Active/Invited), –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥, Dropdown Actions (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ, –£–¥–∞–ª–∏—Ç—å)
- **Invite Modal** - —Ñ–æ—Ä–º–∞: Email, –†–æ–ª—å (Manager/Cashier), Permissions (checkboxes –¥–ª—è Manager), –∫–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—å—é Admin –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Å–∞–º —Å–µ–±—è (disabled)
- Invited status - –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–∏–Ω—è–ª –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ

**Manager Permissions (checkboxes):**

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏ (CRUD)
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤ –≤—Ä—É—á–Ω—É—é
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ loyalty
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π (invite/remove)

**Cashier** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞: —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –≥–æ—Å—Ç—è–º–∏ –Ω–∞ –∫–∞—Å—Å–µ (–ø–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É)

***

## **üì± 6. MOBILE \& RESPONSIVE**

### **–í–æ–ø—Ä–æ—Å 21: Mobile View - –∫–∞–∫ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Admin Dashboard –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Responsive Layout —Å Bottom Navigation + Hamburger Menu

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Mobile Layout (< 768px):**
    - Top Bar (fixed) - Logo, Notifications Bell, Hamburger Menu
    - Content Area (scrollable)
    - Bottom Navigation (fixed) - 5 –∏–∫–æ–Ω–æ–∫: Dashboard, Guests, Loyalty, Analytics, Settings

**Sidebar ‚Üí Bottom Nav:**

- –ì–ª–∞–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –≤ Bottom Nav –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã (Team, Activity Log, Support) –≤ Hamburger Menu

**Guest Table ‚Üí Mobile Cards:**

- –ö–∞–∂–¥—ã–π –≥–æ—Å—Ç—å = Card —Å –∞–≤–∞—Ç–∞—Ä–æ–º, –∏–º–µ–Ω–µ–º, —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, —É—Ä–æ–≤–Ω–µ–º (Badge), –±–∞–ª–∞–Ω—Å–æ–º, –ø–æ—Å–µ—â–µ–Ω–∏—è–º–∏
- Tap –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guest Profile

**Quick Actions ‚Üí Floating Action Button (FAB):**

- Fixed bottom-right (–Ω–∞–¥ Bottom Nav)
- Tap ‚Üí Dropdown Menu: –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è, –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤, –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ

**KPI Metrics:** 2 –∫–æ–ª–æ–Ω–∫–∏ (–≤–º–µ—Å—Ç–æ 4 –Ω–∞ desktop)

**Charts:** Full width, —Å—Ç–µ–∫–∏—Ä—É—é—Ç—Å—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, —É–ø—Ä–æ—â—ë–Ω–Ω—ã–µ (–º–µ–Ω—å—à–µ labels –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞)

***

## **üîó 7. POS INTEGRATION**

### **–í–æ–ø—Ä–æ—Å 22: POS Integration Setup - –∫–∞–∫ Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Step-by-Step Wizard (–µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏) + Status Dashboard (–µ—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Setup Wizard (–ø–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞):**

- –í—ã–±–æ—Ä POS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (iiko, R-Keeper, Poster) - –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ª–æ–≥–æ—Ç–∏–ø–∞–º–∏
- –ö–ª–∏–∫ ‚Üí Modal —Å —Ñ–æ—Ä–º–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
    - API URL/Endpoint
    - API Key/Secret (encrypted)
    - –ú–µ—Ç–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: Webhook (push) –∏–ª–∏ API Polling (pull)
    - Test Connection button
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ‚Üí redirect –Ω–∞ Status Dashboard

**Status Dashboard (–∫–æ–≥–¥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –µ—Å—Ç—å):**

- **Header:** Logo POS, –Ω–∞–∑–≤–∞–Ω–∏–µ, –º–µ—Ç–æ–¥ (Webhook/Polling), —Å—Ç–∞—Ç—É—Å (‚úì –ê–∫—Ç–∏–≤–Ω–∞ / ‚úï –û—à–∏–±–∫–∞)
- **Metrics:** –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è, –û—à–∏–±–æ–∫ –∑–∞ —Å—É—Ç–∫–∏
- **Webhook URL** (–µ—Å–ª–∏ –º–µ—Ç–æ–¥ = webhook) - –ø–æ–ª–µ —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≥–¥–µ —É–∫–∞–∑–∞—Ç—å –≤ POS
- **Actions:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –õ–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

**Recent Transactions from POS Table:**

- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ POS
- –°—Ç–æ–ª–±—Ü—ã: –î–∞—Ç–∞, –ß–µ–∫ ‚Ññ, –ì–æ—Å—Ç—å (–∏–º—è/—Ç–µ–ª–µ—Ñ–æ–Ω), –°—É–º–º–∞, –ù–∞—á–∏—Å–ª–µ–Ω–æ, –°–ø–∏—Å–∞–Ω–æ, –°—Ç–∞—Ç—É—Å (Success/Error)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

**Benefits:**

- Admin –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- –í–∏–¥–∏—Ç –æ—à–∏–±–∫–∏ —Å—Ä–∞–∑—É (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ú–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å connection –≤—Ä—É—á–Ω—É—é

***

## **üéØ 8. FINAL QUESTIONS**

### **–í–æ–ø—Ä–æ—Å 23: Notifications System - –∫–∞–∫ Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Bell Icon + Dropdown (—Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–¢–û–õ–¨–ö–û –≠–¢–ò):**

- üî• **POS_ERROR** - –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å POS (–Ω–µ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ, API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
- üìä **LIMIT_WARNING** - –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–º–∏—Ç—É —Ç–∞—Ä–∏—Ñ–∞ (90% –æ—Ç –ª–∏–º–∏—Ç–∞ –≥–æ—Å—Ç–µ–π/—Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤/POS)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - NEW_GUEST, BIRTHDAY_TODAY, AT_RISK_GUEST, LOW_BALANCE, HIGH_VALUE_GUEST –Ω–µ –Ω—É–∂–Ω—ã Admin'—É, —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —à—É–º
- **–¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è** - —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è Admin'–∞:
    - POS_ERROR - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é, –∏–Ω–∞—á–µ –±–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
    - LIMIT_WARNING - –Ω—É–∂–Ω–æ upgrade —Ç–∞—Ä–∏—Ñ–∞, –∏–Ω–∞—á–µ —Å–∫–æ—Ä–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**UI:**

- Bell icon –≤ header —Å badge (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö)
- Dropdown —Å–æ —Å–ø–∏—Å–∫–æ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Mark as read
- Link –Ω–∞ Settings –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

***

### **–í–æ–ø—Ä–æ—Å 24: Export \& Reports - –∫–∞–∫–∏–µ –æ—Ç—á—ë—Ç—ã –Ω—É–∂–Ω—ã Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 6 —Ç–∏–ø–æ–≤ –æ—Ç—á—ë—Ç–æ–≤ + 3 —Ñ–æ—Ä–º–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ + Scheduled Reports

**–¢–∏–ø—ã –æ—Ç—á—ë—Ç–æ–≤:**

1. **Guests Report** - —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (—É—Ä–æ–≤–µ–Ω—å, —Å—Ç–∞—Ç—É—Å, –±–∞–ª–∞–Ω—Å, –ø–æ—Å–µ—â–µ–Ω–∏—è)
2. **Transactions Report** - –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –±–∞–ª–ª–∞–º–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
3. **Revenue Report** - –≤—ã—Ä—É—á–∫–∞ –ø–æ –¥–Ω—è–º/–º–µ—Å—è—Ü–∞–º, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
4. **Loyalty ROI Report** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã (ROI, redemption, lift)
5. **Birthday Report** - —Å–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –º–µ—Å—è—Ü–µ
6. **At-Risk Report** - –≥–æ—Å—Ç–∏ —Å —Ä–∏—Å–∫–æ–º –æ—Ç—Ç–æ–∫–∞ (–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã 30+ –¥–Ω–µ–π, –Ω–æ –≤—ã—Å–æ–∫–∏–π LTV)

**Export Formats:**

- **CSV** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–µ–∑–¥–µ, –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã
- **XLSX** - —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —Ñ–æ—Ä–º—É–ª–∞–º–∏, –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- **PDF** - –¥–ª—è –ø–µ—á–∞—Ç–∏, immutable –¥–æ–∫—É–º–µ–Ω—Ç

**Scheduled Reports (–≤ Settings):**

- Weekly Summary (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00)
- Monthly Report (1-–≥–æ —á–∏—Å–ª–∞ –≤ 09:00)
- Email –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ (configurable)
- Format (PDF/XLSX)
- Enable/Disable –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –û—Ç—á—ë—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ Admin'–∞ (–≥–æ—Å—Ç–∏, –¥–µ–Ω—å–≥–∏, loyalty —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- 3 —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ü–µ–ª–∏ (–∞–Ω–∞–ª–∏–∑, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è, –ø–µ—á–∞—Ç—å)
- Scheduled Reports —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è (–Ω–µ –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü)

***

### **–í–æ–ø—Ä–æ—Å 25: Onboarding Flow - –∫–∞–∫ –Ω–æ–≤—ã–π Admin –∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, Interactive Onboarding (4 —à–∞–≥–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é skip)

**Steps:**

1. **Welcome** - "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Max Loyalty! –ù–∞—Å—Ç—Ä–æ–∏–º –≤—Å—ë –∑–∞ 2 –º–∏–Ω—É—Ç—ã"
2. **Restaurant Info** - –ù–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, –ª–æ–≥–æ—Ç–∏–ø (form)
3. **Loyalty Settings** - Ball conversion (1 –±–∞–ª–ª = ‚ÇΩ), Redeem limit (%), —Ñ–æ—Ä–º–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
4. **Invite Team** - –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å Manager/Cashier (optional, –º–æ–∂–Ω–æ skip)
5. **Ready!** - "–í—Å—ë –≥–æ—Ç–æ–≤–æ! –ù–∞—á–Ω–∏—Ç–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –≥–æ—Å—Ç—è" ‚Üí CTA button "–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è"

**UI:**

- Modal –≤–æ –≤–µ—Å—å —ç–∫—Ä–∞–Ω —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º (—à–∞–≥ 1 –∏–∑ 5)
- –ö–Ω–æ–ø–∫–∏: "–ù–∞–∑–∞–¥" / "–î–∞–ª–µ–µ" / "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
- –ú–æ–∂–Ω–æ skip –≤–µ—Å—å onboarding ‚Üí "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∑–∂–µ" ‚Üí Dashboard
- Onboarding –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–∑ Settings ‚Üí Help ‚Üí "–ü—Ä–æ–π—Ç–∏ onboarding –∑–∞–Ω–æ–≤–æ"

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ù–æ–≤—ã–π Admin –±—ã—Å—Ç—Ä–æ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π
- Interactive –ª—É—á—à–µ —á–µ–º –ø—Ä–æ—Å—Ç–æ Tour (–ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö) - Admin —Å—Ä–∞–∑—É –≤–≤–æ–¥–∏—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- Skip option - –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –µ—Å–ª–∏ Admin —Ç–æ—Ä–æ–ø–∏—Ç—Å—è
- 4 —à–∞–≥–∞ - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç, –Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ)

***

# ‚úÖ **–ò–¢–û–ì–û: 25 –†–ï–®–ï–ù–ò–ô ADMIN DASHBOARD –ü–†–ò–ù–Ø–¢–´!**


***

## **üì¶ –°–¢–†–£–ö–¢–£–†–ê ADMIN DASHBOARD**

**–†–æ—É—Ç—ã:**

```
/admin/dashboard          ‚Üí Overview (KPIs, Charts, Quick Actions)
/admin/guests             ‚Üí Guests Table + Filters + Search + Bulk Actions
/admin/guests/:id         ‚Üí Guest Profile (6 tabs)
/admin/loyalty            ‚Üí Loyalty Builder (4 tabs: Rules, Levels, Promos, Design)
/admin/analytics          ‚Üí Analytics (5 tabs: Overview, Guests, Revenue, Loyalty ROI, Reports)
/admin/pos                ‚Üí POS Integration Setup & Status
/admin/team               ‚Üí Team Management (Table + Invite)
/admin/settings           ‚Üí Settings (6 tabs: General, Loyalty, POS, Notifications, Team, Security)
/admin/activity-log       ‚Üí Activity Log (–≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–∞–Ω–¥—ã)
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**

- Next.js 14 App Router + TypeScript
- shadcn/ui (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- TanStack Query (data fetching) + TanStack Table (—Ç–∞–±–ª–∏—Ü—ã)
- Recharts (–≥—Ä–∞—Ñ–∏–∫–∏)
- date-fns (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç)
- QRCode.react (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤)
- React Hook Form + Zod (—Ñ–æ—Ä–º—ã + –≤–∞–ª–∏–¥–∞—Ü–∏—è)

***

# üöÄ **–ì–û–¢–û–í –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ë–õ–û–ö–£!**

**–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?**

1. **Manager Dashboard** - —É—Ä–µ–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Admin Dashboard (–±–µ–∑ billing, team, –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö settings)
2. **Cashier POS Interface** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –∫–∞—Å—Å–µ (–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è)
3. **Guest Telegram Mini App** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≥–æ—Å—Ç–µ–π (–º–æ—è –∫–∞—Ä—Ç–æ—á–∫–∞, –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è, –∞–∫—Ü–∏–∏, QR-–∫–æ–¥)
4. **Owner Analytics \& Reporting** (–¥–µ—Ç–∞–ª—å–Ω–µ–µ) - —É–≥–ª—É–±–ª—ë–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è Owner'–∞ (cohort analysis, LTV, CAC, unit economics)
5. **Billing \& Subscriptions** (–¥–µ—Ç–∞–ª—å–Ω–µ–µ) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, invoices, payment methods, upgrades/downgrades
6. **API Documentation** - REST API endpoints, webhooks, authentication, rate limits

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?** üéØ

---

# üë®‚Äçüíº **MANAGER DASHBOARD - 25 –í–û–ü–†–û–°–û–í –° –†–ï–®–ï–ù–ò–Ø–ú–ò**


***

## **üìä 1. ROLE \& PERMISSIONS**

### **1Ô∏è‚É£ Manager vs Admin - —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager - —ç—Ç–æ –ø–æ–º–æ—â–Ω–∏–∫ Admin'–∞. –û–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ—Å—Ç—è–º–∏, loyalty, –≤–∏–¥–∏—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –Ω–æ **–ù–ï –º–æ–∂–µ—Ç** –º–µ–Ω—è—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, billing, —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥–æ–π.[^12_1][^12_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã Manager'—É vs Admin'—É?

**A)** Manager –≤–∏–¥–∏—Ç –≤—Å—ë —Ç–æ –∂–µ —á—Ç–æ Admin, –Ω–æ read-only
**B)** Manager –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ Guests + Analytics (–±–µ–∑ Loyalty, Settings)
**C)** Manager –≤–∏–¥–∏—Ç –≤—Å—ë –∫—Ä–æ–º–µ Billing, Team, –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö Settings
**D)** Manager –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É (–Ω–µ—Ç –æ—Ç–ª–∏—á–∏–π –æ—Ç Admin)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –í—Å—ë –∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ–∫—Ü–∏–π + Permission-based restrictions**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Manager –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫:**
    - Dashboard (KPIs, Charts, Quick Actions)
    - Guests Management (CRUD, —Ñ–∏–ª—å—Ç—Ä—ã, search, bulk actions, guest profiles)
    - Loyalty Builder (Rules, Levels, Promos, Design) - **–° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø–ú–ò** (–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è Admin)
    - Analytics (–≤—Å–µ 5 —Ç–∞–±–æ–≤)
    - POS Integration (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞, –ù–ï –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å credentials)
    - Activity Log (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
- ‚ùå **Manager –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫:**
    - Team Management (–Ω–µ –º–æ–∂–µ—Ç invite/remove –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
    - Billing/Subscription (–Ω–µ –≤–∏–¥–∏—Ç —Ç–∞—Ä–∏—Ñ, –æ–ø–ª–∞—Ç—É, invoices)
    - Critical Settings:
        - ‚ùå API credentials
        - ‚ùå Webhook URLs
        - ‚ùå Security settings (2FA, API tokens)
        - ‚ùå Subscription/Plan management
    - Impersonation (—Ç–æ–ª—å–∫–æ Owner –º–æ–∂–µ—Ç impersonate)
- üîí **Permission-based restrictions** (Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Manager'–∞):
    - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏ (CRUD)
    - ‚úÖ –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤
    - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π (–º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å, –Ω–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin)
    - ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (full access)
    - ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (CSV, XLSX, PDF)
    - ‚ö†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ loyalty (ball conversion, redeem limit) - read-only –∏–ª–∏ –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é Admin
    - ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π (–º–æ–∂–µ—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ —É–¥–∞–ª—è—Ç—å permanently)

**–¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–∞–∑–¥–µ–ª / –§—É–Ω–∫—Ü–∏—è         ‚îÇ Admin   ‚îÇ Manager  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Dashboard                ‚îÇ ‚úì       ‚îÇ ‚úì        ‚îÇ
‚îÇ Guests Management        ‚îÇ ‚úì       ‚îÇ ‚úì        ‚îÇ
‚îÇ Loyalty Rules            ‚îÇ ‚úì       ‚îÇ ‚úì*       ‚îÇ
‚îÇ Loyalty Levels           ‚îÇ ‚úì       ‚îÇ ‚úì*       ‚îÇ
‚îÇ Promo Campaigns          ‚îÇ ‚úì       ‚îÇ ‚úì*       ‚îÇ
‚îÇ Card Design              ‚îÇ ‚úì       ‚îÇ ‚úì*       ‚îÇ
‚îÇ Analytics                ‚îÇ ‚úì       ‚îÇ ‚úì        ‚îÇ
‚îÇ POS Integration          ‚îÇ ‚úì       ‚îÇ Read     ‚îÇ
‚îÇ Team Management          ‚îÇ ‚úì       ‚îÇ ‚úï        ‚îÇ
‚îÇ Billing/Subscription     ‚îÇ ‚úì       ‚îÇ ‚úï        ‚îÇ
‚îÇ Restaurant Settings      ‚îÇ ‚úì       ‚îÇ Partial  ‚îÇ
‚îÇ Security Settings        ‚îÇ ‚úì       ‚îÇ ‚úï        ‚îÇ
‚îÇ Activity Log             ‚îÇ ‚úì       ‚îÇ Read     ‚îÇ
‚îÇ Delete Guests            ‚îÇ ‚úì       ‚îÇ ‚úï        ‚îÇ
‚îÇ Export Data              ‚îÇ ‚úì       ‚îÇ ‚úì        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

* –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin
```


***

### **2Ô∏è‚É£ Permission Badges - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É –µ–≥–æ –ø—Ä–∞–≤–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∏ –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞—Ç—å: —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å, –∞ —á—Ç–æ –Ω–µ—Ç. –ò–∑–±–µ–∂–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏ "–∫–ª–∏–∫–Ω—É–ª, –ø–æ–ª—É—á–∏–ª –æ—à–∏–±–∫—É 403 Forbidden".

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?

**A)** –°–∫—Ä—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã (Manager –Ω–µ –≤–∏–¥–∏—Ç Team, Billing –≤–æ–æ–±—â–µ)
**B)** –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë, –Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å Tooltip "–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å Admin"
**C)** Badge "Read-only" –Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö + Tooltip
**D)** –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë, –Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ ‚Üí Modal "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤"

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –°–∫—Ä—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ + C) Badge –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–°–∫—Ä—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ** - Team Management, Billing –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ sidebar (cleaner UI, Manager –Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç—Å—è)
- ‚úÖ **Badge "Read-only" –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö** - POS Integration, Activity Log –≤–∏–¥–Ω—ã, –Ω–æ —Å Badge –∏ Tooltip –ø—Ä–∏ hover: "–¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä"
- ‚úÖ **Disable –∫–Ω–æ–ø–æ–∫ —Å Tooltip** - –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è" disabled + Tooltip: "–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å Admin"
- ‚úÖ **Approval Required Badge** - –Ω–∞ –∫–Ω–æ–ø–∫–µ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ" ‚Üí Badge "–¢—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è" + –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ‚Üí Toast: "–ü—Ä–æ–º–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ Admin'—É"

**UI Example (Sidebar Navigation):**

```tsx
// Manager –≤–∏–¥–∏—Ç:
<SidebarNav>
  <SidebarItem href="/manager/dashboard" icon={LayoutDashboard}>
    Dashboard
  </SidebarItem>
  <SidebarItem href="/manager/guests" icon={Users}>
    Guests
  </SidebarItem>
  <SidebarItem href="/manager/loyalty" icon={Gift}>
    Loyalty
  </SidebarItem>
  <SidebarItem href="/manager/analytics" icon={BarChart3}>
    Analytics
  </SidebarItem>
  <SidebarItem href="/manager/pos" icon={Link}>
    POS Integration
    <Badge variant="outline" className="ml-2">Read-only</Badge>
  </SidebarItem>
  <SidebarItem href="/manager/settings" icon={Settings}>
    Settings
  </SidebarItem>
  <SidebarItem href="/manager/activity-log" icon={FileText}>
    Activity Log
    <Badge variant="outline" className="ml-2">Read-only</Badge>
  </SidebarItem>
  
  {/* –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è Manager'—É: */}
  {/* Team Management */}
  {/* Billing */}
</SidebarNav>
```

**Tooltip –Ω–∞ disabled –∫–Ω–æ–ø–∫–µ:**

```tsx
<Tooltip>
  <TooltipTrigger asChild>
    <span>
      <Button disabled className="cursor-not-allowed">
        <Trash2 className="mr-2 h-4 w-4" />
        –£–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è
      </Button>
    </span>
  </TooltipTrigger>
  <TooltipContent>
    <p>–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å Admin</p>
  </TooltipContent>
</Tooltip>
```


***

### **3Ô∏è‚É£ Manager Profile Badge - –∫–∞–∫ Manager –ø–æ–Ω–∏–º–∞–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–í –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç Admin Dashboard –∏ Manager Dashboard (—Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏). –ù—É–∂–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∏—Ç—å.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É —á—Ç–æ –æ–Ω Manager (–∞ –Ω–µ Admin)?

**A)** Badge "Manager" –≤ header —Ä—è–¥–æ–º —Å –∞–≤–∞—Ç–∞—Ä–æ–º
**B)** –û—Ç–ª–∏—á–∞—é—â–∏–π—Å—è —Ü–≤–µ—Ç —Ç–µ–º—ã (Manager = —Å–∏–Ω–∏–π, Admin = –∑–µ–ª—ë–Ω—ã–π)
**C)** Watermark "Manager Mode" –≤ —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞
**D)** –ù–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Ç–∞–∫ –∑–Ω–∞–µ—Ç –∫—Ç–æ –æ–Ω)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Badge "Manager" –≤ header + Permission indicator –≤ Profile Dropdown**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Badge –≤ header** - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–∏–¥–µ–Ω, –Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç (outline —Å—Ç–∏–ª—å)
- ‚úÖ **Profile Dropdown** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
    - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    - Email
    - Role Badge (Manager)
    - Permissions Summary (–∫–ª–∏–∫ ‚Üí Modal —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π)

**UI:**

```tsx
<DropdownMenu>
  <DropdownMenuTrigger asChild>
    <Button variant="ghost" className="relative">
      <Avatar>
        <AvatarImage src={user.avatar} />
        <AvatarFallback>{getInitials(user.firstName, user.lastName)}</AvatarFallback>
      </Avatar>
      <div className="ml-2 text-left">
        <div className="text-sm font-medium">{user.firstName}</div>
        <Badge variant="outline" className="text-xs">Manager</Badge>
      </div>
    </Button>
  </DropdownMenuTrigger>
  
  <DropdownMenuContent align="end" className="w-64">
    <DropdownMenuLabel>
      <div>{user.firstName} {user.lastName}</div>
      <div className="text-xs text-secondary font-normal">{user.email}</div>
    </DropdownMenuLabel>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={viewPermissions}>
      <Shield className="mr-2 h-4 w-4" />
      –ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={viewProfile}>
      <User className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Ñ–∏–ª—å
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={logout}>
      <LogOut className="mr-2 h-4 w-4" />
      –í—ã–π—Ç–∏
    </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>
```

**Permissions Modal:**

```tsx
<Dialog open={showPermissions} onOpenChange={setShowPermissions}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</DialogTitle>
      <DialogDescription>
        –≠—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω—ã Admin'–æ–º
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-2">
      {userPermissions.map((permission) => (
        <div key={permission.id} className="flex items-center gap-2">
          {permission.granted ? (
            <CheckCircle2 className="h-4 w-4 text-success" />
          ) : (
            <XCircle className="h-4 w-4 text-secondary" />
          )}
          <div className="flex-1">
            <div className="text-sm font-medium">{permission.name}</div>
            <div className="text-xs text-secondary">{permission.description}</div>
          </div>
        </div>
      ))}
    </div>
    
    <DialogFooter>
      <p className="text-xs text-secondary">
        –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É
      </p>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

## **üìä 2. DASHBOARD HOME**

### **4Ô∏è‚É£ Manager Dashboard - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ –∂–µ KPI —á—Ç–æ Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager –≤–∏–¥–∏—Ç Dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏. –î–æ–ª–∂–Ω—ã –ª–∏ –æ–Ω–∏ –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã Admin Dashboard?

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É?

**A)** –¢–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –∫–∞–∫ —É Admin (–ì–æ—Å—Ç–∏ | –ê–∫—Ç–∏–≤–Ω—ã—Ö | –ë–∞–ª–ª–æ–≤ | Loyalty ROI)
**B)** –£–ø—Ä–æ—â—ë–Ω–Ω—ã–µ (–ì–æ—Å—Ç–∏ | –í–∏–∑–∏—Ç–æ–≤ | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ)
**C)** –§–æ–∫—É—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö (–ù–æ–≤—ã—Ö –≥–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è | –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —á–µ–∫–æ–≤ | At-risk –≥–æ—Å—Ç–µ–π)
**D)** –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–µ (Manager —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–∏–¥–µ—Ç—å)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –¢–∞–∫–∏–µ –∂–µ –∫–∞–∫ —É Admin**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Consistency** - Manager –∏ Admin –≤–∏–¥—è—Ç –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω—É, –ø—Ä–æ—â–µ –æ–±—Å—É–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ **–ú–æ—Ç–∏–≤–∞—Ü–∏—è** - Manager –≤–∏–¥–∏—Ç —Ç–µ –∂–µ KPI —á—Ç–æ –≤–ª–∏—è—é—Ç –Ω–∞ —É—Å–ø–µ—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- ‚úÖ **No confusion** - –Ω–µ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å "–ø–æ—á–µ–º—É —É –º–µ–Ω—è –æ–¥–Ω–∏ —Ü–∏—Ñ—Ä—ã, –∞ —É Admin'–∞ –¥—Ä—É–≥–∏–µ"
- ‚úÖ **Reusability** - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ–±–µ–∏—Ö —Ä–æ–ª–µ–π

**–ú–µ—Ç—Ä–∏–∫–∏ (—Ç–µ –∂–µ —á—Ç–æ —É Admin):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë• –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π      ‚îÇ  ‚îÇ ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã—Ö (30–¥)    ‚îÇ
‚îÇ 2,847                ‚îÇ  ‚îÇ 1,876 (66%)          ‚îÇ
‚îÇ ‚Üë +123 –∑–∞ –º–µ—Å—è—Ü      ‚îÇ  ‚îÇ ‚Üë +98 –∑–∞ –º–µ—Å—è—Ü       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üéÅ –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ  ‚îÇ  ‚îÇ üìà Loyalty ROI       ‚îÇ
‚îÇ 45,680               ‚îÇ  ‚îÇ 1:8.4                ‚îÇ
‚îÇ ‚Üë +5,420 –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üë +0.3 (—É–ª—É—á—à–µ–Ω–∏–µ)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **5Ô∏è‚É£ Dashboard Charts - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ –∂–µ –≥—Ä–∞—Ñ–∏–∫–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç 4 –≥—Ä–∞—Ñ–∏–∫–∞ (Guests Growth, Revenue+Balls, Loyalty Levels, Top 10 Guests).

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑–∞—Ç—å Manager'—É —Ç–µ –∂–µ –≥—Ä–∞—Ñ–∏–∫–∏?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, —Ç–µ –∂–µ 4 –≥—Ä–∞—Ñ–∏–∫–∞**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞** - Manager –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –¥–∏–Ω–∞–º–∏–∫—É –±–∏–∑–Ω–µ—Å–∞
- ‚úÖ **No need to reinvent** - —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞–±–æ—Ä –≥—Ä–∞—Ñ–∏–∫–æ–≤, –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ
- ‚úÖ **Component reuse** - DRY –ø—Ä–∏–Ω—Ü–∏–ø

**–ì—Ä–∞—Ñ–∏–∫–∏:**

1. Guests Growth (Line Chart, 6 –º–µ—Å—è—Ü–µ–≤)
2. Revenue + Balls Earned (Combined Chart, 30 –¥–Ω–µ–π)
3. Loyalty Levels Distribution (Donut Chart)
4. Top 10 Guests Leaderboard

***

### **6Ô∏è‚É£ Quick Actions - —Ç–µ –∂–µ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –¥–ª—è Manager?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç Quick Actions: –î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ | –≠–∫—Å–ø–æ—Ä—Ç.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ Quick Actions –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É?

**A)** –¢–µ –∂–µ —Å–∞–º—ã–µ (–µ—Å–ª–∏ –µ—Å—Ç—å permissions)
**B)** –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è | –ù–∞–π—Ç–∏ –≥–æ—Å—Ç—è)
**C)** –£–±—Ä–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ" (—Ç–æ–ª—å–∫–æ Admin)
**D)** –î–æ–±–∞–≤–∏—Ç—å "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º"

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –¢–µ –∂–µ + Permission-based visibility**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è** - –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º Manager'–∞–º (–æ—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ)
- ‚úÖ **–†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞** - –µ—Å–ª–∏ Manager –∏–º–µ–µ—Ç permission "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤"
- ‚úÖ **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ** - –µ—Å–ª–∏ Manager –∏–º–µ–µ—Ç permission "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ" (–Ω–æ —Å Badge "–¢—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è")
- ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç** - –µ—Å–ª–∏ Manager –∏–º–µ–µ—Ç permission "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"

**UI (conditional rendering):**

```tsx
<div className="grid grid-cols-4 gap-4">
  {/* –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ */}
  <QuickActionCard
    icon={UserPlus}
    title="–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è"
    description="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Ä—É—á–Ω—É—é"
    onClick={openAddGuestModal}
  />
  
  {/* –ï—Å–ª–∏ –µ—Å—Ç—å permission */}
  {hasPermission('ADJUST_BALLS') && (
    <QuickActionCard
      icon={Edit}
      title="–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞"
      description="–ù–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã"
      onClick={openAdjustBallsModal}
    />
  )}
  
  {hasPermission('CREATE_PROMO') && (
    <QuickActionCard
      icon={Gift}
      title="–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ"
      description="–ê–∫—Ü–∏—è –∏–ª–∏ –±–æ–Ω—É—Å"
      badge="–¢—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è"
      onClick={openCreatePromoModal}
    />
  )}
  
  {hasPermission('EXPORT_DATA') && (
    <QuickActionCard
      icon={Download}
      title="–≠–∫—Å–ø–æ—Ä—Ç"
      description="CSV, XLSX, PDF"
      onClick={openExportModal}
    />
  )}
</div>
```


***

## **üë• 3. GUESTS MANAGEMENT**

### **7Ô∏è‚É£ Guests Page - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–æ—Å—Ç—è–º–∏: –¥–æ–±–∞–≤–ª—è–µ—Ç, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç, –Ω–∞—á–∏—Å–ª—è–µ—Ç/—Å–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–ª–ª—ã, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è Manager'–∞ –Ω–∞ Guests Page?

**A)** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–∞–∫ —É Admin (–±–µ–∑ –æ—Ç–ª–∏—á–∏–π)
**B)** Read-only (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**C)** –ú–æ–∂–µ—Ç –≤—Å—ë –∫—Ä–æ–º–µ —É–¥–∞–ª–µ–Ω–∏—è –≥–æ—Å—Ç–µ–π (delete permanently)
**D)** –ú–æ–∂–µ—Ç –≤—Å—ë –∫—Ä–æ–º–µ bulk operations (—ç–∫—Å–ø–æ—Ä—Ç, –º–∞—Å—Å–æ–≤–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –ú–æ–∂–µ—Ç –≤—Å—ë –∫—Ä–æ–º–µ permanent delete + Permission-based restrictions**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ú–æ–∂–µ—Ç:**
    - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π
    - –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã—Ö –≥–æ—Å—Ç–µ–π
    - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –î–†)
    - –ù–∞—á–∏—Å–ª—è—Ç—å/—Å–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã (–µ—Å–ª–∏ –µ—Å—Ç—å permission)
    - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å permission)
    - Bulk actions (–µ—Å–ª–∏ –µ—Å—Ç—å permission)
    - –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è (—Å—Ç–∞—Ç—É—Å INACTIVE)
    - –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚ùå **–ù–ï –º–æ–∂–µ—Ç:**
    - –£–¥–∞–ª—è—Ç—å –≥–æ—Å—Ç—è permanently (hard delete –∏–∑ –ë–î) - —ç—Ç–æ —Ç–æ–ª—å–∫–æ Admin
    - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≥–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ Admin)

**UI –æ—Ç–ª–∏—á–∏—è:**

```tsx
// –í Dropdown Actions –≥–æ—Å—Ç—è
<DropdownMenu>
  <DropdownMenuContent>
    <DropdownMenuItem onClick={() => viewGuest(guest)}>
      <Eye className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π
    </DropdownMenuItem>
    
    {hasPermission('EDIT_GUESTS') && (
      <DropdownMenuItem onClick={() => editGuest(guest)}>
        <Edit className="mr-2 h-4 w-4" />
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      </DropdownMenuItem>
    )}
    
    {hasPermission('ADJUST_BALLS') && (
      <DropdownMenuItem onClick={() => adjustBalls(guest)}>
        <Gift className="mr-2 h-4 w-4" />
        –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤
      </DropdownMenuItem>
    )}
    
    <DropdownMenuItem onClick={() => viewHistory(guest)}>
      <History className="mr-2 h-4 w-4" />
      –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={() => deactivateGuest(guest)}>
      <Ban className="mr-2 h-4 w-4" />
      –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
    </DropdownMenuItem>
    
    {/* Delete –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Manager'—É */}
    {userRole === 'ADMIN' && (
      <DropdownMenuItem
        onClick={() => deleteGuest(guest)}
        className="text-danger"
      >
        <Trash2 className="mr-2 h-4 w-4" />
        –£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
      </DropdownMenuItem>
    )}
  </DropdownMenuContent>
</DropdownMenu>
```


***

### **8Ô∏è‚É£ Guest Profile - —Ç–µ –∂–µ —Ç–∞–±—ã —á—Ç–æ —É Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Guest Profile –∏–º–µ–µ—Ç 6 —Ç–∞–±–æ–≤ (Overview, Transactions, Visits, Children, Activity Log, Analytics).

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑–∞—Ç—å Manager'—É –≤—Å–µ —Ç–∞–±—ã?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –≤—Å–µ 6 —Ç–∞–±–æ–≤ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ Manager –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≥–æ—Å—Ç–µ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –í—Å–µ —Ç–∞–±—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ, –Ω–∏—á–µ–≥–æ –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ (—Ç–∏–ø–∞ billing)
- ‚úÖ Activity Log –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–ª —Å –≥–æ—Å—Ç–µ–º (transparency)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Ç–∞–±–∞—Ö:**

- **Overview Tab:**
    - Quick Actions (–ù–∞—á–∏—Å–ª–∏—Ç—å/–°–ø–∏—Å–∞—Ç—å) - –µ—Å–ª–∏ –Ω–µ—Ç permission ‚Üí disabled —Å Tooltip
    - –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è" - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Manager'—É
    - –ö–Ω–æ–ø–∫–∞ "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å" - –¥–æ—Å—Ç—É–ø–Ω–∞ Manager'—É
- **Transactions Tab:**
    - –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏
    - –ù–ï –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (read-only)
- **Visits Tab:**
    - –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- **Children Tab:**
    - –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–µ–π
- **Activity Log Tab:**
    - –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (–≤–∏–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏—è Admin'–∞ –∏ –¥—Ä—É–≥–∏—Ö Manager'–æ–≤)
- **Analytics Tab:**
    - –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä (RFM —Å–µ–≥–º–µ–Ω—Ç, –≥—Ä–∞—Ñ–∏–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

***

### **9Ô∏è‚É£ Bulk Actions - –¥–æ—Å—Ç—É–ø–Ω—ã Manager'—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å bulk actions: –≠–∫—Å–ø–æ—Ä—Ç, –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã, –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥, –£–¥–∞–ª–∏—Ç—å.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ bulk actions –¥–æ—Å—Ç—É–ø–Ω—ã Manager'—É?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –í—Å–µ –∫—Ä–æ–º–µ "–£–¥–∞–ª–∏—Ç—å" + Permission-based**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö** - –µ—Å–ª–∏ permission "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"
- ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã** - –µ—Å–ª–∏ permission "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤"
- ‚úÖ **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ Manager'—É
- ‚úÖ **–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ Manager'—É
- ‚ùå **–£–¥–∞–ª–∏—Ç—å** - —Ç–æ–ª—å–∫–æ Admin (Manager –º–æ–∂–µ—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É)

**UI:**

```tsx
{selectedGuests.length > 0 && (
  <div className="fixed bottom-6 left-1/2 -translate-x-1/2 z-50">
    <Card className="shadow-lg border-primary">
      <CardContent className="p-4 flex items-center gap-4">
        <div className="flex items-center gap-2">
          <Checkbox
            checked={allSelected}
            onCheckedChange={toggleSelectAll}
          />
          <span className="font-semibold">
            {selectedGuests.length} –≤—ã–±—Ä–∞–Ω–æ
          </span>
        </div>
        
        <Separator orientation="vertical" className="h-6" />
        
        <div className="flex gap-2">
          {hasPermission('EXPORT_DATA') && (
            <Button variant="outline" size="sm" onClick={exportSelected}>
              <Download className="mr-2 h-4 w-4" />
              –≠–∫—Å–ø–æ—Ä—Ç
            </Button>
          )}
          
          {hasPermission('ADJUST_BALLS') && (
            <Button variant="outline" size="sm" onClick={openBulkAddBalls}>
              <Gift className="mr-2 h-4 w-4" />
              –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã
            </Button>
          )}
          
          <Button variant="outline" size="sm" onClick={openBulkNotification}>
            <Send className="mr-2 h-4 w-4" />
            –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          </Button>
          
          <Button variant="outline" size="sm" onClick={openBulkTag}>
            <Tag className="mr-2 h-4 w-4" />
            –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥
          </Button>
          
          {/* –£–¥–∞–ª–∏—Ç—å –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Manager'—É */}
        </div>
        
        <Button
          variant="ghost"
          size="sm"
          onClick={() => setSelectedGuests([])}
        >
          <X className="h-4 w-4" />
        </Button>
      </CardContent>
    </Card>
  </div>
)}
```


***

## **üéÅ 4. LOYALTY BUILDER**

### **üîü Loyalty Builder - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin —Å–æ–∑–¥–∞—ë—Ç/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç Rules, Levels, Promos, Design. Manager –º–æ–∂–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å, –Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ–¥–æ–±—Ä—è—Ç—å—Å—è Admin'–æ–º.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è Manager'–∞ –≤ Loyalty Builder?

**A)** Read-only (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**B)** –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞
**C)** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–∞–∫ —É Admin (–±–µ–∑ –æ—Ç–ª–∏—á–∏–π)
**D)** –¢–æ–ª—å–∫–æ Promo Campaigns –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, –æ—Å—Ç–∞–ª—å–Ω–æ–µ read-only

**üéØ –ú–û–â –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º Admin'–∞ + D) Levels read-only**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Rules (–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è):**

- ‚úÖ Manager –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
- ‚úÖ Manager –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
- ‚ö†Ô∏è **Activation/Deactivation —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞**
- –ü—Ä–æ—Ü–µ—Å—Å: Manager —Å–æ–∑–¥–∞—ë—Ç ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING_APPROVAL ‚Üí Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚Üí Admin –æ–¥–æ–±—Ä—è–µ—Ç/–æ—Ç–∫–ª–æ–Ω—è–µ—Ç

**Levels (–£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏):**

- ‚ùå Manager –ù–ï –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —É—Ä–æ–≤–Ω–∏ (read-only)
- –ü—Ä–∏—á–∏–Ω–∞: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π (–∫—Ä–∏—Ç–∏—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ)
- Manager –≤–∏–¥–∏—Ç —É—Ä–æ–≤–Ω–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**Promos (–ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏):**

- ‚úÖ Manager –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ Manager –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–º–æ (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–º)
- ‚ö†Ô∏è **Activation —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞**
- ‚úÖ Manager –º–æ–∂–µ—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–æ (–±–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

**Design (–î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏):**

- ‚ùå Manager –ù–ï –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –¥–∏–∑–∞–π–Ω (read-only)
- –ü—Ä–∏—á–∏–Ω–∞: –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ = –±—Ä–µ–Ω–¥ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (—Ç–æ–ª—å–∫–æ Admin —Ä–µ—à–∞–µ—Ç)

**UI –∏–Ω–¥–∏–∫–∞—Ü–∏—è:**

```tsx
// Rules Tab
<Tabs defaultValue="rules">
  <TabsContent value="rules">
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <div>
          <h2 className="text-2xl font-bold">–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</h2>
          {userRole === 'MANAGER' && (
            <p className="text-sm text-secondary mt-1">
              –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞
            </p>
          )}
        </div>
        
        {hasPermission('CREATE_RULES') && (
          <Button onClick={openCreateRule}>
            <Plus className="mr-2 h-4 w-4" />
            –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ
          </Button>
        )}
      </div>
      
      {/* –°–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª */}
      {rules.map((rule) => (
        <RuleCard key={rule.id} rule={rule}>
          {rule.status === 'PENDING_APPROVAL' && (
            <Badge variant="warning">–û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è</Badge>
          )}
          
          {rule.status === 'ACTIVE' && userRole === 'MANAGER' && (
            <Tooltip>
              <TooltipTrigger asChild>
                <span>
                  <Button disabled variant="outline" size="sm">
                    –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
                  </Button>
                </span>
              </TooltipTrigger>
              <TooltipContent>
                –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ Admin'–∞
              </TooltipContent>
            </Tooltip>
          )}
        </RuleCard>
      ))}
    </div>
  </TabsContent>
  
  {/* Levels Tab */}
  <TabsContent value="levels">
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <div>
          <h2 className="text-2xl font-bold">–£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
          {userRole === 'MANAGER' && (
            <Badge variant="outline" className="ml-2">Read-only</Badge>
          )}
        </div>
        
        {/* –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å" –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Manager'—É */}
      </div>
      
      {/* Timeline —Å —É—Ä–æ–≤–Ω—è–º–∏ (–±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) */}
    </div>
  </TabsContent>
  
  {/* Promos Tab */}
  <TabsContent value="promos">
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <div>
          <h2 className="text-2xl font-bold">–ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏</h2>
          {userRole === 'MANAGER' && (
            <p className="text-sm text-secondary mt-1">
              –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞
            </p>
          )}
        </div>
        
        {hasPermission('CREATE_PROMO') && (
          <Button onClick={() => setShowTemplateGallery(true)}>
            <Plus className="mr-2 h-4 w-4" />
            –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ
          </Button>
        )}
      </div>
      
      {/* –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ —Å Badge —Å—Ç–∞—Ç—É—Å–∞ */}
    </div>
  </TabsContent>
  
  {/* Design Tab */}
  <TabsContent value="design">
    <div className="space-y-6">
      <div className="flex items-center justify-between">
        <div>
          <h2 className="text-2xl font-bold">–î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏</h2>
          {userRole === 'MANAGER' && (
            <Badge variant="outline" className="ml-2">Read-only</Badge>
          )}
        </div>
      </div>
      
      {/* Preview –¥–∏–∑–∞–π–Ω–∞ (–±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) */}
      <Alert>
        <Info className="h-4 w-4" />
        <AlertDescription>
          –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ Admin'—É
        </AlertDescription>
      </Alert>
    </div>
  </TabsContent>
</Tabs>
```


***

### **1Ô∏è‚É£1Ô∏è‚É£ Approval Workflow - –∫–∞–∫ Admin –æ–¥–æ–±—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è Manager'–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager —Å–æ–∑–¥–∞–ª –ø—Ä–∞–≤–∏–ª–æ –∏–ª–∏ –ø—Ä–æ–º–æ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING_APPROVAL. Admin –¥–æ–ª–∂–µ–Ω –æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å approval workflow?

**A)** Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Admin'—É ‚Üí –æ–Ω –∑–∞—Ö–æ–¥–∏—Ç –∏ –æ–¥–æ–±—Ä—è–µ—Ç
**B)** In-app Notification + Badge –Ω–∞ Loyalty Builder
**C)** –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "Pending Approvals" —Å –æ—á–µ—Ä–µ–¥—å—é
**D)** Modal "–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞—à–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ" –ø—Ä–∏ –≤—Ö–æ–¥–µ Admin'–∞

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) In-app Notification + Approval Queue –≤ Loyalty Builder**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Notification Bell** - Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "Manager —Å–æ–∑–¥–∞–ª –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ 'Weekend Bonus'"
- ‚úÖ **Badge –Ω–∞ Loyalty Builder** - –≤ sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º pending items
- ‚úÖ **Approval Queue Section** - –≤ –Ω–∞—á–∞–ª–µ Loyalty Builder —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–µ–∫—Ü–∏—è "–û–∂–∏–¥–∞—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è" (collapsible)

**UI (Approval Queue):**

```tsx
// –í –Ω–∞—á–∞–ª–µ Loyalty Builder Page (–¥–ª—è Admin)
{pendingApprovals.length > 0 && (
  <Card className="mb-6 border-warning">
    <CardHeader>
      <div className="flex items-center justify-between">
        <CardTitle className="flex items-center gap-2">
          <AlertCircle className="h-5 w-5 text-warning" />
          –û–∂–∏–¥–∞—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è ({pendingApprovals.length})
        </CardTitle>
        <Button
          variant="ghost"
          size="sm"
          onClick={() => setShowApprovals(!showApprovals)}
        >
          {showApprovals ? <ChevronUp /> : <ChevronDown />}
        </Button>
      </div>
    </CardHeader>
    
    {showApprovals && (
      <CardContent className="space-y-3">
        {pendingApprovals.map((item) => (
          <div
            key={item.id}
            className="flex items-start justify-between p-4 border rounded-lg"
          >
            <div className="flex items-start gap-3">
              <div className="text-2xl">
                {item.type === 'RULE' ? 'üìè' : 'üéÅ'}
              </div>
              <div>
                <div className="font-semibold">{item.name}</div>
                <div className="text-sm text-secondary">
                  –°–æ–∑–¥–∞–ª: {item.createdBy.firstName} {item.createdBy.lastName}
                </div>
                <div className="text-sm text-secondary">
                  {formatRelative(item.createdAt)}
                </div>
                {item.type === 'RULE' && (
                  <div className="text-sm mt-1">
                    –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ: {item.earnPercent}%
                  </div>
                )}
                {item.type === 'PROMO' && (
                  <div className="text-sm mt-1">
                    –ë–æ–Ω—É—Å: {item.bonusPoints} –±–∞–ª–ª–æ–≤
                  </div>
                )}
              </div>
            </div>
            
            <div className="flex gap-2">
              <Button
                variant="outline"
                size="sm"
                onClick={() => viewDetails(item)}
              >
                <Eye className="mr-2 h-4 w-4" />
                –î–µ—Ç–∞–ª–∏
              </Button>
              
              <Button
                variant="default"
                size="sm"
                onClick={() => approve(item)}
              >
                <Check className="mr-2 h-4 w-4" />
                –û–¥–æ–±—Ä–∏—Ç—å
              </Button>
              
              <Button
                variant="destructive"
                size="sm"
                onClick={() => reject(item)}
              >
                <X className="mr-2 h-4 w-4" />
                –û—Ç–∫–ª–æ–Ω–∏—Ç—å
              </Button>
            </div>
          </div>
        ))}
      </CardContent>
    )}
  </Card>
)}
```

**Reject Modal (–µ—Å–ª–∏ Admin –æ—Ç–∫–ª–æ–Ω—è–µ—Ç):**

```tsx
<Dialog open={showRejectModal} onOpenChange={setShowRejectModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–û—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ</DialogTitle>
      <DialogDescription>
        –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –¥–ª—è {rejectingItem.createdBy.firstName}
      </DialogDescription>
    </DialogHeader>
    
    <Textarea
      placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π, —É–º–µ–Ω—å—à–∏—Ç–µ –¥–æ 10%"
      value={rejectReason}
      onChange={(e) => setRejectReason(e.target.value)}
      required
      minLength={10}
    />
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowRejectModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button variant="destructive" onClick={handleReject}>
        –û—Ç–∫–ª–æ–Ω–∏—Ç—å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Manager –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å:**

- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ‚Üí Toast: "–ü—Ä–∞–≤–∏–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ Admin'—É"
- –í —Å–ø–∏—Å–∫–µ –ø—Ä–∞–≤–∏–ª ‚Üí Badge "–û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è"
- –ï—Å–ª–∏ –æ–¥–æ–±—Ä–µ–Ω–æ ‚Üí Notification: "Admin –æ–¥–æ–±—Ä–∏–ª –≤–∞—à–µ –ø—Ä–∞–≤–∏–ª–æ 'Weekend Bonus'"
- –ï—Å–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Üí Notification —Å –ø—Ä–∏—á–∏–Ω–æ–π: "Admin –æ—Ç–∫–ª–æ–Ω–∏–ª –ø—Ä–∞–≤–∏–ª–æ: –ü—Ä–æ—Ü–µ–Ω—Ç —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π"

***

### **1Ô∏è‚É£2Ô∏è‚É£ Manager —Å–æ–∑–¥–∞–ª –ø—Ä–æ–º–æ - –º–æ–∂–µ—Ç –ª–∏ —Å–∞–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager —Å–æ–∑–¥–∞–ª –ø—Ä–æ–º–æ "Happy Hour 20% –±–∞–ª–ª–æ–≤ 18-22". –°—Ç–∞—Ç—É—Å PENDING_APPROVAL.

**–í–æ–ø—Ä–æ—Å:**
–ú–æ–∂–µ—Ç –ª–∏ Manager –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ —Å—Ä–∞–∑—É –∏–ª–∏ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å Admin'–∞?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç permission "AUTO_ACTIVATE_PROMO"**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ï—Å–ª–∏ Admin –¥–∞–ª permission "AUTO_ACTIVATE_PROMO":**
    - Manager –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ —Å—Ä–∞–∑—É (–±–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è)
    - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –∞–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°–µ–≥–æ–¥–Ω—è double –±–∞–ª–ª—ã")
    - Admin –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∏–¥–∏—Ç –≤ Activity Log –∫—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª
- ‚ö†Ô∏è **–ï—Å–ª–∏ permission –ù–ï–¢:**
    - Manager —Å–æ–∑–¥–∞—ë—Ç ‚Üí —Å—Ç–∞—Ç—É—Å PENDING_APPROVAL
    - Admin –æ–¥–æ–±—Ä—è–µ—Ç ‚Üí —Å—Ç–∞—Ç—É—Å APPROVED ‚Üí Manager –∏–ª–∏ Admin –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç

**UI (Create Promo Modal –¥–ª—è Manager):**

```tsx
<DialogFooter>
  <Button variant="outline" onClick={() => setShowPromoForm(false)}>
    –û—Ç–º–µ–Ω–∞
  </Button>
  
  {hasPermission('AUTO_ACTIVATE_PROMO') ? (
    <>
      <Button onClick={() => savePromo({ activate: false })}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫
      </Button>
      <Button onClick={() => savePromo({ activate: true })}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
      </Button>
    </>
  ) : (
    <Button onClick={() => savePromo({ activate: false })}>
      –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
    </Button>
  )}
</DialogFooter>
```


***

## **üìä 5. ANALYTICS PAGE**

### **1Ô∏è‚É£3Ô∏è‚É£ Analytics - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–∞–∫ —É Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç 5 —Ç–∞–±–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (Overview, Guests Analysis, Revenue, Loyalty ROI, Reports).

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑–∞—Ç—å Manager'—É –≤—Å–µ —Ç–∞–±—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º 5 —Ç–∞–±–∞–º (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ Manager –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –±–∏–∑–Ω–µ—Å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ Analytics –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ç–∏–ø–∞ billing, API keys)
- ‚úÖ RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, cohort analysis, loyalty ROI - –≤—Å—ë —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ Manager'—É –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Å—Ç—è–º–∏
- ‚úÖ Transparency - Manager –≤–∏–¥–∏—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ —á—Ç–æ Admin (–µ–¥–∏–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞)

**Tabs:**

1. **Overview** - KPIs + –≥–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
2. **Guests Analysis** - RFM, cohort, churn risk (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
3. **Revenue Analysis** - –≤—ã—Ä—É—á–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
4. **Loyalty ROI** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
5. **Reports** - –≥–æ—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (–µ—Å–ª–∏ permission "EXPORT_DATA")

***

### **1Ô∏è‚É£4Ô∏è‚É£ Export Reports - –¥–æ—Å—Ç—É–ø–µ–Ω Manager'—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–í —Ç–∞–±–µ Reports –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á—ë—Ç–æ–≤ (CSV, XLSX, PDF).

**–í–æ–ø—Ä–æ—Å:**
–ú–æ–∂–µ—Ç –ª–∏ Manager —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –µ—Å–ª–∏ –µ—Å—Ç—å permission "EXPORT_DATA"**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ Manager –º–æ–∂–µ—Ç –Ω—É–∂–¥–∞—Ç—å—Å—è –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel, –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ (read operation)
- ‚úÖ Admin –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ permission

**UI (Reports Tab):**

```tsx
<TabsContent value="reports" className="space-y-6">
  <div>
    <h3 className="text-xl font-bold">–ì–æ—Ç–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã</h3>
    <p className="text-sm text-secondary mt-1">
      –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
    </p>
  </div>
  
  {hasPermission('EXPORT_DATA') ? (
    <div className="grid grid-cols-2 gap-4">
      <ReportCard
        icon={Users}
        title="Guests Report"
        description="–°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏"
        onClick={() => exportReport('guests')}
      />
      
      <ReportCard
        icon={ArrowLeftRight}
        title="Transactions Report"
        description="–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–ª–∞–º–∏"
        onClick={() => exportReport('transactions')}
      />
      
      <ReportCard
        icon={TrendingUp}
        title="Revenue Report"
        description="–í—ã—Ä—É—á–∫–∞ –∏ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫"
        onClick={() => exportReport('revenue')}
      />
      
      <ReportCard
        icon={Gift}
        title="Loyalty ROI Report"
        description="–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã"
        onClick={() => exportReport('loyalty-roi')}
      />
      
      <ReportCard
        icon={Cake}
        title="Birthday Report"
        description="–ì–æ—Å—Ç–∏ —Å –î–† –≤ –º–µ—Å—è—Ü–µ"
        onClick={() => exportReport('birthday')}
      />
      
      <ReportCard
        icon={AlertTriangle}
        title="At-Risk Report"
        description="–ì–æ—Å—Ç–∏ —Å —Ä–∏—Å–∫–æ–º –æ—Ç—Ç–æ–∫–∞"
        onClick={() => exportReport('at-risk')}
      />
    </div>
  ) : (
    <Alert>
      <Lock className="h-4 w-4" />
      <AlertDescription>
        –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º Admin'–∞
      </AlertDescription>
    </Alert>
  )}
</TabsContent>
```


***

## **‚öôÔ∏è 6. SETTINGS PAGE**

### **1Ô∏è‚É£5Ô∏è‚É£ Settings - —á—Ç–æ Manager –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç 6 —Ç–∞–±–æ–≤ Settings (General, Loyalty, POS, Notifications, Team, Security).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ç–∞–±—ã –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É?

**A)** –¢–æ–ª—å–∫–æ Profile (—Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å)
**B)** Profile + Notifications (—Å–≤–æ–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
**C)** –í—Å—ë –∫—Ä–æ–º–µ Team, Security, –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π
**D)** Read-only –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Manager –≤–∏–¥–∏—Ç 3 —Ç–∞–±–∞ (Profile | Restaurant Info (read-only) | Notifications)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Profile Tab (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø):**

- –°–≤–æ—ë —Ñ–æ—Ç–æ, –∏–º—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω
- –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- Timezone

**Restaurant Info Tab (read-only –¥–ª—è Manager):**

- –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –ª–æ–≥–æ—Ç–∏–ø, –∞–¥—Ä–µ—Å, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã
- Manager –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–æ –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏ —Å –≥–æ—Å—Ç—è–º–∏)

**Notifications Tab (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø):**

- –ö–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Email, Telegram)
- –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–∫–∞–∫–∏–µ –ø–æ–ª—É—á–∞—Ç—å)
- Quiet hours (–∫–æ–≥–¥–∞ –Ω–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å)

**–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è Manager'—É:**

- ‚ùå General Settings (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è: API keys, webhook URLs)
- ‚ùå Loyalty Settings (ball conversion, redeem limit) - —ç—Ç–æ Admin
- ‚ùå POS Integration Settings (credentials)
- ‚ùå Team Management (invite/remove)
- ‚ùå Security Settings (2FA for restaurant, API tokens)

**UI (Settings Page –¥–ª—è Manager):**

```tsx
<Tabs defaultValue="profile">
  <TabsList>
    <TabsTrigger value="profile">
      <User className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Ñ–∏–ª—å
    </TabsTrigger>
    <TabsTrigger value="restaurant">
      <Building className="mr-2 h-4 w-4" />
      –†–µ—Å—Ç–æ—Ä–∞–Ω
      <Badge variant="outline" className="ml-2 text-xs">Read-only</Badge>
    </TabsTrigger>
    <TabsTrigger value="notifications">
      <Bell className="mr-2 h-4 w-4" />
      –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    </TabsTrigger>
  </TabsList>
  
  <TabsContent value="profile">
    {/* Editable profile form */}
  </TabsContent>
  
  <TabsContent value="restaurant">
    <Alert className="mb-6">
      <Info className="h-4 w-4" />
      <AlertDescription>
        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É.
      </AlertDescription>
    </Alert>
    
    {/* Read-only restaurant info */}
    <Card>
      <CardHeader>
        <CardTitle>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</CardTitle>
      </CardHeader>
      <CardContent>
        <dl className="grid grid-cols-2 gap-4">
          <div>
            <dt className="text-sm text-secondary">–ù–∞–∑–≤–∞–Ω–∏–µ</dt>
            <dd className="font-medium">{restaurant.name}</dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">–ê–¥—Ä–µ—Å</dt>
            <dd className="font-medium">{restaurant.address}</dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">–¢–µ–ª–µ—Ñ–æ–Ω</dt>
            <dd className="font-medium">{restaurant.phone}</dd>
          </div>
          <div>
            <dt className="text-sm text-secondary">Email</dt>
            <dd className="font-medium">{restaurant.email}</dd>
          </div>
        </dl>
        
        <Separator className="my-6" />
        
        <div>
          <Label className="mb-3">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</Label>
          <div className="space-y-2">
            {restaurant.workingHours.map((day) => (
              <div key={day.dayOfWeek} className="flex justify-between text-sm">
                <span className="text-secondary">{DAYS_RU[day.dayOfWeek]}</span>
                <span className="font-medium">
                  {day.isOpen ? `${day.openTime} - ${day.closeTime}` : '–í—ã—Ö–æ–¥–Ω–æ–π'}
                </span>
              </div>
            ))}
          </div>
        </div>
      </CardContent>
    </Card>
  </TabsContent>
  
  <TabsContent value="notifications">
    {/* Editable notifications settings */}
  </TabsContent>
</Tabs>
```


***

### **1Ô∏è‚É£6Ô∏è‚É£ Manager Profile - —á—Ç–æ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Settings ‚Üí Profile Tab.

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ Manager –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Å–≤–æ—ë–º –ø—Ä–æ—Ñ–∏–ª–µ?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –í—Å—ë –∫—Ä–æ–º–µ Email (Email –º–µ–Ω—è–µ—Ç Admin)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–ú–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å:**
    - –§–æ—Ç–æ/–∞–≤–∞—Ç–∞—Ä
    - –ò–º—è, –§–∞–º–∏–ª–∏—è
    - –¢–µ–ª–µ—Ñ–æ–Ω
    - –ü–∞—Ä–æ–ª—å (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å—Ç–∞—Ä–æ–≥–æ)
    - –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    - Timezone
- ‚ùå **–ù–ï –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å:**
    - Email (—ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –≤—Ö–æ–¥–∞, –º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ Admin)
    - –†–æ–ª—å (Manager –Ω–µ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Å–µ–±—è Admin)
    - Permissions (–Ω–∞–∑–Ω–∞—á–∞–µ—Ç Admin)

**UI:**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</CardTitle>
  </CardHeader>
  <CardContent>
    <form onSubmit={handleUpdateProfile} className="space-y-6">
      {/* Avatar */}
      <div className="flex items-center gap-4">
        <Avatar className="h-20 w-20">
          {profile.avatar ? (
            <AvatarImage src={profile.avatar} />
          ) : (
            <AvatarFallback className="text-2xl">
              {getInitials(profile.firstName, profile.lastName)}
            </AvatarFallback>
          )}
        </Avatar>
        <div>
          <Button variant="outline" onClick={uploadAvatar}>
            <Upload className="mr-2 h-4 w-4" />
            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
          </Button>
          {profile.avatar && (
            <Button variant="ghost" size="sm" onClick={removeAvatar}>
              –£–¥–∞–ª–∏—Ç—å
            </Button>
          )}
        </div>
      </div>
      
      <Separator />
      
      <div className="grid grid-cols-2 gap-4">
        <div>
          <Label>–ò–º—è *</Label>
          <Input
            value={profile.firstName}
            onChange={(e) => setProfile({ ...profile, firstName: e.target.value })}
            required
          />
        </div>
        
        <div>
          <Label>–§–∞–º–∏–ª–∏—è *</Label>
          <Input
            value={profile.lastName}
            onChange={(e) => setProfile({ ...profile, lastName: e.target.value })}
            required
          />
        </div>
      </div>
      
      <div>
        <Label>Email</Label>
        <Input
          type="email"
          value={profile.email}
          disabled
          className="bg-muted"
        />
        <p className="text-xs text-secondary mt-1">
          Email –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥–∞. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É.
        </p>
      </div>
      
      <div>
        <Label>–¢–µ–ª–µ—Ñ–æ–Ω</Label>
        <Input
          type="tel"
          value={profile.phone}
          onChange={(e) => setProfile({ ...profile, phone: e.target.value })}
        />
      </div>
      
      <Separator />
      
      <div>
        <Label>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</Label>
        <Select
          value={profile.language}
          onValueChange={(value) => setProfile({ ...profile, language: value })}
        >
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</SelectItem>
            <SelectItem value="en">üá¨üáß English</SelectItem>
          </SelectContent>
        </Select>
      </div>
      
      <div>
        <Label>Timezone</Label>
        <Select
          value={profile.timezone}
          onValueChange={(value) => setProfile({ ...profile, timezone: value })}
        >
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="Europe/Moscow">–ú–°–ö (UTC+3)</SelectItem>
            <SelectItem value="Europe/Kiev">–ö–∏–µ–≤ (UTC+2)</SelectItem>
            <SelectItem value="Asia/Almaty">–ê–ª–º–∞—Ç—ã (UTC+6)</SelectItem>
            {/* ... other timezones */}
          </SelectContent>
        </Select>
      </div>
      
      <Button type="submit">
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </Button>
    </form>
    
    <Separator className="my-6" />
    
    {/* Change Password Section */}
    <div>
      <h3 className="text-lg font-semibold mb-4">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h3>
      <form onSubmit={handleChangePassword} className="space-y-4">
        <div>
          <Label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å *</Label>
          <Input
            type="password"
            value={passwordForm.current}
            onChange={(e) => setPasswordForm({ ...passwordForm, current: e.target.value })}
            required
          />
        </div>
        
        <div>
          <Label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å *</Label>
          <Input
            type="password"
            value={passwordForm.new}
            onChange={(e) => setPasswordForm({ ...passwordForm, new: e.target.value })}
            required
            minLength={8}
          />
          <p className="text-xs text-secondary mt-1">
            –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤
          </p>
        </div>
        
        <div>
          <Label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å *</Label>
          <Input
            type="password"
            value={passwordForm.confirm}
            onChange={(e) => setPasswordForm({ ...passwordForm, confirm: e.target.value })}
            required
          />
        </div>
        
        <Button type="submit">
          –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
        </Button>
      </form>
    </div>
  </CardContent>
</Card>
```


***

## **üîî 7. NOTIFICATIONS**

### **1Ô∏è‚É£7Ô∏è‚É£ Notifications - –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç Manager?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ POS_ERROR –∏ LIMIT_WARNING.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É?

**A)** –¢–µ –∂–µ —á—Ç–æ Admin (POS_ERROR, LIMIT_WARNING)
**B)** –¢–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (NEW_GUEST, AT_RISK_GUEST)
**C)** Approval-related (Admin –æ–¥–æ–±—Ä–∏–ª/–æ—Ç–∫–ª–æ–Ω–∏–ª –≤–∞—à–µ –ø—Ä–∞–≤–∏–ª–æ/–ø—Ä–æ–º–æ)
**D)** –ù–∏–∫–∞–∫–∏—Ö (Manager —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Approval-related + A) POS_ERROR (–µ—Å–ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω)**

**Notification Types –¥–ª—è Manager:**

1. **‚úÖ APPROVAL_APPROVED** - Admin –æ–¥–æ–±—Ä–∏–ª –≤–∞—à–µ –ø—Ä–∞–≤–∏–ª–æ/–ø—Ä–æ–º–æ
2. **‚úï APPROVAL_REJECTED** - Admin –æ—Ç–∫–ª–æ–Ω–∏–ª —Å –ø—Ä–∏—á–∏–Ω–æ–π
3. **üî• POS_ERROR** - –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å POS (–µ—Å–ª–∏ Manager –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ POS –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è Manager'—É:**

- ‚ùå LIMIT_WARNING (—ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ç–∞—Ä–∏—Ñ–∞, —Ä–µ—à–∞–µ—Ç Admin)
- ‚ùå NEW_GUEST, BIRTHDAY_TODAY, AT_RISK_GUEST (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —à—É–º, Manager —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç)

**UI (Bell Dropdown):**

```tsx
<Popover>
  <PopoverTrigger asChild>
    <Button variant="ghost" size="icon" className="relative">
      <Bell className="h-5 w-5" />
      {unreadCount > 0 && (
        <span className="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
          {unreadCount}
        </span>
      )}
    </Button>
  </PopoverTrigger>
  
  <PopoverContent className="w-[400px] p-0" align="end">
    <div className="flex items-center justify-between p-4 border-b">
      <h3 className="font-semibold">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
      {unreadCount > 0 && (
        <Button variant="ghost" size="sm" onClick={markAllAsRead}>
          –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ
        </Button>
      )}
    </div>
    
    <ScrollArea className="h-[400px]">
      {notifications.length === 0 ? (
        <div className="p-8 text-center text-secondary">
          <Bell className="h-12 w-12 mx-auto mb-2 opacity-50" />
          <p>–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
        </div>
      ) : (
        <div className="divide-y">
          {notifications.map((notification) => (
            <div
              key={notification.id}
              className={cn(
                "p-4 hover:bg-card-hover transition cursor-pointer",
                !notification.readAt && "bg-primary/5"
              )}
              onClick={() => handleNotificationClick(notification)}
            >
              <div className="flex gap-3">
                <div className="flex-shrink-0">
                  {notification.type === 'APPROVAL_APPROVED' && (
                    <div className="h-10 w-10 rounded-full bg-success/10 flex items-center justify-center">
                      <Check className="h-5 w-5 text-success" />
                    </div>
                  )}
                  {notification.type === 'APPROVAL_REJECTED' && (
                    <div className="h-10 w-10 rounded-full bg-danger/10 flex items-center justify-center">
                      <X className="h-5 w-5 text-danger" />
                    </div>
                  )}
                  {notification.type === 'POS_ERROR' && (
                    <div className="h-10 w-10 rounded-full bg-warning/10 flex items-center justify-center">
                      <AlertTriangle className="h-5 w-5 text-warning" />
                    </div>
                  )}
                </div>
                
                <div className="flex-1 space-y-1">
                  <p className="text-sm font-medium">
                    {notification.title}
                  </p>
                  <p className="text-sm text-secondary">
                    {notification.message}
                  </p>
                  <p className="text-xs text-secondary">
                    {formatRelative(notification.createdAt)}
                  </p>
                </div>
                
                {!notification.readAt && (
                  <div className="flex-shrink-0">
                    <div className="w-2 h-2 bg-primary rounded-full" />
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      )}
    </ScrollArea>
  </PopoverContent>
</Popover>
```


***

## **üìù 8. ACTIVITY LOG**

### **1Ô∏è‚É£8Ô∏è‚É£ Activity Log - —á—Ç–æ Manager –≤–∏–¥–∏—Ç?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –≤–∏–¥–∏—Ç Activity Log –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∫–æ–º–∞–Ω–¥—ã.

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É –≤ Activity Log?

**A)** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã (–∫–∞–∫ —É Admin)
**B)** –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è (—á—Ç–æ –¥–µ–ª–∞–ª —ç—Ç–æ—Ç Manager)
**C)** –î–µ–π—Å—Ç–≤–∏—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã, –Ω–æ read-only
**D)** –ù–∏—á–µ–≥–æ (Activity Log —Ç–æ–ª—å–∫–æ –¥–ª—è Admin)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–∞–Ω–¥—ã (read-only)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Transparency** - Manager –≤–∏–¥–∏—Ç —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ (–¥—Ä—É–≥–∏–µ Manager'—ã, Cashier'—ã, Admin)
- ‚úÖ **Accountability** - –ø–æ–Ω—è—Ç–Ω–æ –∫—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ **Audit trail** - –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å "–∫—Ç–æ –∏–∑–º–µ–Ω–∏–ª –±–∞–ª–∞–Ω—Å –≥–æ—Å—Ç—è?" ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤ Activity Log
- ‚úÖ **Read-only** - Manager –Ω–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)

**–§–∏–ª—å—Ç—Ä—ã (—Ç–µ –∂–µ —á—Ç–æ —É Admin):**

- –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è (–í—Ö–æ–¥, –°–æ–∑–¥–∞–Ω–∏–µ, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –£–¥–∞–ª–µ–Ω–∏–µ, –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤)
- –î–∞—Ç–∞ (range picker)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (dropdown: –Ø, Admin, –î—Ä—É–≥–∏–µ Manager'—ã)
- –û–±—ä–µ–∫—Ç (–ì–æ—Å—Ç—å, –ü—Ä–∞–≤–∏–ª–æ, –ü—Ä–æ–º–æ)

**UI:**

```tsx
<Card>
  <CardHeader>
    <div className="flex items-center justify-between">
      <div>
        <CardTitle>Activity Log</CardTitle>
        <CardDescription>
          –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π –∫–æ–º–∞–Ω–¥—ã
        </CardDescription>
      </div>
      
      {userRole === 'MANAGER' && (
        <Badge variant="outline">Read-only</Badge>
      )}
    </div>
  </CardHeader>
  
  <CardContent>
    {/* Filters */}
    <div className="flex gap-4 mb-4">
      <Select value={actionFilter} onValueChange={setActionFilter}>
        <SelectTrigger className="w-[200px]">
          <SelectValue placeholder="–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è" />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="all">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</SelectItem>
          <SelectItem value="LOGIN">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</SelectItem>
          <SelectItem value="CREATE">–°–æ–∑–¥–∞–Ω–∏–µ</SelectItem>
          <SelectItem value="UPDATE">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</SelectItem>
          <SelectItem value="ADJUST_BALLS">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤</SelectItem>
          <SelectItem value="DELETE">–£–¥–∞–ª–µ–Ω–∏–µ</SelectItem>
        </SelectContent>
      </Select>
      
      <Select value={userFilter} onValueChange={setUserFilter}>
        <SelectTrigger className="w-[200px]">
          <SelectValue placeholder="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="all">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</SelectItem>
          <SelectItem value="me">–¢–æ–ª—å–∫–æ —è</SelectItem>
          <SelectItem value="admin">Admin</SelectItem>
          <SelectItem value="managers">–î—Ä—É–≥–∏–µ Manager'—ã</SelectItem>
        </SelectContent>
      </Select>
      
      <DateRangePicker
        value={dateRange}
        onChange={setDateRange}
      />
      
      <Input
        placeholder="–ü–æ–∏—Å–∫..."
        value={searchQuery}
        onChange={(e) => setSearchQuery(e.target.value)}
        className="max-w-sm"
      />
    </div>
    
    {/* Activity Log Table */}
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>–í—Ä–µ–º—è</TableHead>
          <TableHead>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</TableHead>
          <TableHead>–î–µ–π—Å—Ç–≤–∏–µ</TableHead>
          <TableHead>–û–±—ä–µ–∫—Ç</TableHead>
          <TableHead>IP –∞–¥—Ä–µ—Å</TableHead>
          <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {activityLogs.map((log) => (
          <TableRow key={log.id}>
            <TableCell>{formatDateTime(log.createdAt)}</TableCell>
            <TableCell>
              <div className="flex items-center gap-2">
                <Avatar className="h-6 w-6">
                  <AvatarFallback className="text-xs">
                    {getInitials(log.user.firstName, log.user.lastName)}
                  </AvatarFallback>
                </Avatar>
                <div>
                  <div className="text-sm font-medium">
                    {log.user.firstName} {log.user.lastName}
                  </div>
                  <Badge variant="outline" className="text-xs">
                    {log.user.role}
                  </Badge>
                </div>
              </div>
            </TableCell>
            <TableCell>
              <div className="flex items-center gap-2">
                {ACTION_ICONS[log.actionType]}
                <span>{ACTION_NAMES[log.actionType]}</span>
              </div>
            </TableCell>
            <TableCell>
              <div className="text-sm">
                {log.targetName}
              </div>
            </TableCell>
            <TableCell className="font-mono text-xs">
              {log.ipAddress}
            </TableCell>
            <TableCell>
              <Badge variant={log.status === 'SUCCESS' ? 'success' : 'destructive'}>
                {log.status}
              </Badge>
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </CardContent>
</Card>
```


***

## **üîó 9. POS INTEGRATION**

### **1Ô∏è‚É£9Ô∏è‚É£ POS Integration - —á—Ç–æ Manager –≤–∏–¥–∏—Ç?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (credentials, webhook URL, test connection).

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ POS Integration?

**A)** –ù–∏—á–µ–≥–æ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞)
**B)** –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ + Recent Transactions (read-only)
**C)** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–∞–∫ —É Admin (–º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å credentials)
**D)** –°—Ç–∞—Ç—É—Å + Test Connection button (–º–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –°—Ç–∞—Ç—É—Å + Recent Transactions (read-only) + D) Test Connection**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - Manager –≤–∏–¥–∏—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ POS sync (Active/Error)
- ‚úÖ **Metrics** - –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è, –û—à–∏–±–æ–∫
- ‚úÖ **Recent Transactions** - —Ç–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ POS (Manager –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –±–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚úÖ **Test Connection button** - Manager –º–æ–∂–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ credentials)
- ‚ùå **–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
    - API credentials (encrypted, —Ç–æ–ª—å–∫–æ Admin –≤–∏–¥–∏—Ç)
    - Webhook URL (—Ç–æ–ª—å–∫–æ Admin –º–æ–∂–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å)
    - –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" (—Ç–æ–ª—å–∫–æ Admin)
    - –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é" (—Ç–æ–ª—å–∫–æ Admin)

**UI:**

```tsx
<Card>
  <CardHeader>
    <div className="flex items-center justify-between">
      <div className="flex items-center gap-4">
        <img
          src={integration.provider.logo}
          alt={integration.provider.name}
          className="h-12"
        />
        <div>
          <CardTitle>{integration.provider.name}</CardTitle>
          <CardDescription>
            {integration.method === 'WEBHOOK' ? 'Webhook (Push)' : 'API Polling (Pull)'}
          </CardDescription>
        </div>
      </div>
      <Badge variant={integration.status === 'ACTIVE' ? 'success' : 'destructive'}>
        {integration.status === 'ACTIVE' ? '‚úì –ê–∫—Ç–∏–≤–Ω–∞' : '‚úï –û—à–∏–±–∫–∞'}
      </Badge>
    </div>
  </CardHeader>
  
  <CardContent className="space-y-4">
    <div className="grid grid-cols-3 gap-4">
      <div>
        <Label className="text-xs text-secondary">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</Label>
        <p className="font-medium">{formatRelative(integration.lastSync)}</p>
      </div>
      <div>
        <Label className="text-xs text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è</Label>
        <p className="font-medium">{integration.todayTransactions}</p>
      </div>
      <div>
        <Label className="text-xs text-secondary">–û—à–∏–±–æ–∫</Label>
        <p className="font-medium text-danger">{integration.errorsCount}</p>
      </div>
    </div>
    
    {/* Manager –º–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –≤–∏–¥–∏—Ç credentials */}
    <div className="flex gap-2">
      <Button onClick={testConnection}>
        <Zap className="mr-2 h-4 w-4" />
        –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
      </Button>
      <Button variant="outline" onClick={viewSyncLog}>
        <FileText className="mr-2 h-4 w-4" />
        –õ–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
      </Button>
      
      {/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ù–ï –¥–æ—Å—Ç—É–ø–Ω—ã Manager'—É */}
      {userRole === 'ADMIN' && (
        <Button variant="outline" onClick={editIntegration}>
          <Settings className="mr-2 h-4 w-4" />
          –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        </Button>
      )}
    </div>
    
    {userRole === 'MANAGER' && (
      <Alert>
        <Lock className="h-4 w-4" />
        <AlertDescription>
          –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ Admin'—É
        </AlertDescription>
      </Alert>
    )}
  </CardContent>
</Card>

{/* Recent Transactions (read-only) */}
<Card>
  <CardHeader>
    <CardTitle>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ POS</CardTitle>
  </CardHeader>
  <CardContent>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>–î–∞—Ç–∞</TableHead>
          <TableHead>–ß–µ–∫ ‚Ññ</TableHead>
          <TableHead>–ì–æ—Å—Ç—å</TableHead>
          <TableHead>–°—É–º–º–∞</TableHead>
          <TableHead>–ù–∞—á–∏—Å–ª–µ–Ω–æ</TableHead>
          <TableHead>–°–ø–∏—Å–∞–Ω–æ</TableHead>
          <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {posTransactions.map((tx) => (
          <TableRow key={tx.id}>
            <TableCell>{formatDateTime(tx.createdAt)}</TableCell>
            <TableCell className="font-mono">{tx.checkId}</TableCell>
            <TableCell>{tx.guestName || tx.guestPhone}</TableCell>
            <TableCell>{formatCurrency(tx.checkAmount)}</TableCell>
            <TableCell className="text-success">
              {tx.earnedPoints ? `+${tx.earnedPoints}` : '‚Äî'}
            </TableCell>
            <TableCell className="text-danger">
              {tx.redeemedPoints ? `‚àí${tx.redeemedPoints}` : '‚Äî'}
            </TableCell>
            <TableCell>
              <Badge variant={tx.status === 'SUCCESS' ? 'success' : 'destructive'}>
                {tx.status}
              </Badge>
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </CardContent>
</Card>
```


***

## **üì± 10. MOBILE VIEW**

### **2Ô∏è‚É£0Ô∏è‚É£ Mobile - —Ç–µ –∂–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —á—Ç–æ —É Admin?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin Dashboard –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è mobile (Bottom Nav, Cards –≤–º–µ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü, FAB).

**–í–æ–ø—Ä–æ—Å:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ mobile –∞–¥–∞–ø—Ç–∞—Ü–∏—é –¥–ª—è Manager?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –∏–¥–µ–Ω—Ç–∏—á–Ω–∞—è mobile –∞–¥–∞–ø—Ç–∞—Ü–∏—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Consistency** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π UX –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π –Ω–∞ mobile
- ‚úÖ **Component reuse** - –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ mobile –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ **Manager —á–∞—Å—Ç–æ –Ω–∞ –≤—ã–µ–∑–¥–µ** - –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫—Ä–∏—Ç–∏—á–Ω–∞

**Mobile Layout (< 768px):**

- Top Bar (fixed) - Logo, Notifications, Hamburger
- Content Area (scrollable)
- Bottom Navigation (fixed) - Dashboard, Guests, Loyalty, Analytics, Settings

**–û—Ç–ª–∏—á–∏–µ –æ—Ç Admin:** –≤ Hamburger Menu –Ω–µ—Ç –ø—É–Ω–∫—Ç–æ–≤ Team –∏ Billing

***

## **üéØ 11. SPECIAL SCENARIOS**

### **2Ô∏è‚É£1Ô∏è‚É£ Multi-Manager Coordination - –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–í —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ Manager'–æ–≤. –û–¥–∏–Ω —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª–æ, –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ç–æ–≥–æ –∂–µ –≥–æ—Å—Ç—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã?

**A)** Optimistic locking (–ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π wins)
**B)** Pessimistic locking (–∫—Ç–æ –æ—Ç–∫—Ä—ã–ª –ø–µ—Ä–≤—ã–º, —Ç–æ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç)
**C)** Real-time indicators "Manager X —Å–µ–π—á–∞—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ–≥–æ –≥–æ—Å—Ç—è"
**D)** Version control —Å conflict resolution UI

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Real-time indicators + A) Optimistic locking —Å conflict warning**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Real-time indicators (—á–µ—Ä–µ–∑ WebSocket/SSE):**

```tsx
// –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ Guest Profile
{currentlyEditing.length > 0 && (
  <Alert className="mb-4">
    <Users className="h-4 w-4" />
    <AlertDescription>
      <strong>{currentlyEditing.map(u => u.firstName).join(', ')}</strong> 
      {currentlyEditing.length === 1 ? ' —Å–µ–π—á–∞—Å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç' : ' —Å–µ–π—á–∞—Å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç'} 
      —ç—Ç–æ–≥–æ –≥–æ—Å—Ç—è
    </AlertDescription>
  </Alert>
)}
```

**Optimistic locking —Å conflict detection:**

```tsx
// –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
try {
  await updateGuest({
    id: guest.id,
    data: updatedData,
    version: guest.version // Prisma optimistic locking
  });
  
  toast.success('–ì–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω');
} catch (error) {
  if (error.code === 'CONFLICT') {
    // –î—Ä—É–≥–æ–π Manager —Å–æ—Ö—Ä–∞–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–Ω—å—à–µ
    setShowConflictModal(true);
  }
}
```

**Conflict Resolution Modal:**

```tsx
<Dialog open={showConflictModal} onOpenChange={setShowConflictModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π</DialogTitle>
      <DialogDescription>
        {conflictingUser.firstName} —Å–æ—Ö—Ä–∞–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∫–∞ –≤—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-4">
      <div>
        <Label>–í–∞—à–∞ –≤–µ—Ä—Å–∏—è</Label>
        <pre className="bg-muted p-3 rounded text-sm">
          {JSON.stringify(yourChanges, null, 2)}
        </pre>
      </div>
      
      <div>
        <Label>–ò—Ö –≤–µ—Ä—Å–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)</Label>
        <pre className="bg-muted p-3 rounded text-sm">
          {JSON.stringify(theirChanges, null, 2)}
        </pre>
      </div>
    </div>
    
    <DialogFooter>
      <Button variant="outline" onClick={discardYourChanges}>
        –û—Ç–º–µ–Ω–∏—Ç—å –º–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </Button>
      <Button onClick={overwriteTheirChanges}>
        –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

### **2Ô∏è‚É£2Ô∏è‚É£ Manager Request to Admin - –∫–∞–∫ Manager –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —á—Ç–æ-—Ç–æ —É Admin'–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager —Ö–æ—á–µ—Ç: —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞, –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π permission, –∏–∑–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ Manager –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —ç—Ç–æ —É Admin'–∞?

**A)** Email/Telegram Admin'—É –≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã
**B)** In-app "Request" button ‚Üí Admin –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
**C)** Comment system (Manager –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –æ–±—ä–µ–∫—Ç—É)
**D)** –ù–∏–∫–∞–∫ (Manager –¥–æ–ª–∂–µ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å –ª–∏—á–Ω–æ)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) In-app Request System**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **Audit trail** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ **Transparency** - Admin –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤

**UI (–∫–Ω–æ–ø–∫–∞ "Request" –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö):**

**1. Settings ‚Üí Profile:**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</CardTitle>
  </CardHeader>
  <CardContent className="space-y-3">
    {AVAILABLE_PERMISSIONS.map((permission) => (
      <div key={permission.id} className="flex items-center justify-between">
        <div>
          <div className="font-medium">{permission.name}</div>
          <div className="text-sm text-secondary">{permission.description}</div>
        </div>
        
        {userPermissions.includes(permission.id) ? (
          <Badge variant="success">
            <Check className="mr-1 h-3 w-3" />
            –ï—Å—Ç—å
          </Badge>
        ) : (
          <Button
            variant="outline"
            size="sm"
            onClick={() => requestPermission(permission)}
          >
            –ó–∞–ø—Ä–æ—Å–∏—Ç—å
          </Button>
        )}
      </div>
    ))}
  </CardContent>
</Card>
```

**2. Request Modal:**

```tsx
<Dialog open={showRequestModal} onOpenChange={setShowRequestModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</DialogTitle>
      <DialogDescription>
        –í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω Admin'—É
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-4">
      <div>
        <Label>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</Label>
        <div className="mt-2 p-3 border rounded-lg">
          <div className="font-medium">{requestingPermission.name}</div>
          <div className="text-sm text-secondary">{requestingPermission.description}</div>
        </div>
      </div>
      
      <div>
        <Label>–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ *</Label>
        <Textarea
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –≥–æ—Å—Ç–µ–π –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–∫–∏"
          value={requestReason}
          onChange={(e) => setRequestReason(e.target.value)}
          required
          minLength={20}
          rows={4}
        />
      </div>
    </div>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowRequestModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={submitRequest}>
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**3. Admin –≤–∏–¥–∏—Ç –∑–∞–ø—Ä–æ—Å—ã:**

```tsx
// –í Notifications –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è Team ‚Üí Requests
<Card>
  <CardHeader>
    <CardTitle>
      –ó–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–æ–º–∞–Ω–¥—ã ({pendingRequests.length})
    </CardTitle>
  </CardHeader>
  <CardContent className="space-y-3">
    {pendingRequests.map((request) => (
      <div key={request.id} className="flex items-start justify-between p-4 border rounded-lg">
        <div>
          <div className="flex items-center gap-2 mb-1">
            <Avatar className="h-6 w-6">
              <AvatarFallback className="text-xs">
                {getInitials(request.user.firstName, request.user.lastName)}
              </AvatarFallback>
            </Avatar>
            <span className="font-semibold">
              {request.user.firstName} {request.user.lastName}
            </span>
            <Badge variant="outline">{request.user.role}</Badge>
          </div>
          
          <div className="text-sm mb-2">
            <strong>–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç:</strong> {request.permissionName}
          </div>
          
          <div className="text-sm text-secondary">
            <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> {request.reason}
          </div>
          
          <div className="text-xs text-secondary mt-1">
            {formatRelative(request.createdAt)}
          </div>
        </div>
        
        <div className="flex gap-2">
          <Button
            size="sm"
            onClick={() => approveRequest(request)}
          >
            <Check className="mr-2 h-4 w-4" />
            –û–¥–æ–±—Ä–∏—Ç—å
          </Button>
          <Button
            variant="outline"
            size="sm"
            onClick={() => rejectRequest(request)}
          >
            <X className="mr-2 h-4 w-4" />
            –û—Ç–∫–ª–æ–Ω–∏—Ç—å
          </Button>
        </div>
      </div>
    ))}
  </CardContent>
</Card>
```


***

### **2Ô∏è‚É£3Ô∏è‚É£ Manager Training Mode - –∫–∞–∫ –æ–±—É—á–∏—Ç—å –Ω–æ–≤–æ–≥–æ Manager'–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ù–æ–≤—ã–π Manager –≤–ø–µ—Ä–≤—ã–µ –∑–∞—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ—Å–ª–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑–∞—Ç—å –ª–∏ onboarding –¥–ª—è Manager'–∞?

**A)** –ù–µ—Ç (Manager —Å–∞–º —Ä–∞–∑–±–µ—Ä—ë—Ç—Å—è)
**B)** –î–∞, Interactive Tour (–ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö)
**C)** –î–∞, Video Tutorial (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ)
**D)** –î–∞, Practice Mode (—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Interactive Tour + D) Practice Mode (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Interactive Tour (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ):**

```tsx
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É react-joyride
const tourSteps = [
  {
    target: '.dashboard-kpis',
    content: '–ó–¥–µ—Å—å –≤—ã –≤–∏–¥–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—Ç–µ–π, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, Loyalty ROI',
    placement: 'bottom'
  },
  {
    target: '.quick-actions',
    content: '–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã, —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏—é',
    placement: 'bottom'
  },
  {
    target: '.sidebar-guests',
    content: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏: —Å–ø–∏—Å–æ–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –ø—Ä–æ—Ñ–∏–ª–∏',
    placement: 'right'
  },
  {
    target: '.sidebar-loyalty',
    content: 'Loyalty Builder: –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è, —É—Ä–æ–≤–Ω–∏, –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin\'–∞',
    placement: 'right'
  },
  {
    target: '.sidebar-analytics',
    content: '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –≤—ã—Ä—É—á–∫–∞, Loyalty ROI',
    placement: 'right'
  },
  {
    target: '.profile-dropdown',
    content: '–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å, —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è',
    placement: 'bottom'
  }
];

<Joyride
  steps={tourSteps}
  run={showTour}
  continuous
  showProgress
  showSkipButton
  styles={{
    options: {
      primaryColor: '#3b82f6',
      zIndex: 1000
    }
  }}
/>
```

**Practice Mode (optional, –≤ Settings):**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–†–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</CardTitle>
    <CardDescription>
      –ü–æ–ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    </CardDescription>
  </CardHeader>
  <CardContent>
    <Alert className="mb-4">
      <Info className="h-4 w-4" />
      <AlertDescription>
        –í —Ä–µ–∂–∏–º–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –≥–æ—Å—Ç—è–º–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
      </AlertDescription>
    </Alert>
    
    <Button onClick={enablePracticeMode}>
      <Play className="mr-2 h-4 w-4" />
      –ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
    </Button>
  </CardContent>
</Card>
```


***

## **üîí 12. SECURITY \& AUDIT**

### **2Ô∏è‚É£4Ô∏è‚É£ Audit Trail - –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –¥–µ–π—Å—Ç–≤–∏—è Manager'–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Manager –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª—ã, —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–º–æ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –≥–æ—Å—Ç–µ–π.

**–í–æ–ø—Ä–æ—Å:**
–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ª–∏ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è Manager'–∞?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Accountability** - –ø–æ–Ω—è—Ç–Ω–æ –∫—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç
- ‚úÖ **Security** - –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Manager –Ω–∞—á–∏—Å–ª–∏–ª —Å–µ–±–µ 1M –±–∞–ª–ª–æ–≤)
- ‚úÖ **Compliance** - audit trail –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ **Troubleshooting** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É

**–õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:**

```typescript
enum ManagerActionType {
  // Guest Management
  CREATE_GUEST = 'create_guest',
  UPDATE_GUEST = 'update_guest',
  DEACTIVATE_GUEST = 'deactivate_guest',
  
  // Balls Adjustment
  ADJUST_BALLS_MANUAL = 'adjust_balls_manual',
  BALLS_TRANSFER = 'balls_transfer',
  
  // Loyalty
  CREATE_RULE = 'create_rule',
  UPDATE_RULE = 'update_rule',
  CREATE_PROMO = 'create_promo',
  ACTIVATE_PROMO = 'activate_promo',
  DEACTIVATE_PROMO = 'deactivate_promo',
  
  // Export
  EXPORT_GUESTS = 'export_guests',
  EXPORT_REPORT = 'export_report',
  
  // Bulk Operations
  BULK_ADD_BALLS = 'bulk_add_balls',
  BULK_SEND_NOTIFICATION = 'bulk_send_notification',
  BULK_ADD_TAG = 'bulk_add_tag',
  
  // Settings
  UPDATE_PROFILE = 'update_profile',
  CHANGE_PASSWORD = 'change_password',
  
  // Requests
  REQUEST_PERMISSION = 'request_permission'
}
```

**Activity Log Entry:**

```typescript
{
  id: 'log_123',
  actionType: 'ADJUST_BALLS_MANUAL',
  performedBy: {
    id: 'manager_456',
    firstName: '–ú–∞—Ä–∏—è',
    lastName: '–ü–µ—Ç—Ä–æ–≤–∞',
    role: 'MANAGER'
  },
  targetUser: {
    id: 'guest_789',
    firstName: '–ò–≤–∞–Ω',
    lastName: '–ò–≤–∞–Ω–æ–≤'
  },
  metadata: {
    ballsAdded: 500,
    reason: '–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞ –æ—à–∏–±–∫—É',
    balanceBefore: 1200,
    balanceAfter: 1700
  },
  ipAddress: '192.168.1.100',
  userAgent: 'Mozilla/5.0...',
  createdAt: '2026-02-16T14:30:00Z'
}
```


***

### **2Ô∏è‚É£5Ô∏è‚É£ Permission Changes - –∫–∞–∫ Manager —É–∑–Ω–∞—ë—Ç —á—Ç–æ –ø—Ä–∞–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Admin –∏–∑–º–µ–Ω–∏–ª permissions Manager'–∞ (–¥–æ–±–∞–≤–∏–ª "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö", —É–±—Ä–∞–ª "–£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Å—Ç–µ–π").

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ Manager —É–∑–Ω–∞—ë—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö?

**A)** –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
**B)** Real-time notification + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh UI
**C)** Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
**D)** Manager —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ Settings ‚Üí Permissions

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Real-time notification + Auto UI refresh**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Instant feedback** - Manager —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —á—Ç–æ –ø—Ä–∞–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
- ‚úÖ **No confusion** - –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—è "—Ä–∞–Ω—å—à–µ –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞, —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–ø–∞–ª–∞"
- ‚úÖ **Transparency** - –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ Admin –∏–∑–º–µ–Ω–∏–ª

**Implementation:**

**Backend (WebSocket/SSE event):**

```typescript
// –ö–æ–≥–¥–∞ Admin –º–µ–Ω—è–µ—Ç permissions
await this.eventBus.emit('permissions.updated', {
  userId: manager.id,
  updatedPermissions: newPermissions,
  changedBy: admin.id
});
```

**Frontend (Manager's session):**

```typescript
// Manager –ø–æ–ª—É—á–∞–µ—Ç event
socket.on('permissions.updated', (data) => {
  // –ü–æ–∫–∞–∑–∞—Ç—å notification
  toast.info('–í–∞—à–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã', {
    description: '–û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å...',
    duration: 3000
  });
  
  // Fetch –Ω–æ–≤—ã–µ permissions
  queryClient.invalidateQueries(['user-permissions']);
  
  // Refresh UI (–ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫–∏)
  setTimeout(() => {
    window.location.reload(); // –ò–ª–∏ soft reload –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  }, 3000);
});
```

**Toast Notification:**

```tsx
<Toast>
  <div className="flex items-start gap-3">
    <div className="h-10 w-10 rounded-full bg-info/10 flex items-center justify-center">
      <Shield className="h-5 w-5 text-info" />
    </div>
    <div className="flex-1">
      <div className="font-semibold">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑–º–µ–Ω–µ–Ω—ã</div>
      <div className="text-sm text-secondary">
        Admin –æ–±–Ω–æ–≤–∏–ª –≤–∞—à–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã.
      </div>
      <Button
        variant="link"
        size="sm"
        className="mt-2 h-auto p-0"
        onClick={viewPermissions}
      >
        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </Button>
    </div>
  </div>
</Toast>
```


***

# ‚úÖ **–ò–¢–û–ì–û: 25 –í–û–ü–†–û–°–û–í MANAGER DASHBOARD –†–ï–®–ï–ù–´!**

**–ì–æ—Ç–æ–≤ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 25 —Ä–µ—à–µ–Ω–∏–π –¥–ª—è Manager Dashboard –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏?** –ò–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É?

**–°–ª–µ–¥—É—é—â–∏–µ –±–ª–æ–∫–∏:**

1. **Cashier POS Interface** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤
2. **Guest Telegram Mini App** - –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ—Å—Ç–µ–π
3. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è API \& Webhooks** - REST API, authentication, rate limits
4. **Deployment \& Infrastructure** - Docker, CI/CD, monitoring

**–ß—Ç–æ –¥–µ–ª–∞–µ–º?** üöÄ

<div align="center">‚ÅÇ</div>

[^12_1]: Beseda-3.md

[^12_2]: Beseda-2.md


---

# üìã **MANAGER DASHBOARD - –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–®–ï–ù–ò–Ø –ü–û 25 –í–û–ü–†–û–°–ê–ú**


***

## **üîê 1. ROLE \& PERMISSIONS**

### **–í–æ–ø—Ä–æ—Å 1: Manager vs Admin - —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Manager –≤–∏–¥–∏—Ç –≤—Å—ë –∫—Ä–æ–º–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ–∫—Ü–∏–π (Billing, Team Management, Security Settings) + Permission-based restrictions

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Manager –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫:**

- Dashboard (KPIs, Charts, Quick Actions) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- Guests Management (CRUD, —Ñ–∏–ª—å—Ç—Ä—ã, search, bulk actions, guest profiles) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- Loyalty Builder (Rules, Levels, Promos, Design) - —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin, Levels –∏ Design read-only)
- Analytics (–≤—Å–µ 5 —Ç–∞–±–æ–≤) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- POS Integration - —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∏ recent transactions (–ù–ï –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å credentials)
- Activity Log - —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä (read-only)

**Manager –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫:**

- Team Management (–Ω–µ –º–æ–∂–µ—Ç invite/remove –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- Billing/Subscription (–Ω–µ –≤–∏–¥–∏—Ç —Ç–∞—Ä–∏—Ñ, –æ–ø–ª–∞—Ç—É, invoices)
- Critical Settings: API credentials, Webhook URLs, Security settings (2FA, API tokens), Subscription management
- Impersonation (—Ç–æ–ª—å–∫–æ Owner –º–æ–∂–µ—Ç)
- Permanent delete –≥–æ—Å—Ç–µ–π (–º–æ–∂–µ—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ —É–¥–∞–ª–∏—Ç—å –∏–∑ –ë–î)

**Permission-based restrictions (Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç):**

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏ (CRUD)
- –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π (—Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º Admin)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ loyalty (read-only –∏–ª–∏ –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é)
- Auto-activate promo (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, Manager –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ –±–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

**–¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**

```
–†–∞–∑–¥–µ–ª / –§—É–Ω–∫—Ü–∏—è             Admin    Manager
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Dashboard                    ‚úì        ‚úì
Guests Management            ‚úì        ‚úì
Loyalty Rules                ‚úì        ‚úì* (–æ–¥–æ–±—Ä–µ–Ω–∏–µ)
Loyalty Levels               ‚úì        Read-only
Promo Campaigns              ‚úì        ‚úì* (–æ–¥–æ–±—Ä–µ–Ω–∏–µ)
Card Design                  ‚úì        Read-only
Analytics                    ‚úì        ‚úì
POS Integration              ‚úì        Read-only
Team Management              ‚úì        ‚úï
Billing/Subscription         ‚úì        ‚úï
Restaurant Settings          ‚úì        Partial
Security Settings            ‚úì        ‚úï
Activity Log                 ‚úì        Read-only
Delete Guests                ‚úì        ‚úï
Export Data                  ‚úì        ‚úì (permission)
```


***

### **–í–æ–ø—Ä–æ—Å 2: Permission Badges - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å Manager'—É –µ–≥–æ –ø—Ä–∞–≤–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –°–∫—Ä—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã + Badge "Read-only" –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö + Disabled –∫–Ω–æ–ø–∫–∏ —Å Tooltip

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–°–∫—Ä—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ** - Team Management, Billing –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ sidebar (cleaner UI)
- **Badge "Read-only"** - POS Integration, Activity Log –≤–∏–¥–Ω—ã —Å Badge –∏ Tooltip "–¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä"
- **Disable –∫–Ω–æ–ø–æ–∫** - –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è" disabled + Tooltip "–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å Admin"
- **Approval Required Badge** - –Ω–∞ –∫–Ω–æ–ø–∫–µ "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ" ‚Üí Badge + Toast "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ"

**UI Sidebar Navigation:**

```tsx
<SidebarNav>
  <SidebarItem href="/manager/dashboard">Dashboard</SidebarItem>
  <SidebarItem href="/manager/guests">Guests</SidebarItem>
  <SidebarItem href="/manager/loyalty">Loyalty</SidebarItem>
  <SidebarItem href="/manager/analytics">Analytics</SidebarItem>
  <SidebarItem href="/manager/pos">
    POS Integration
    <Badge variant="outline">Read-only</Badge>
  </SidebarItem>
  <SidebarItem href="/manager/settings">Settings</SidebarItem>
  <SidebarItem href="/manager/activity-log">
    Activity Log
    <Badge variant="outline">Read-only</Badge>
  </SidebarItem>
  
  {/* –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è: Team Management, Billing */}
</SidebarNav>
```

**Tooltip –Ω–∞ disabled –∫–Ω–æ–ø–∫–µ:**

```tsx
<Tooltip>
  <TooltipTrigger asChild>
    <span>
      <Button disabled className="cursor-not-allowed">
        <Trash2 className="mr-2 h-4 w-4" />
        –£–¥–∞–ª–∏—Ç—å –≥–æ—Å—Ç—è
      </Button>
    </span>
  </TooltipTrigger>
  <TooltipContent>
    –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å Admin
  </TooltipContent>
</Tooltip>
```


***

### **–í–æ–ø—Ä–æ—Å 3: Manager Profile Badge - –∫–∞–∫ Manager –ø–æ–Ω–∏–º–∞–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Badge "Manager" –≤ header + Permission indicator –≤ Profile Dropdown

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Badge –≤ header** - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–∏–¥–µ–Ω —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (outline —Å—Ç–∏–ª—å)
- **Profile Dropdown** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∏–º—è, email, Role Badge (Manager), –∫–Ω–æ–ø–∫–∞ "–ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞" ‚Üí Modal —Å–æ —Å–ø–∏—Å–∫–æ–º permissions

**UI Profile Dropdown:**

```tsx
<DropdownMenu>
  <DropdownMenuTrigger asChild>
    <Button variant="ghost">
      <Avatar>
        <AvatarImage src={user.avatar} />
        <AvatarFallback>{getInitials(user.firstName, user.lastName)}</AvatarFallback>
      </Avatar>
      <div className="ml-2 text-left">
        <div className="text-sm font-medium">{user.firstName}</div>
        <Badge variant="outline" className="text-xs">Manager</Badge>
      </div>
    </Button>
  </DropdownMenuTrigger>
  
  <DropdownMenuContent align="end" className="w-64">
    <DropdownMenuLabel>
      <div>{user.firstName} {user.lastName}</div>
      <div className="text-xs text-secondary font-normal">{user.email}</div>
    </DropdownMenuLabel>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={viewPermissions}>
      <Shield className="mr-2 h-4 w-4" />
      –ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={viewProfile}>
      <User className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Ñ–∏–ª—å
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={logout}>
      <LogOut className="mr-2 h-4 w-4" />
      –í—ã–π—Ç–∏
    </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>
```

**Permissions Modal:**

- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö permissions —Å –∏–∫–æ–Ω–∫–∞–º–∏ ‚úì (–µ—Å—Ç—å) –∏–ª–∏ ‚úï (–Ω–µ—Ç)
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ permission
- –¢–µ–∫—Å—Ç –≤–Ω–∏–∑—É: "–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É"

***

## **üìä 2. DASHBOARD HOME**

### **–í–æ–ø—Ä–æ—Å 4: Manager Dashboard - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ –∂–µ KPI —á—Ç–æ Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ KPI (–í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π | –ê–∫—Ç–∏–≤–Ω—ã—Ö (30–¥) | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ | Loyalty ROI)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Consistency** - Manager –∏ Admin –≤–∏–¥—è—Ç –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω—É, –ø—Ä–æ—â–µ –æ–±—Å—É–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–ú–æ—Ç–∏–≤–∞—Ü–∏—è** - Manager –≤–∏–¥–∏—Ç —Ç–µ –∂–µ KPI —á—Ç–æ –≤–ª–∏—è—é—Ç –Ω–∞ —É—Å–ø–µ—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- **No confusion** - –Ω–µ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å "–ø–æ—á–µ–º—É —É –º–µ–Ω—è –æ–¥–Ω–∏ —Ü–∏—Ñ—Ä—ã, –∞ —É Admin'–∞ –¥—Ä—É–≥–∏–µ"
- **Reusability** - –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ–±–µ–∏—Ö —Ä–æ–ª–µ–π

**–ú–µ—Ç—Ä–∏–∫–∏:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë• –í—Å–µ–≥–æ –≥–æ—Å—Ç–µ–π      ‚îÇ  ‚îÇ ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã—Ö (30–¥)    ‚îÇ
‚îÇ 2,847                ‚îÇ  ‚îÇ 1,876 (66%)          ‚îÇ
‚îÇ ‚Üë +123 –∑–∞ –º–µ—Å—è—Ü      ‚îÇ  ‚îÇ ‚Üë +98 –∑–∞ –º–µ—Å—è—Ü       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üéÅ –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ  ‚îÇ  ‚îÇ üìà Loyalty ROI       ‚îÇ
‚îÇ 45,680               ‚îÇ  ‚îÇ 1:8.4                ‚îÇ
‚îÇ ‚Üë +5,420 –∑–∞ –º–µ—Å—è—Ü    ‚îÇ  ‚îÇ ‚Üë +0.3 (—É–ª—É—á—à–µ–Ω–∏–µ)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

### **–í–æ–ø—Ä–æ—Å 5: Dashboard Charts - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ –∂–µ –≥—Ä–∞—Ñ–∏–∫–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, —Ç–µ –∂–µ 4 –≥—Ä–∞—Ñ–∏–∫–∞ —á—Ç–æ —É Admin

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –±–∏–∑–Ω–µ—Å–∞
- Component reuse (DRY)
- Manager –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –¥–∏–Ω–∞–º–∏–∫—É

**–ì—Ä–∞—Ñ–∏–∫–∏:**

1. **Guests Growth** (Line Chart, 6 –º–µ—Å—è—Ü–µ–≤) - —Ä–æ—Å—Ç –±–∞–∑—ã –≥–æ—Å—Ç–µ–π
2. **Revenue + Balls Earned** (Combined Chart, 30 –¥–Ω–µ–π) - –≤—ã—Ä—É—á–∫–∞ + –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –±–∞–ª–ª—ã
3. **Loyalty Levels Distribution** (Donut Chart) - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º
4. **Top 10 Guests Leaderboard** - —Ç–æ–ø-10 –≥–æ—Å—Ç–µ–π –ø–æ Lifetime Spent

***

### **–í–æ–ø—Ä–æ—Å 6: Quick Actions - —Ç–µ –∂–µ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –¥–ª—è Manager?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –¢–µ –∂–µ Quick Actions + Permission-based visibility

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ Manager'—É
- **–†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞** - –µ—Å–ª–∏ permission "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤"
- **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ** - –µ—Å–ª–∏ permission "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ" (—Å Badge "–¢—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è")
- **–≠–∫—Å–ø–æ—Ä—Ç** - –µ—Å–ª–∏ permission "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"

**UI Conditional Rendering:**

```tsx
<div className="grid grid-cols-4 gap-4">
  {/* –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ */}
  <QuickActionCard
    icon={UserPlus}
    title="–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è"
    onClick={openAddGuestModal}
  />
  
  {/* Permission-based */}
  {hasPermission('ADJUST_BALLS') && (
    <QuickActionCard
      icon={Edit}
      title="–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞"
      onClick={openAdjustBallsModal}
    />
  )}
  
  {hasPermission('CREATE_PROMO') && (
    <QuickActionCard
      icon={Gift}
      title="–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ"
      badge="–¢—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è"
      onClick={openCreatePromoModal}
    />
  )}
  
  {hasPermission('EXPORT_DATA') && (
    <QuickActionCard
      icon={Download}
      title="–≠–∫—Å–ø–æ—Ä—Ç"
      onClick={openExportModal}
    />
  )}
</div>
```


***

## **üë• 3. GUESTS MANAGEMENT**

### **–í–æ–ø—Ä–æ—Å 7: Guests Page - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫—Ä–æ–º–µ permanent delete + Permission-based restrictions

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**–ú–æ–∂–µ—Ç:**

- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã—Ö –≥–æ—Å—Ç–µ–π
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (–µ—Å–ª–∏ permission)
- –ù–∞—á–∏—Å–ª—è—Ç—å/—Å–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã (–µ—Å–ª–∏ permission)
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ permission)
- Bulk actions (–µ—Å–ª–∏ permission)
- –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è (—Å—Ç–∞—Ç—É—Å INACTIVE)
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ù–ï –º–æ–∂–µ—Ç:**

- –£–¥–∞–ª—è—Ç—å –≥–æ—Å—Ç—è permanently (hard delete) - —Ç–æ–ª—å–∫–æ Admin
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –≥–æ—Å—Ç–µ–π

**UI Dropdown Actions:**

```tsx
<DropdownMenu>
  <DropdownMenuContent>
    <DropdownMenuItem onClick={() => viewGuest(guest)}>
      <Eye className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π
    </DropdownMenuItem>
    
    {hasPermission('EDIT_GUESTS') && (
      <DropdownMenuItem onClick={() => editGuest(guest)}>
        <Edit className="mr-2 h-4 w-4" />
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
      </DropdownMenuItem>
    )}
    
    {hasPermission('ADJUST_BALLS') && (
      <DropdownMenuItem onClick={() => adjustBalls(guest)}>
        <Gift className="mr-2 h-4 w-4" />
        –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤
      </DropdownMenuItem>
    )}
    
    <DropdownMenuItem onClick={() => viewHistory(guest)}>
      <History className="mr-2 h-4 w-4" />
      –ò—Å—Ç–æ—Ä–∏—è
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={() => deactivateGuest(guest)}>
      <Ban className="mr-2 h-4 w-4" />
      –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
    </DropdownMenuItem>
    
    {/* Delete –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è Manager'—É */}
  </DropdownMenuContent>
</DropdownMenu>
```


***

### **–í–æ–ø—Ä–æ—Å 8: Guest Profile - —Ç–µ –∂–µ —Ç–∞–±—ã —á—Ç–æ —É Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –≤—Å–µ 6 —Ç–∞–±–æ–≤ (Overview, Transactions, Visits, Children, Activity Log, Analytics)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Manager –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≥–æ—Å—Ç–µ
- –í—Å–µ —Ç–∞–±—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ, –Ω–∏—á–µ–≥–æ –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ
- Activity Log –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç transparency (–∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–ª)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Ç–∞–±–∞—Ö:**

- **Overview:** Quick Actions disabled –µ—Å–ª–∏ –Ω–µ—Ç permission, –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- **Transactions:** Read-only (–Ω–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- **Visits:** Read-only
- **Children:** –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- **Activity Log:** Read-only
- **Analytics:** Read-only

***

### **–í–æ–ø—Ä–æ—Å 9: Bulk Actions - –¥–æ—Å—Ç—É–ø–Ω—ã Manager'—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Å–µ –∫—Ä–æ–º–µ "–£–¥–∞–ª–∏—Ç—å" + Permission-based

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–≠–∫—Å–ø–æ—Ä—Ç** - –µ—Å–ª–∏ permission "–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"
- **–î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã** - –µ—Å–ª–∏ permission "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤"
- **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- **–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥** - –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- **–£–¥–∞–ª–∏—Ç—å** - —Ç–æ–ª—å–∫–æ Admin

**UI Fixed Bottom Bar:**

```tsx
{selectedGuests.length > 0 && (
  <Card className="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 shadow-lg">
    <CardContent className="p-4 flex items-center gap-4">
      <Checkbox checked={allSelected} onCheckedChange={toggleSelectAll} />
      <span className="font-semibold">{selectedGuests.length} –≤—ã–±—Ä–∞–Ω–æ</span>
      
      <Separator orientation="vertical" className="h-6" />
      
      <div className="flex gap-2">
        {hasPermission('EXPORT_DATA') && (
          <Button variant="outline" size="sm" onClick={exportSelected}>
            <Download className="mr-2 h-4 w-4" />
            –≠–∫—Å–ø–æ—Ä—Ç
          </Button>
        )}
        
        {hasPermission('ADJUST_BALLS') && (
          <Button variant="outline" size="sm" onClick={openBulkAddBalls}>
            <Gift className="mr-2 h-4 w-4" />
            –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–ª—ã
          </Button>
        )}
        
        <Button variant="outline" size="sm" onClick={openBulkNotification}>
          <Send className="mr-2 h-4 w-4" />
          –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        </Button>
        
        <Button variant="outline" size="sm" onClick={openBulkTag}>
          <Tag className="mr-2 h-4 w-4" />
          –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥
        </Button>
        
        {/* –£–¥–∞–ª–∏—Ç—å –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è */}
      </div>
      
      <Button variant="ghost" size="sm" onClick={() => setSelectedGuests([])}>
        <X className="h-4 w-4" />
      </Button>
    </CardContent>
  </Card>
)}
```


***

## **üéÅ 4. LOYALTY BUILDER**

### **–í–æ–ø—Ä–æ—Å 10: Loyalty Builder - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º Admin + Levels –∏ Design read-only

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Rules (–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è):**

- ‚úÖ Manager –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚ö†Ô∏è Activation/Deactivation —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin
- –ü—Ä–æ—Ü–µ—Å—Å: —Å–æ–∑–¥–∞—ë—Ç ‚Üí PENDING_APPROVAL ‚Üí Admin –æ–¥–æ–±—Ä—è–µ—Ç ‚Üí APPROVED ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è

**Levels (–£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏):**

- ‚ùå Read-only –¥–ª—è Manager
- –ü—Ä–∏—á–∏–Ω–∞: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ –∫—Ä–∏—Ç–∏—á–Ω–æ (–≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ—Ö –≥–æ—Å—Ç–µ–π)

**Promos (–ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏):**

- ‚úÖ Manager –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚ö†Ô∏è Activation —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ—Ç permission AUTO_ACTIVATE_PROMO)
- ‚úÖ –ú–æ–∂–µ—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–æ

**Design (–î–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–∫–∏):**

- ‚ùå Read-only –¥–ª—è Manager
- –ü—Ä–∏—á–∏–Ω–∞: –¥–∏–∑–∞–π–Ω = –±—Ä–µ–Ω–¥ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (—Ä–µ—à–∞–µ—Ç Admin)

**UI –∏–Ω–¥–∏–∫–∞—Ü–∏—è:**

```tsx
<Tabs defaultValue="rules">
  <TabsContent value="rules">
    <div className="flex items-center justify-between">
      <div>
        <h2 className="text-2xl font-bold">–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</h2>
        {userRole === 'MANAGER' && (
          <p className="text-sm text-secondary">
            –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin'–∞
          </p>
        )}
      </div>
      
      {hasPermission('CREATE_RULES') && (
        <Button onClick={openCreateRule}>
          <Plus className="mr-2 h-4 w-4" />
          –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ
        </Button>
      )}
    </div>
    
    {rules.map((rule) => (
      <RuleCard key={rule.id} rule={rule}>
        {rule.status === 'PENDING_APPROVAL' && (
          <Badge variant="warning">–û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è</Badge>
        )}
      </RuleCard>
    ))}
  </TabsContent>
  
  <TabsContent value="levels">
    <div className="flex items-center justify-between">
      <h2 className="text-2xl font-bold">–£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
      {userRole === 'MANAGER' && (
        <Badge variant="outline">Read-only</Badge>
      )}
    </div>
    {/* Timeline –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}
  </TabsContent>
</Tabs>
```


***

### **–í–æ–ø—Ä–æ—Å 11: Approval Workflow - –∫–∞–∫ Admin –æ–¥–æ–±—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è Manager'–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** In-app Notification + Approval Queue –≤ Loyalty Builder

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Notification Bell** - Admin –ø–æ–ª—É—á–∞–µ—Ç "Manager —Å–æ–∑–¥–∞–ª –ø—Ä–∞–≤–∏–ª–æ 'Weekend Bonus'"
- **Badge –Ω–∞ Loyalty Builder** - –≤ sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ pending items
- **Approval Queue Section** - collapsible —Å–µ–∫—Ü–∏—è –≤ –Ω–∞—á–∞–ª–µ Loyalty Builder

**UI Approval Queue (–¥–ª—è Admin):**

```tsx
{pendingApprovals.length > 0 && (
  <Card className="mb-6 border-warning">
    <CardHeader>
      <div className="flex items-center justify-between">
        <CardTitle className="flex items-center gap-2">
          <AlertCircle className="h-5 w-5 text-warning" />
          –û–∂–∏–¥–∞—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è ({pendingApprovals.length})
        </CardTitle>
        <Button variant="ghost" size="sm" onClick={() => setShowApprovals(!showApprovals)}>
          {showApprovals ? <ChevronUp /> : <ChevronDown />}
        </Button>
      </div>
    </CardHeader>
    
    {showApprovals && (
      <CardContent>
        {pendingApprovals.map((item) => (
          <div key={item.id} className="flex items-start justify-between p-4 border rounded-lg">
            <div className="flex items-start gap-3">
              <div className="text-2xl">{item.type === 'RULE' ? 'üìè' : 'üéÅ'}</div>
              <div>
                <div className="font-semibold">{item.name}</div>
                <div className="text-sm text-secondary">
                  –°–æ–∑–¥–∞–ª: {item.createdBy.firstName} {formatRelative(item.createdAt)}
                </div>
              </div>
            </div>
            
            <div className="flex gap-2">
              <Button variant="outline" size="sm" onClick={() => viewDetails(item)}>
                <Eye className="mr-2 h-4 w-4" />
                –î–µ—Ç–∞–ª–∏
              </Button>
              <Button size="sm" onClick={() => approve(item)}>
                <Check className="mr-2 h-4 w-4" />
                –û–¥–æ–±—Ä–∏—Ç—å
              </Button>
              <Button variant="destructive" size="sm" onClick={() => reject(item)}>
                <X className="mr-2 h-4 w-4" />
                –û—Ç–∫–ª–æ–Ω–∏—Ç—å
              </Button>
            </div>
          </div>
        ))}
      </CardContent>
    )}
  </Card>
)}
```

**Manager –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å:**

- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ‚Üí Toast "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ"
- Badge "–û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è" –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ
- Notification –∫–æ–≥–¥–∞ –æ–¥–æ–±—Ä–µ–Ω–æ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ (—Å –ø—Ä–∏—á–∏–Ω–æ–π –µ—Å–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)

***

### **–í–æ–ø—Ä–æ—Å 12: Manager —Å–æ–∑–¥–∞–ª –ø—Ä–æ–º–æ - –º–æ–∂–µ—Ç –ª–∏ —Å–∞–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç permission "AUTO_ACTIVATE_PROMO"

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–ï—Å–ª–∏ permission –µ—Å—Ç—å:** Manager –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Å—Ä–∞–∑—É (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –∞–∫—Ü–∏–π)
- **–ï—Å–ª–∏ permission –Ω–µ—Ç:** —Å–æ–∑–¥–∞—ë—Ç ‚Üí PENDING_APPROVAL ‚Üí Admin –æ–¥–æ–±—Ä—è–µ—Ç

**UI Create Promo Modal:**

```tsx
<DialogFooter>
  <Button variant="outline" onClick={() => setShowPromoForm(false)}>
    –û—Ç–º–µ–Ω–∞
  </Button>
  
  {hasPermission('AUTO_ACTIVATE_PROMO') ? (
    <>
      <Button onClick={() => savePromo({ activate: false })}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫
      </Button>
      <Button onClick={() => savePromo({ activate: true })}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
      </Button>
    </>
  ) : (
    <Button onClick={() => savePromo({ activate: false })}>
      –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
    </Button>
  )}
</DialogFooter>
```


***

## **üìä 5. ANALYTICS PAGE**

### **–í–æ–ø—Ä–æ—Å 13: Analytics - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–∞–∫ —É Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º 5 —Ç–∞–±–∞–º

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Manager –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å –±–∏–∑–Ω–µ—Å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- Analytics –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (billing, API keys)
- RFM, cohort analysis, loyalty ROI –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Å—Ç—è–º–∏
- Transparency - –µ–¥–∏–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —Å Admin'–æ–º

**Tabs:**

1. **Overview** - KPIs + –≥—Ä–∞—Ñ–∏–∫–∏ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
2. **Guests Analysis** - RFM, cohort, churn risk (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
3. **Revenue Analysis** - –≤—ã—Ä—É—á–∫–∞, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
4. **Loyalty ROI** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
5. **Reports** - —ç–∫—Å–ø–æ—Ä—Ç (–µ—Å–ª–∏ permission "EXPORT_DATA")

***

### **–í–æ–ø—Ä–æ—Å 14: Export Reports - –¥–æ—Å—Ç—É–ø–µ–Ω Manager'—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –µ—Å–ª–∏ –µ—Å—Ç—å permission "EXPORT_DATA"

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Manager –º–æ–∂–µ—Ç –Ω—É–∂–¥–∞—Ç—å—Å—è –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, –∞–Ω–∞–ª–∏–∑–∞
- –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ (read operation)
- Admin –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ permission

**UI Reports Tab:**

```tsx
<TabsContent value="reports">
  {hasPermission('EXPORT_DATA') ? (
    <div className="grid grid-cols-2 gap-4">
      <ReportCard title="Guests Report" onClick={() => exportReport('guests')} />
      <ReportCard title="Transactions Report" onClick={() => exportReport('transactions')} />
      <ReportCard title="Revenue Report" onClick={() => exportReport('revenue')} />
      <ReportCard title="Loyalty ROI Report" onClick={() => exportReport('loyalty-roi')} />
      <ReportCard title="Birthday Report" onClick={() => exportReport('birthday')} />
      <ReportCard title="At-Risk Report" onClick={() => exportReport('at-risk')} />
    </div>
  ) : (
    <Alert>
      <Lock className="h-4 w-4" />
      <AlertDescription>
        –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º Admin'–∞
      </AlertDescription>
    </Alert>
  )}
</TabsContent>
```


***

## **‚öôÔ∏è 6. SETTINGS PAGE**

### **–í–æ–ø—Ä–æ—Å 15: Settings - —á—Ç–æ Manager –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** 3 —Ç–∞–±–∞ (Profile | Restaurant Info (read-only) | Notifications)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Profile Tab (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø):**

- –§–æ—Ç–æ, –∏–º—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω
- –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, timezone

**Restaurant Info Tab (read-only):**

- –ù–∞–∑–≤–∞–Ω–∏–µ, –ª–æ–≥–æ—Ç–∏–ø, –∞–¥—Ä–µ—Å, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã
- Manager –≤–∏–¥–∏—Ç –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏, –Ω–æ –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç

**Notifications Tab (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø):**

- –ö–∞–Ω–∞–ª—ã (Email, Telegram)
- –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Quiet hours

**–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:**

- ‚ùå General Settings (API keys, webhooks)
- ‚ùå Loyalty Settings (ball conversion, redeem limit)
- ‚ùå POS Integration Settings (credentials)
- ‚ùå Team Management
- ‚ùå Security Settings (2FA, API tokens)

**UI Tabs:**

```tsx
<Tabs defaultValue="profile">
  <TabsList>
    <TabsTrigger value="profile">
      <User className="mr-2 h-4 w-4" />
      –ü—Ä–æ—Ñ–∏–ª—å
    </TabsTrigger>
    <TabsTrigger value="restaurant">
      <Building className="mr-2 h-4 w-4" />
      –†–µ—Å—Ç–æ—Ä–∞–Ω
      <Badge variant="outline" className="ml-2">Read-only</Badge>
    </TabsTrigger>
    <TabsTrigger value="notifications">
      <Bell className="mr-2 h-4 w-4" />
      –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    </TabsTrigger>
  </TabsList>
  
  <TabsContent value="profile">
    {/* Editable profile form */}
  </TabsContent>
  
  <TabsContent value="restaurant">
    <Alert className="mb-6">
      <Info className="h-4 w-4" />
      <AlertDescription>
        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
      </AlertDescription>
    </Alert>
    {/* Read-only restaurant info */}
  </TabsContent>
  
  <TabsContent value="notifications">
    {/* Editable notifications */}
  </TabsContent>
</Tabs>
```


***

### **–í–æ–ø—Ä–æ—Å 16: Manager Profile - —á—Ç–æ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Å—ë –∫—Ä–æ–º–µ Email (Email –º–µ–Ω—è–µ—Ç Admin)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**–ú–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å:**

- –§–æ—Ç–æ/–∞–≤–∞—Ç–∞—Ä
- –ò–º—è, –§–∞–º–∏–ª–∏—è
- –¢–µ–ª–µ—Ñ–æ–Ω
- –ü–∞—Ä–æ–ª—å (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å—Ç–∞—Ä–æ–≥–æ)
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- Timezone

**–ù–ï –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å:**

- Email (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –≤—Ö–æ–¥–∞)
- –†–æ–ª—å (Manager ‚Üí Admin)
- Permissions (–Ω–∞–∑–Ω–∞—á–∞–µ—Ç Admin)

**UI Profile Form:**

```tsx
<form onSubmit={handleUpdateProfile}>
  {/* Avatar upload */}
  <div className="flex items-center gap-4">
    <Avatar className="h-20 w-20">
      {profile.avatar ? (
        <AvatarImage src={profile.avatar} />
      ) : (
        <AvatarFallback>{getInitials(profile.firstName, profile.lastName)}</AvatarFallback>
      )}
    </Avatar>
    <Button variant="outline" onClick={uploadAvatar}>
      <Upload className="mr-2 h-4 w-4" />
      –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
    </Button>
  </div>
  
  {/* First Name, Last Name */}
  <div className="grid grid-cols-2 gap-4">
    <Input label="–ò–º—è" value={profile.firstName} onChange={...} required />
    <Input label="–§–∞–º–∏–ª–∏—è" value={profile.lastName} onChange={...} required />
  </div>
  
  {/* Email (disabled) */}
  <Input
    label="Email"
    type="email"
    value={profile.email}
    disabled
    className="bg-muted"
  />
  <p className="text-xs text-secondary">
    Email –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥–∞. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É.
  </p>
  
  {/* Phone, Language, Timezone */}
  <Input label="–¢–µ–ª–µ—Ñ–æ–Ω" value={profile.phone} onChange={...} />
  <Select label="–Ø–∑—ã–∫" value={profile.language} onValueChange={...} />
  <Select label="Timezone" value={profile.timezone} onValueChange={...} />
  
  <Button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</Button>
</form>

<Separator className="my-6" />

{/* Change Password */}
<form onSubmit={handleChangePassword}>
  <Input label="–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å" type="password" value={...} required />
  <Input label="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" type="password" value={...} required minLength={8} />
  <Input label="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" type="password" value={...} required />
  <Button type="submit">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</Button>
</form>
```


***

## **üîî 7. NOTIFICATIONS**

### **–í–æ–ø—Ä–æ—Å 17: Notifications - –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç Manager?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Approval-related + POS_ERROR (–µ—Å–ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω)

**Notification Types:**

1. **‚úÖ APPROVAL_APPROVED** - Admin –æ–¥–æ–±—Ä–∏–ª –≤–∞—à–µ –ø—Ä–∞–≤–∏–ª–æ/–ø—Ä–æ–º–æ
2. **‚úï APPROVAL_REJECTED** - Admin –æ—Ç–∫–ª–æ–Ω–∏–ª —Å –ø—Ä–∏—á–∏–Ω–æ–π
3. **üî• POS_ERROR** - –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ Manager –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:**

- ‚ùå LIMIT_WARNING (—Ç–∞—Ä–∏—Ñ–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, —Ä–µ—à–∞–µ—Ç Admin)
- ‚ùå NEW_GUEST, BIRTHDAY_TODAY, AT_RISK_GUEST (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —à—É–º)

**UI Bell Dropdown:**

```tsx
<Popover>
  <PopoverTrigger asChild>
    <Button variant="ghost" size="icon" className="relative">
      <Bell className="h-5 w-5" />
      {unreadCount > 0 && (
        <span className="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
          {unreadCount}
        </span>
      )}
    </Button>
  </PopoverTrigger>
  
  <PopoverContent className="w-[400px] p-0" align="end">
    <div className="flex items-center justify-between p-4 border-b">
      <h3 className="font-semibold">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
      {unreadCount > 0 && (
        <Button variant="ghost" size="sm" onClick={markAllAsRead}>
          –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ
        </Button>
      )}
    </div>
    
    <ScrollArea className="h-[400px]">
      {notifications.map((notification) => (
        <div
          key={notification.id}
          className={cn(
            "p-4 hover:bg-card-hover transition cursor-pointer",
            !notification.readAt && "bg-primary/5"
          )}
          onClick={() => handleNotificationClick(notification)}
        >
          <div className="flex gap-3">
            <div className="flex-shrink-0">
              {notification.type === 'APPROVAL_APPROVED' && (
                <div className="h-10 w-10 rounded-full bg-success/10 flex items-center justify-center">
                  <Check className="h-5 w-5 text-success" />
                </div>
              )}
              {notification.type === 'APPROVAL_REJECTED' && (
                <div className="h-10 w-10 rounded-full bg-danger/10 flex items-center justify-center">
                  <X className="h-5 w-5 text-danger" />
                </div>
              )}
              {notification.type === 'POS_ERROR' && (
                <div className="h-10 w-10 rounded-full bg-warning/10 flex items-center justify-center">
                  <AlertTriangle className="h-5 w-5 text-warning" />
                </div>
              )}
            </div>
            
            <div className="flex-1">
              <p className="text-sm font-medium">{notification.title}</p>
              <p className="text-sm text-secondary">{notification.message}</p>
              <p className="text-xs text-secondary">{formatRelative(notification.createdAt)}</p>
            </div>
            
            {!notification.readAt && (
              <div className="w-2 h-2 bg-primary rounded-full" />
            )}
          </div>
        </div>
      ))}
    </ScrollArea>
  </PopoverContent>
</Popover>
```


***

## **üìù 8. ACTIVITY LOG**

### **–í–æ–ø—Ä–æ—Å 18: Activity Log - —á—Ç–æ Manager –≤–∏–¥–∏—Ç?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–∞–Ω–¥—ã (read-only)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Transparency** - Manager –≤–∏–¥–∏—Ç —á—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—Å—è –∫–æ–º–∞–Ω–¥–∞
- **Accountability** - –ø–æ–Ω—è—Ç–Ω–æ –∫—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç
- **Audit trail** - –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å "–∫—Ç–æ –∏–∑–º–µ–Ω–∏–ª –±–∞–ª–∞–Ω—Å –≥–æ—Å—Ç—è?"
- **Read-only** - Manager –Ω–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏

**–§–∏–ª—å—Ç—Ä—ã:**

- –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è (–í—Ö–æ–¥, –°–æ–∑–¥–∞–Ω–∏–µ, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤, –£–¥–∞–ª–µ–Ω–∏–µ)
- –î–∞—Ç–∞ (range picker)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ø, Admin, –î—Ä—É–≥–∏–µ Manager'—ã, –í—Å–µ)
- –û–±—ä–µ–∫—Ç (–ì–æ—Å—Ç—å, –ü—Ä–∞–≤–∏–ª–æ, –ü—Ä–æ–º–æ)

**UI Activity Log:**

```tsx
<Card>
  <CardHeader>
    <div className="flex items-center justify-between">
      <div>
        <CardTitle>Activity Log</CardTitle>
        <CardDescription>–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π –∫–æ–º–∞–Ω–¥—ã</CardDescription>
      </div>
      {userRole === 'MANAGER' && (
        <Badge variant="outline">Read-only</Badge>
      )}
    </div>
  </CardHeader>
  
  <CardContent>
    {/* Filters */}
    <div className="flex gap-4 mb-4">
      <Select value={actionFilter} onValueChange={setActionFilter}>
        <SelectTrigger>
          <SelectValue placeholder="–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è" />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="all">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</SelectItem>
          <SelectItem value="LOGIN">–í—Ö–æ–¥</SelectItem>
          <SelectItem value="CREATE">–°–æ–∑–¥–∞–Ω–∏–µ</SelectItem>
          <SelectItem value="UPDATE">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</SelectItem>
          <SelectItem value="ADJUST_BALLS">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤</SelectItem>
        </SelectContent>
      </Select>
      
      <Select value={userFilter} onValueChange={setUserFilter}>
        <SelectTrigger>
          <SelectValue placeholder="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" />
        </SelectTrigger>
        <SelectContent>
          <SelectItem value="all">–í—Å–µ</SelectItem>
          <SelectItem value="me">–¢–æ–ª—å–∫–æ —è</SelectItem>
          <SelectItem value="admin">Admin</SelectItem>
          <SelectItem value="managers">–î—Ä—É–≥–∏–µ Manager'—ã</SelectItem>
        </SelectContent>
      </Select>
      
      <DateRangePicker value={dateRange} onChange={setDateRange} />
      <Input placeholder="–ü–æ–∏—Å–∫..." value={searchQuery} onChange={...} />
    </div>
    
    {/* Table */}
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>–í—Ä–µ–º—è</TableHead>
          <TableHead>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</TableHead>
          <TableHead>–î–µ–π—Å—Ç–≤–∏–µ</TableHead>
          <TableHead>–û–±—ä–µ–∫—Ç</TableHead>
          <TableHead>IP –∞–¥—Ä–µ—Å</TableHead>
          <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {activityLogs.map((log) => (
          <TableRow key={log.id}>
            <TableCell>{formatDateTime(log.createdAt)}</TableCell>
            <TableCell>
              <div className="flex items-center gap-2">
                <Avatar className="h-6 w-6">
                  <AvatarFallback>{getInitials(log.user.firstName, log.user.lastName)}</AvatarFallback>
                </Avatar>
                <div>
                  <div className="text-sm">{log.user.firstName} {log.user.lastName}</div>
                  <Badge variant="outline" className="text-xs">{log.user.role}</Badge>
                </div>
              </div>
            </TableCell>
            <TableCell>
              {ACTION_ICONS[log.actionType]} {ACTION_NAMES[log.actionType]}
            </TableCell>
            <TableCell>{log.targetName}</TableCell>
            <TableCell className="font-mono text-xs">{log.ipAddress}</TableCell>
            <TableCell>
              <Badge variant={log.status === 'SUCCESS' ? 'success' : 'destructive'}>
                {log.status}
              </Badge>
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </CardContent>
</Card>
```


***

## **üîó 9. POS INTEGRATION**

### **–í–æ–ø—Ä–æ—Å 19: POS Integration - —á—Ç–æ Manager –≤–∏–¥–∏—Ç?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –°—Ç–∞—Ç—É—Å + Recent Transactions (read-only) + Test Connection button

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - Manager –≤–∏–¥–∏—Ç Active/Error
- **Metrics** - –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è, –û—à–∏–±–æ–∫
- **Recent Transactions** - —Ç–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (Manager –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –±–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è)
- **Test Connection** - Manager –º–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ credentials)
- **–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:** API credentials, Webhook URL, –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", "–û—Ç–∫–ª—é—á–∏—Ç—å"

**UI POS Integration:**

```tsx
<Card>
  <CardHeader>
    <div className="flex items-center justify-between">
      <div className="flex items-center gap-4">
        <img src={integration.provider.logo} className="h-12" />
        <div>
          <CardTitle>{integration.provider.name}</CardTitle>
          <CardDescription>
            {integration.method === 'WEBHOOK' ? 'Webhook (Push)' : 'API Polling (Pull)'}
          </CardDescription>
        </div>
      </div>
      <Badge variant={integration.status === 'ACTIVE' ? 'success' : 'destructive'}>
        {integration.status === 'ACTIVE' ? '‚úì –ê–∫—Ç–∏–≤–Ω–∞' : '‚úï –û—à–∏–±–∫–∞'}
      </Badge>
    </div>
  </CardHeader>
  
  <CardContent>
    <div className="grid grid-cols-3 gap-4 mb-4">
      <div>
        <Label className="text-xs text-secondary">–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</Label>
        <p className="font-medium">{formatRelative(integration.lastSync)}</p>
      </div>
      <div>
        <Label className="text-xs text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è</Label>
        <p className="font-medium">{integration.todayTransactions}</p>
      </div>
      <div>
        <Label className="text-xs text-secondary">–û—à–∏–±–æ–∫</Label>
        <p className="font-medium text-danger">{integration.errorsCount}</p>
      </div>
    </div>
    
    <div className="flex gap-2">
      <Button onClick={testConnection}>
        <Zap className="mr-2 h-4 w-4" />
        –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
      </Button>
      <Button variant="outline" onClick={viewSyncLog}>
        <FileText className="mr-2 h-4 w-4" />
        –õ–æ–≥
      </Button>
      
      {/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è Admin */}
      {userRole === 'ADMIN' && (
        <Button variant="outline" onClick={editIntegration}>
          <Settings className="mr-2 h-4 w-4" />
          –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        </Button>
      )}
    </div>
    
    {userRole === 'MANAGER' && (
      <Alert className="mt-4">
        <Lock className="h-4 w-4" />
        <AlertDescription>
          –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ Admin'—É
        </AlertDescription>
      </Alert>
    )}
  </CardContent>
</Card>

{/* Recent Transactions Table */}
<Card>
  <CardHeader>
    <CardTitle>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ POS</CardTitle>
  </CardHeader>
  <CardContent>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>–î–∞—Ç–∞</TableHead>
          <TableHead>–ß–µ–∫ ‚Ññ</TableHead>
          <TableHead>–ì–æ—Å—Ç—å</TableHead>
          <TableHead>–°—É–º–º–∞</TableHead>
          <TableHead>–ù–∞—á–∏—Å–ª–µ–Ω–æ</TableHead>
          <TableHead>–°–ø–∏—Å–∞–Ω–æ</TableHead>
          <TableHead>–°—Ç–∞—Ç—É—Å</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        {posTransactions.map((tx) => (
          <TableRow key={tx.id}>
            <TableCell>{formatDateTime(tx.createdAt)}</TableCell>
            <TableCell className="font-mono">{tx.checkId}</TableCell>
            <TableCell>{tx.guestName || tx.guestPhone}</TableCell>
            <TableCell>{formatCurrency(tx.checkAmount)}</TableCell>
            <TableCell className="text-success">
              {tx.earnedPoints ? `+${tx.earnedPoints}` : '‚Äî'}
            </TableCell>
            <TableCell className="text-danger">
              {tx.redeemedPoints ? `‚àí${tx.redeemedPoints}` : '‚Äî'}
            </TableCell>
            <TableCell>
              <Badge variant={tx.status === 'SUCCESS' ? 'success' : 'destructive'}>
                {tx.status}
              </Badge>
            </TableCell>
          </TableRow>
        ))}
      </TableBody>
    </Table>
  </CardContent>
</Card>
```


***

## **üì± 10. MOBILE VIEW**

### **–í–æ–ø—Ä–æ—Å 20: Mobile - —Ç–µ –∂–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —á—Ç–æ —É Admin?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –∏–¥–µ–Ω—Ç–∏—á–Ω–∞—è mobile –∞–¥–∞–ø—Ç–∞—Ü–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Consistency** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π UX –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- **Component reuse** - –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Manager —á–∞—Å—Ç–æ –Ω–∞ –≤—ã–µ–∑–¥–µ** - mobile –∫—Ä–∏—Ç–∏—á–Ω–∞

**Mobile Layout (< 768px):**

- Top Bar (fixed) - Logo, Notifications, Hamburger
- Content Area (scrollable)
- Bottom Navigation (fixed) - Dashboard, Guests, Loyalty, Analytics, Settings

**–û—Ç–ª–∏—á–∏–µ:** –í Hamburger Menu –Ω–µ—Ç –ø—É–Ω–∫—Ç–æ–≤ Team –∏ Billing

***

## **üéØ 11. SPECIAL SCENARIOS**

### **–í–æ–ø—Ä–æ—Å 21: Multi-Manager Coordination - –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Real-time indicators + Optimistic locking —Å conflict warning

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Real-time indicators (—á–µ—Ä–µ–∑ WebSocket):**

```tsx
{currentlyEditing.length > 0 && (
  <Alert className="mb-4">
    <Users className="h-4 w-4" />
    <AlertDescription>
      <strong>{currentlyEditing.map(u => u.firstName).join(', ')}</strong> 
      —Å–µ–π—á–∞—Å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —ç—Ç–æ–≥–æ –≥–æ—Å—Ç—è
    </AlertDescription>
  </Alert>
)}
```

**Optimistic locking:**

```tsx
try {
  await updateGuest({
    id: guest.id,
    data: updatedData,
    version: guest.version // Prisma optimistic locking
  });
  toast.success('–ì–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω');
} catch (error) {
  if (error.code === 'CONFLICT') {
    setShowConflictModal(true);
  }
}
```

**Conflict Resolution Modal:**

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–í–∞—à–∞ –≤–µ—Ä—Å–∏—è" vs "–ò—Ö –≤–µ—Ä—Å–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)"
- –ö–Ω–æ–ø–∫–∏: "–û—Ç–º–µ–Ω–∏—Ç—å –º–æ–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è" | "–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è"

***

### **–í–æ–ø—Ä–æ—Å 22: Manager Request to Admin - –∫–∞–∫ Manager –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —á—Ç–æ-—Ç–æ —É Admin'–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** In-app Request System

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- **Audit trail** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- **Transparency** - Admin –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é

**UI Request Permission (–≤ Settings ‚Üí Profile):**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–ú–æ–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</CardTitle>
  </CardHeader>
  <CardContent>
    {AVAILABLE_PERMISSIONS.map((permission) => (
      <div key={permission.id} className="flex items-center justify-between">
        <div>
          <div className="font-medium">{permission.name}</div>
          <div className="text-sm text-secondary">{permission.description}</div>
        </div>
        
        {userPermissions.includes(permission.id) ? (
          <Badge variant="success">
            <Check className="mr-1 h-3 w-3" />
            –ï—Å—Ç—å
          </Badge>
        ) : (
          <Button variant="outline" size="sm" onClick={() => requestPermission(permission)}>
            –ó–∞–ø—Ä–æ—Å–∏—Ç—å
          </Button>
        )}
      </div>
    ))}
  </CardContent>
</Card>
```

**Request Modal:**

```tsx
<Dialog open={showRequestModal} onOpenChange={setShowRequestModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</DialogTitle>
      <DialogDescription>
        –í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω Admin'—É
      </DialogDescription>
    </DialogHeader>
    
    <div>
      <Label>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</Label>
      <div className="p-3 border rounded-lg">
        <div className="font-medium">{requestingPermission.name}</div>
        <div className="text-sm text-secondary">{requestingPermission.description}</div>
      </div>
    </div>
    
    <Textarea
      label="–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ *"
      placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–ª—è email-—Ä–∞—Å—Å—ã–ª–∫–∏"
      value={requestReason}
      onChange={...}
      required
      minLength={20}
    />
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowRequestModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button onClick={submitRequest}>
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Admin –≤–∏–¥–∏—Ç –∑–∞–ø—Ä–æ—Å—ã:**

- –í Notifications –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è Team ‚Üí Requests
- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: –ö—Ç–æ, –ß—Ç–æ, –ü—Ä–∏—á–∏–Ω–∞, –î–∞—Ç–∞
- –ö–Ω–æ–ø–∫–∏: –û–¥–æ–±—Ä–∏—Ç—å | –û—Ç–∫–ª–æ–Ω–∏—Ç—å

***

### **–í–æ–ø—Ä–æ—Å 23: Manager Training Mode - –∫–∞–∫ –æ–±—É—á–∏—Ç—å –Ω–æ–≤–æ–≥–æ Manager'–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Interactive Tour + Practice Mode (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Interactive Tour (react-joyride):**

```tsx
const tourSteps = [
  {
    target: '.dashboard-kpis',
    content: '–ó–¥–µ—Å—å –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞',
    placement: 'bottom'
  },
  {
    target: '.quick-actions',
    content: '–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã',
    placement: 'bottom'
  },
  {
    target: '.sidebar-guests',
    content: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—Ç—è–º–∏: —Å–ø–∏—Å–æ–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –ø—Ä–æ—Ñ–∏–ª–∏',
    placement: 'right'
  },
  {
    target: '.sidebar-loyalty',
    content: 'Loyalty Builder. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è Admin\'–∞',
    placement: 'right'
  },
  {
    target: '.sidebar-analytics',
    content: '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: RFM —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –≤—ã—Ä—É—á–∫–∞, Loyalty ROI',
    placement: 'right'
  }
];

<Joyride
  steps={tourSteps}
  run={showTour}
  continuous
  showProgress
  showSkipButton
/>
```

**Practice Mode (–≤ Settings):**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–†–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</CardTitle>
    <CardDescription>
      –ü–æ–ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    </CardDescription>
  </CardHeader>
  <CardContent>
    <Alert className="mb-4">
      <Info className="h-4 w-4" />
      <AlertDescription>
        –í —Ä–µ–∂–∏–º–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –≥–æ—Å—Ç—è–º–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
      </AlertDescription>
    </Alert>
    
    <Button onClick={enablePracticeMode}>
      <Play className="mr-2 h-4 w-4" />
      –ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
    </Button>
  </CardContent>
</Card>
```


***

## **üîí 12. SECURITY \& AUDIT**

### **–í–æ–ø—Ä–æ—Å 24: Audit Trail - –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –¥–µ–π—Å—Ç–≤–∏—è Manager'–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –î–ê, –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Accountability** - –ø–æ–Ω—è—Ç–Ω–æ –∫—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç
- **Security** - –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **Compliance** - audit trail –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫
- **Troubleshooting** - –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º

**–õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:**

```typescript
enum ManagerActionType {
  // Guest Management
  CREATE_GUEST,
  UPDATE_GUEST,
  DEACTIVATE_GUEST,
  
  // Balls Adjustment
  ADJUST_BALLS_MANUAL,
  BALLS_TRANSFER,
  
  // Loyalty
  CREATE_RULE,
  UPDATE_RULE,
  CREATE_PROMO,
  ACTIVATE_PROMO,
  DEACTIVATE_PROMO,
  
  // Export
  EXPORT_GUESTS,
  EXPORT_REPORT,
  
  // Bulk Operations
  BULK_ADD_BALLS,
  BULK_SEND_NOTIFICATION,
  BULK_ADD_TAG,
  
  // Settings
  UPDATE_PROFILE,
  CHANGE_PASSWORD,
  
  // Requests
  REQUEST_PERMISSION
}
```

**Activity Log Entry:**

```typescript
{
  id: 'log_123',
  actionType: 'ADJUST_BALLS_MANUAL',
  performedBy: {
    id: 'manager_456',
    firstName: '–ú–∞—Ä–∏—è',
    role: 'MANAGER'
  },
  targetUser: {
    id: 'guest_789',
    firstName: '–ò–≤–∞–Ω'
  },
  metadata: {
    ballsAdded: 500,
    reason: '–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞ –æ—à–∏–±–∫—É',
    balanceBefore: 1200,
    balanceAfter: 1700
  },
  ipAddress: '192.168.1.100',
  userAgent: 'Mozilla/5.0...',
  createdAt: '2026-02-16T14:30:00Z'
}
```


***

### **–í–æ–ø—Ä–æ—Å 25: Permission Changes - –∫–∞–∫ Manager —É–∑–Ω–∞—ë—Ç —á—Ç–æ –ø—Ä–∞–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Real-time notification + Auto UI refresh

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- **Instant feedback** - Manager —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **No confusion** - –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç "—Ä–∞–Ω—å—à–µ –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞, —Ç–µ–ø–µ—Ä—å –Ω–µ—Ç"
- **Transparency** - –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ Admin –∏–∑–º–µ–Ω–∏–ª

**Implementation:**

**Backend (WebSocket event):**

```typescript
// –ö–æ–≥–¥–∞ Admin –º–µ–Ω—è–µ—Ç permissions
await this.eventBus.emit('permissions.updated', {
  userId: manager.id,
  updatedPermissions: newPermissions,
  changedBy: admin.id
});
```

**Frontend (Manager session):**

```typescript
socket.on('permissions.updated', (data) => {
  toast.info('–í–∞—à–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã', {
    description: '–û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å...',
    duration: 3000
  });
  
  queryClient.invalidateQueries(['user-permissions']);
  
  setTimeout(() => {
    window.location.reload(); // –ò–ª–∏ soft reload
  }, 3000);
});
```

**Toast Notification:**

```tsx
<Toast>
  <div className="flex items-start gap-3">
    <div className="h-10 w-10 rounded-full bg-info/10 flex items-center justify-center">
      <Shield className="h-5 w-5 text-info" />
    </div>
    <div className="flex-1">
      <div className="font-semibold">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑–º–µ–Ω–µ–Ω—ã</div>
      <div className="text-sm text-secondary">
        Admin –æ–±–Ω–æ–≤–∏–ª –≤–∞—à–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã.
      </div>
      <Button variant="link" size="sm" onClick={viewPermissions}>
        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </Button>
    </div>
  </div>
</Toast>
```


***

# ‚úÖ **–ò–¢–û–ì–û: 25 –†–ï–®–ï–ù–ò–ô MANAGER DASHBOARD –ü–†–ò–ù–Ø–¢–´!**


***

## **üì¶ –°–¢–†–£–ö–¢–£–†–ê MANAGER DASHBOARD**

**–†–æ—É—Ç—ã:**

```
/manager/dashboard          ‚Üí Overview (KPIs, Charts, Quick Actions)
/manager/guests             ‚Üí Guests Table + Filters + Search
/manager/guests/:id         ‚Üí Guest Profile (6 tabs)
/manager/loyalty            ‚Üí Loyalty Builder (4 tabs: Rules*, Levels read-only, Promos*, Design read-only)
/manager/analytics          ‚Üí Analytics (5 tabs)
/manager/pos                ‚Üí POS Integration (read-only + test connection)
/manager/settings           ‚Üí Settings (3 tabs: Profile, Restaurant Info read-only, Notifications)
/manager/activity-log       ‚Üí Activity Log (read-only)

* = —Å –æ–¥–æ–±—Ä–µ–Ω–∏–µ–º Admin
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç Admin:**

- ‚ùå –ù–µ—Ç Team Management
- ‚ùå –ù–µ—Ç Billing/Subscription
- ‚ùå Loyalty: Levels –∏ Design read-only, Rules/Promos —Ç—Ä–µ–±—É—é—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
- ‚ùå POS Integration read-only (credentials –Ω–µ –≤–∏–¥–∏—Ç)
- ‚ùå –ù–µ –º–æ–∂–µ—Ç permanent delete –≥–æ—Å—Ç–µ–π
- ‚úÖ Permission-based restrictions –Ω–∞ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ Real-time indicators –¥–ª—è coordination
- ‚úÖ Request system –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ permissions —É Admin
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (—Ç–µ –∂–µ —á—Ç–æ Admin):**

- Next.js 14 App Router + TypeScript
- shadcn/ui (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- TanStack Query + TanStack Table
- Recharts
- date-fns
- QRCode.react
- React Hook Form + Zod
- WebSocket (–¥–ª—è real-time indicators –∏ permission updates)

***

# üöÄ **–ì–û–¢–û–í –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ë–õ–û–ö–£!**

**–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?**

1. **Cashier POS Interface** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –∫–∞—Å—Å–µ (–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –≥–æ—Å—Ç—è, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø–æ —á–µ–∫—É, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI)
2. **Guest Telegram Mini App** - –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ—Å—Ç–µ–π (–º–æ—è –∫–∞—Ä—Ç–æ—á–∫–∞, –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∞–∫—Ü–∏–∏, QR-–∫–æ–¥ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–∞—Å—Å–∏—Ä—É)
3. **API Documentation \& Webhooks** - REST API endpoints, authentication, rate limits, webhook events –¥–ª—è POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
4. **Owner Analytics Deep Dive** - —É–≥–ª—É–±–ª—ë–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è Owner'–∞ (multi-tenant analytics, cross-restaurant comparison, tenant health metrics)

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?** üéØ

---

# üí∞ **CASHIER POS INTERFACE - 25 –í–û–ü–†–û–°–û–í –° –†–ï–®–ï–ù–ò–Ø–ú–ò**


***

## **üéØ 1. ROLE \& PURPOSE**

### **1Ô∏è‚É£ Cashier Interface - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ —á–∞—Å—Ç—å Dashboard?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å—Å–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞. –ï–º—É –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π, –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Å—Ç—è–º–∏: –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É/–∫–∞—Ä—Ç–µ, –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å, –Ω–∞—á–∏—Å–ª–∏—Ç—å/—Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É.[^14_1][^14_2]

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å Cashier –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?

**A)** –û—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier`, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç Dashboard)
**B)** –ß–∞—Å—Ç—å Dashboard —Å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–º UI (—Ç–µ –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–æ —É—Ä–µ–∑–∞–Ω–Ω—ã–µ)
**C)** Standalone web app (–æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω `pos.maxloyalty.app`)
**D)** Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Electron) –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –∫–∞—Å—Å–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier` + Fullscreen mode + Optimized –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–æ–≤**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç** - `/cashier` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç Admin/Manager Dashboard (–Ω–µ—Ç sidebar, –º–µ–Ω—é, –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚úÖ **Fullscreen mode** - Cashier —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å—Å–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤ fullscreen (–Ω–µ—Ç –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞)
- ‚úÖ **Touch-optimized** - –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏, –∫—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç, –º–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞ (–∫–∞—Å—Å–∏—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–∞—á-—ç–∫—Ä–∞–Ω–µ)
- ‚úÖ **Single-purpose** - –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ = –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ–∫ (–±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –Ω–∞—Å—Ç—Ä–æ–µ–∫, loyalty builder)
- ‚úÖ **Fast** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π JS bundle (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–∞—Å—Å–µ)
- ‚úÖ **Offline-ready** - –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å sync later (–¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ WiFi –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω)

**–†–æ—É—Ç—ã Cashier:**

```
/cashier/login              ‚Üí –í—Ö–æ–¥ (PIN-–∫–æ–¥ –∏–ª–∏ email/password)
/cashier                    ‚Üí –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–ø–æ–∏—Å–∫ –≥–æ—Å—Ç—è + quick actions)
/cashier/guest/:id          ‚Üí Guest Quick View (–±–∞–ª–∞–Ω—Å, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ)
/cashier/register-guest     ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è (–±—ã—Å—Ç—Ä–∞—è —Ñ–æ—Ä–º–∞)
/cashier/transaction/:id    ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (receipt screen)
```

**–ù–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫:**

- ‚ùå Dashboard/Analytics
- ‚ùå Loyalty Builder
- ‚ùå Settings (–∫—Ä–æ–º–µ —Å–º–µ–Ω—ã —Å–≤–æ–µ–≥–æ PIN-–∫–æ–¥–∞)
- ‚ùå Team Management
- ‚ùå –ü–æ–ª–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –≥–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ quick view)

***

### **2Ô∏è‚É£ Cashier Authentication - –∫–∞–∫ Cashier –ª–æ–≥–∏–Ω–∏—Ç—Å—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ–±—â–µ–º –∫–∞—Å—Å–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Å—Å–∏—Ä–æ–≤ –º–µ–Ω—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è). –ù—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –≤—Ö–æ–¥–∞ –¥–ª—è Cashier?

**A)** Email + Password (–∫–∞–∫ —É Admin/Manager)
**B)** PIN-–∫–æ–¥ (4-6 —Ü–∏—Ñ—Ä) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞
**C)** QR-–∫–æ–¥ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–π)
**D)** –ë–∏–æ–º–µ—Ç—Ä–∏—è (–æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã) + Optional Email/Password**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã)** - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–º–µ–Ω—ã –∫–∞—Å—Å–∏—Ä–æ–≤ (–∫–∞—Å—Å–∏—Ä –≤–≤–æ–¥–∏—Ç 1234 ‚Üí –≤–æ—à—ë–ª –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã)
- ‚úÖ **Numpad UI** - –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞ (–∫–∞–∫ –±–∞–Ω–∫–æ–º–∞—Ç)
- ‚úÖ **Session timeout** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- ‚úÖ **Fallback Email/Password** - –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –∑–∞–±—ã–ª PIN (—Å—Å—ã–ª–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ email")
- ‚úÖ **Admin assigns PIN** - Admin —Å–æ–∑–¥–∞—ë—Ç Cashier –∞–∫–∫–∞—É–Ω—Ç –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π PIN (–∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å)

**UI Login Screen:**

```tsx
<div className="flex h-screen items-center justify-center bg-background">
  <Card className="w-[400px]">
    <CardHeader className="text-center">
      <img src="/logo.svg" alt="Max Loyalty" className="h-12 mx-auto mb-4" />
      <CardTitle className="text-2xl">–í—Ö–æ–¥ –≤ –∫–∞—Å—Å—É</CardTitle>
      <CardDescription>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à PIN-–∫–æ–¥</CardDescription>
    </CardHeader>
    
    <CardContent>
      {/* PIN Display */}
      <div className="flex justify-center gap-3 mb-6">
        {[0, 1, 2, 3].map((index) => (
          <div
            key={index}
            className={cn(
              "w-14 h-14 rounded-lg border-2 flex items-center justify-center text-2xl font-bold",
              pin.length > index ? "border-primary bg-primary/10" : "border-border"
            )}
          >
            {pin.length > index && '‚óè'}
          </div>
        ))}
      </div>
      
      {/* Numpad */}
      <div className="grid grid-cols-3 gap-3">
        {[1, 2, 3, 4, 5, 6, 7, 8, 9].map((num) => (
          <Button
            key={num}
            variant="outline"
            size="lg"
            className="h-16 text-2xl font-bold"
            onClick={() => handlePinInput(num)}
          >
            {num}
          </Button>
        ))}
        
        <Button
          variant="ghost"
          size="lg"
          className="h-16"
          onClick={clearPin}
        >
          <X className="h-6 w-6" />
        </Button>
        
        <Button
          variant="outline"
          size="lg"
          className="h-16 text-2xl font-bold"
          onClick={() => handlePinInput(0)}
        >
          0
        </Button>
        
        <Button
          variant="ghost"
          size="lg"
          className="h-16"
          onClick={backspace}
        >
          <Delete className="h-6 w-6" />
        </Button>
      </div>
      
      {error && (
        <Alert variant="destructive" className="mt-4">
          <AlertCircle className="h-4 w-4" />
          <AlertDescription>{error}</AlertDescription>
        </Alert>
      )}
      
      <Separator className="my-6" />
      
      <Button
        variant="link"
        className="w-full"
        onClick={() => setShowEmailLogin(true)}
      >
        –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ email –∏ –ø–∞—Ä–æ–ª—å
      </Button>
    </CardContent>
  </Card>
</div>
```

**–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞:**

- Session —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å timeout 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
- Cashier –≤–∏–¥–∏—Ç —Å–≤–æ—é —Ñ–æ—Ç–∫—É –∏ –∏–º—è –≤ header
- –ö–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" (–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout)

***

### **3Ô∏è‚É£ Cashier Permissions - —á—Ç–æ Cashier –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier - —ç—Ç–æ —Å–∞–º–∞—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ä–æ–ª—å. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–∞—Å—Å–µ —Å –≥–æ—Å—Ç—è–º–∏.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã Cashier'—É?

**A)** –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞ –≥–æ—Å—Ç—è (read-only)
**B)** –ü—Ä–æ—Å–º–æ—Ç—Ä + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø–æ —á–µ–∫—É
**C)** –í—Å—ë —á—Ç–æ –º–æ–∂–µ—Ç Manager (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Guests)
**D)** Custom permissions (Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ Cashier'–∞)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ü—Ä–æ—Å–º–æ—Ç—Ä + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É + –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç–µ–π**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Cashier –ú–û–ñ–ï–¢:**

- ‚úÖ –ò—Å–∫–∞—Ç—å –≥–æ—Å—Ç—è (–ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, –∫–∞—Ä—Ç–µ, –∏–º–µ–Ω–∏)
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å –≥–æ—Å—Ç—è (Regular + Promo balls)
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –≥–æ—Å—Ç—è (Bronze, Silver, Gold)
- ‚úÖ –ù–∞—á–∏—Å–ª—è—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç: —Å—É–º–º–∞ —á–µ–∫–∞ √ó earn rate)
- ‚úÖ –°–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º: 500 –±–∞–ª–ª–æ–≤ = 500‚ÇΩ —Å–∫–∏–¥–∫–∞)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è (–±—ã—Å—Ç—Ä–∞—è —Ñ–æ—Ä–º–∞: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –î–†)
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≥–æ—Å—Ç—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5)
- ‚úÖ –°–º–µ–Ω–∏—Ç—å —Å–≤–æ–π PIN-–∫–æ–¥

**Cashier –ù–ï –ú–û–ñ–ï–¢:**

- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≥–æ—Å—Ç—è (–∏–º—è, email, –¥–µ—Ç–∏) - —Ç–æ–ª—å–∫–æ Manager/Admin
- ‚ùå –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤ (arbitrary adjustment –±–µ–∑ —á–µ–∫–∞) - —Ç–æ–ª—å–∫–æ Manager/Admin
- ‚ùå –£–¥–∞–ª—è—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç–µ–π
- ‚ùå –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚ùå –í–∏–¥–µ—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏
- ‚ùå –ú–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ loyalty
- ‚ùå –í–∏–¥–µ—Ç—å Activity Log

**–¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**

```
–î–µ–π—Å—Ç–≤–∏–µ                    Admin  Manager  Cashier
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ü–æ–∏—Å–∫ –≥–æ—Å—Ç—è                 ‚úì      ‚úì        ‚úì
–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞            ‚úì      ‚úì        ‚úì
–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ —á–µ–∫—É          ‚úì      ‚úì        ‚úì
–°–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É            ‚úì      ‚úì        ‚úì
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è           ‚úì      ‚úì        ‚úì
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è      ‚úì      ‚úì        ‚úï
–†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞        ‚úì      ‚úì*       ‚úï
–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏     ‚úì      ‚úì        ‚úï
Analytics                   ‚úì      ‚úì        ‚úï
Loyalty Builder             ‚úì      ‚úì*       ‚úï
Export                      ‚úì      ‚úì*       ‚úï

* = —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ / permission-based
```


***

## **üîç 2. MAIN SCREEN (SEARCH \& QUICK ACTIONS)**

### **4Ô∏è‚É£ Main Screen Layout - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Cashier'—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/cashier` –ø–æ—Å–ª–µ login. –≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π —Ä–∞–±–æ—á–∏–π —ç–∫—Ä–∞–Ω.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π layout –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A)** Search bar –ø–æ —Ü–µ–Ω—Ç—Ä—É + —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–æ—Å—Ç–µ–π
**B)** Split screen: –ø–æ–∏—Å–∫ —Å–ª–µ–≤–∞, –∏–Ω—Ñ–æ —Å–ø—Ä–∞–≤–∞
**C)** Dashboard —Å KPI (–∫–∞–∫ —É Admin, –Ω–æ —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)
**D)** –ü—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω —Å –æ–¥–Ω–∏–º –ø–æ–∏—Å–∫–æ–º (minimalist)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Search bar –ø–æ —Ü–µ–Ω—Ç—Ä—É + Recent Guests + Quick Stats**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Focus on search** - –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∫–∞—Å—Å–∏—Ä–∞ = –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è ‚Üí Search bar –∫—Ä—É–ø–Ω—ã–π, –ø–æ —Ü–µ–Ω—Ç—Ä—É, –∞–≤—Ç–æ—Ñ–æ–∫—É—Å
- ‚úÖ **Recent Guests** - —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –≥–æ—Å—Ç–µ–π (–∫–∞—Å—Å–∏—Ä —á–∞—Å—Ç–æ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)
- ‚úÖ **Quick Stats** - 3 –º–µ—Ç—Ä–∏–∫–∏ –≤–≤–µ—Ä—Ö—É (–ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ) –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ **Quick Actions** - 2 –∫–Ω–æ–ø–∫–∏: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è" –∏ "–ü–æ–º–æ—â—å"

**UI Main Screen:**

```tsx
<div className="flex flex-col h-screen bg-background">
  {/* Header */}
  <header className="border-b px-6 py-4 flex items-center justify-between">
    <div className="flex items-center gap-3">
      <img src="/logo.svg" alt="Max Loyalty" className="h-8" />
      <div>
        <div className="text-sm text-secondary">–ö–∞—Å—Å–∞</div>
        <div className="font-semibold">{restaurant.name}</div>
      </div>
    </div>
    
    {/* Cashier Info */}
    <div className="flex items-center gap-4">
      {/* Quick Stats */}
      <div className="flex gap-6 text-sm">
        <div>
          <div className="text-secondary">–ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è</div>
          <div className="text-xl font-bold">{stats.guestsToday}</div>
        </div>
        <div>
          <div className="text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</div>
          <div className="text-xl font-bold">{stats.transactionsToday}</div>
        </div>
        <div>
          <div className="text-secondary">–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ</div>
          <div className="text-xl font-bold">{stats.ballsEarnedToday}</div>
        </div>
      </div>
      
      <Separator orientation="vertical" className="h-12" />
      
      {/* Cashier Profile */}
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <Button variant="ghost" className="gap-2">
            <Avatar>
              <AvatarImage src={cashier.avatar} />
              <AvatarFallback>{getInitials(cashier.firstName, cashier.lastName)}</AvatarFallback>
            </Avatar>
            <div className="text-left">
              <div className="text-sm font-medium">{cashier.firstName}</div>
              <Badge variant="outline" className="text-xs">–ö–∞—Å—Å–∏—Ä</Badge>
            </div>
          </Button>
        </DropdownMenuTrigger>
        
        <DropdownMenuContent align="end">
          <DropdownMenuItem onClick={changePin}>
            <Key className="mr-2 h-4 w-4" />
            –°–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥
          </DropdownMenuItem>
          <DropdownMenuItem onClick={viewHelp}>
            <HelpCircle className="mr-2 h-4 w-4" />
            –ü–æ–º–æ—â—å
          </DropdownMenuItem>
          <DropdownMenuSeparator />
          <DropdownMenuItem onClick={logout}>
            <LogOut className="mr-2 h-4 w-4" />
            –í—ã–π—Ç–∏
          </DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenu>
    </div>
  </header>
  
  {/* Main Content */}
  <main className="flex-1 overflow-auto">
    <div className="max-w-4xl mx-auto px-6 py-12">
      {/* Search Section */}
      <div className="text-center mb-12">
        <h1 className="text-4xl font-bold mb-3">–ù–∞–π—Ç–∏ –≥–æ—Å—Ç—è</h1>
        <p className="text-secondary text-lg">
          –í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω, –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –∏–ª–∏ –∏–º—è
        </p>
      </div>
      
      {/* Search Input */}
      <div className="relative mb-8">
        <Search className="absolute left-6 top-1/2 -translate-y-1/2 h-6 w-6 text-secondary" />
        <Input
          ref={searchInputRef}
          placeholder="–¢–µ–ª–µ—Ñ–æ–Ω, –∫–∞—Ä—Ç–∞ –∏–ª–∏ –∏–º—è..."
          className="h-20 pl-16 pr-6 text-2xl rounded-2xl border-2"
          value={searchQuery}
          onChange={handleSearch}
          onKeyDown={handleKeyDown}
        />
        
        {/* Search Results Dropdown */}
        {searchResults.length > 0 && (
          <Card className="absolute top-full mt-2 w-full max-h-[400px] overflow-auto z-50">
            <CardContent className="p-0">
              {searchResults.map((guest) => (
                <button
                  key={guest.id}
                  className="w-full p-4 flex items-center gap-4 hover:bg-card-hover transition border-b last:border-0"
                  onClick={() => selectGuest(guest)}
                >
                  <Avatar className="h-12 w-12">
                    <AvatarFallback className="text-lg">
                      {getInitials(guest.firstName, guest.lastName)}
                    </AvatarFallback>
                  </Avatar>
                  
                  <div className="flex-1 text-left">
                    <div className="font-semibold text-lg">
                      {guest.firstName} {guest.lastName}
                    </div>
                    <div className="text-secondary">{formatPhone(guest.phone)}</div>
                  </div>
                  
                  <div className="text-right">
                    <Badge>{LEVEL_ICONS[guest.level]} {guest.level}</Badge>
                    <div className="text-lg font-bold mt-1">
                      {guest.ballBalance} –±–∞–ª–ª–æ–≤
                    </div>
                  </div>
                  
                  <ChevronRight className="h-6 w-6 text-secondary" />
                </button>
              ))}
            </CardContent>
          </Card>
        )}
        
        {/* No Results */}
        {searchQuery.length >= 3 && searchResults.length === 0 && (
          <Card className="absolute top-full mt-2 w-full">
            <CardContent className="p-8 text-center">
              <UserX className="h-12 w-12 mx-auto mb-3 text-secondary" />
              <p className="text-lg font-semibold mb-2">–ì–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>
              <p className="text-secondary mb-4">
                –ü–æ –∑–∞–ø—Ä–æ—Å—É "{searchQuery}" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≥–æ—Å—Ç–µ–π
              </p>
              <Button onClick={openRegisterGuest}>
                <UserPlus className="mr-2 h-5 w-5" />
                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è
              </Button>
            </CardContent>
          </Card>
        )}
      </div>
      
      {/* Quick Actions */}
      <div className="flex gap-4 justify-center mb-12">
        <Button size="lg" onClick={openRegisterGuest}>
          <UserPlus className="mr-2 h-5 w-5" />
          –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è
        </Button>
        
        <Button variant="outline" size="lg" onClick={openHelp}>
          <HelpCircle className="mr-2 h-5 w-5" />
          –ü–æ–º–æ—â—å
        </Button>
      </div>
      
      {/* Recent Guests */}
      {recentGuests.length > 0 && (
        <div>
          <h2 className="text-xl font-semibold mb-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≥–æ—Å—Ç–∏</h2>
          <div className="grid grid-cols-2 gap-4">
            {recentGuests.map((guest) => (
              <Card
                key={guest.id}
                className="cursor-pointer hover:border-primary transition"
                onClick={() => selectGuest(guest)}
              >
                <CardContent className="p-4 flex items-center gap-3">
                  <Avatar className="h-10 w-10">
                    <AvatarFallback>
                      {getInitials(guest.firstName, guest.lastName)}
                    </AvatarFallback>
                  </Avatar>
                  
                  <div className="flex-1">
                    <div className="font-medium">
                      {guest.firstName} {guest.lastName}
                    </div>
                    <div className="text-sm text-secondary">
                      {formatPhone(guest.phone)}
                    </div>
                  </div>
                  
                  <div className="text-right">
                    <Badge variant="outline">{LEVEL_ICONS[guest.level]}</Badge>
                    <div className="text-sm font-semibold mt-1">
                      {guest.ballBalance} –±.
                    </div>
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      )}
    </div>
  </main>
</div>
```


***

### **5Ô∏è‚É£ Guest Search - –∫–∞–∫ –∏—Å–∫–∞—Ç—å –±—ã—Å—Ç—Ä–æ –Ω–∞ –∫–∞—Å—Å–µ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –≤–≤–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å –≤ search bar. –ù—É–∂–Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è (–≥–æ—Å—Ç—å —Å—Ç–æ–∏—Ç —É –∫–∞—Å—Å—ã, –∂–¥—ë—Ç).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —Ç–∏–ø –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A)** Search as you type (–∫–∞–∂–¥–∞—è –±—É–∫–≤–∞ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ API)
**B)** Debounced search (300ms –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º)
**C)** Enter to search (–≤–≤—ë–ª –∑–∞–ø—Ä–æ—Å ‚Üí –Ω–∞–∂–∞–ª Enter)
**D)** Barcode scanner (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ –∫–∞—Ä—Ç—ã)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Debounced search (200ms) + D) Barcode scanner support**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Debounced 200ms** - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –Ω–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ API (–∫–∞—Å—Å–∏—Ä –ø–µ—á–∞—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ, –Ω–µ –Ω—É–∂–µ–Ω –∑–∞–ø—Ä–æ—Å –Ω–∞ –∫–∞–∂–¥—É—é –±—É–∫–≤—É)
- ‚úÖ **Min 3 chars** - –ø–æ–∏—Å–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 3 —Å–∏–º–≤–æ–ª–æ–≤ (–∏–∑–±–µ–≥–∞–µ–º —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- ‚úÖ **Barcode scanner** - –µ—Å–ª–∏ –≤–≤–µ–¥—ë–Ω QR-–∫–æ–¥ –∫–∞—Ä—Ç—ã (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `MLTY-`) ‚Üí direct lookup –ø–æ cardCode
- ‚úÖ **Phone normalization** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞: `8 999 123-45-67` ‚Üí `+79991234567`
- ‚úÖ **Fuzzy search** - –Ω–∞—Ö–æ–¥–∏—Ç —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ (–ò–≤–∞–Ω ‚Üí –ò–≤–Ω, Ivan)

**Search Logic:**

```typescript
const handleSearch = useDebouncedCallback(async (query: string) => {
  if (query.length < 3) {
    setSearchResults([]);
    return;
  }
  
  setIsSearching(true);
  
  try {
    // Check if QR code
    if (query.startsWith('MLTY-')) {
      const guest = await api.guests.findByCard(query);
      if (guest) {
        selectGuest(guest);
        return;
      }
    }
    
    // Normalize phone
    const normalizedPhone = normalizePhone(query);
    
    // Search
    const results = await api.guests.search({
      query: normalizedPhone || query,
      limit: 10
    });
    
    setSearchResults(results);
  } catch (error) {
    toast.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞');
  } finally {
    setIsSearching(false);
  }
}, 200);
```

**Barcode Scanner Integration:**

```typescript
useEffect(() => {
  // Listen for barcode scanner input
  let buffer = '';
  let timeout: NodeJS.Timeout;
  
  const handleKeyPress = (e: KeyboardEvent) => {
    // Barcode scanner types fast (< 50ms between chars)
    clearTimeout(timeout);
    
    if (e.key === 'Enter') {
      if (buffer.startsWith('MLTY-')) {
        handleBarcodeScanned(buffer);
      }
      buffer = '';
    } else {
      buffer += e.key;
      
      timeout = setTimeout(() => {
        buffer = ''; // Clear if typing is slow (human)
      }, 100);
    }
  };
  
  window.addEventListener('keypress', handleKeyPress);
  return () => window.removeEventListener('keypress', handleKeyPress);
}, []);

const handleBarcodeScanned = async (cardCode: string) => {
  const guest = await api.guests.findByCard(cardCode);
  if (guest) {
    selectGuest(guest);
  } else {
    toast.error('–ö–∞—Ä—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
  }
};
```


***

### **6Ô∏è‚É£ Search Results - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –≤–≤—ë–ª "–ò–≤–∞–Ω" ‚Üí –Ω–∞—à–ª–æ—Å—å 5 –≥–æ—Å—Ç–µ–π. –ö–∞–∫ –∏—Ö –ø–æ–∫–∞–∑–∞—Ç—å?

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤?

**A)** Dropdown —Å–ø–∏—Å–æ–∫ –ø–æ–¥ search bar
**B)** Modal —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º
**C)** Grid cards –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
**D)** Table —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) Dropdown —Å–ø–∏—Å–æ–∫ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Instant access** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ–¥ search bar (–Ω–µ –Ω—É–∂–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç—å)
- ‚úÖ **Focus retention** - search bar –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Ñ–æ–∫—É—Å–µ, –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
- ‚úÖ **One click** - –∫–ª–∏–∫ –Ω–∞ –≥–æ—Å—Ç—è ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guest Quick View
- ‚úÖ **Compact** - –ø–æ–º–µ—â–∞–µ—Ç—Å—è 5-7 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω (–µ—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí scroll)
- ‚úÖ **Visual** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å (–≤—Å—è –Ω—É–∂–Ω–∞—è –∏–Ω—Ñ–æ)

**Search Result Item:**

```tsx
<button
  className="w-full p-4 flex items-center gap-4 hover:bg-card-hover transition border-b"
  onClick={() => selectGuest(guest)}
>
  <Avatar className="h-12 w-12">
    <AvatarFallback className="text-lg">
      {getInitials(guest.firstName, guest.lastName)}
    </AvatarFallback>
  </Avatar>
  
  <div className="flex-1 text-left">
    <div className="font-semibold text-lg">
      {guest.firstName} {guest.lastName}
    </div>
    <div className="text-secondary">
      {formatPhone(guest.phone)}
    </div>
    {guest.email && (
      <div className="text-xs text-secondary">{guest.email}</div>
    )}
  </div>
  
  <div className="text-right">
    <Badge className="mb-1">
      {LEVEL_ICONS[guest.level]} {guest.level}
    </Badge>
    <div className="text-lg font-bold">
      {guest.ballBalance} –±–∞–ª–ª–æ–≤
    </div>
    {guest.promoBallBalance > 0 && (
      <div className="text-sm text-secondary">
        + {guest.promoBallBalance} –ø—Ä–æ–º–æ
      </div>
    )}
  </div>
  
  <ChevronRight className="h-6 w-6 text-secondary" />
</button>
```


***

## **üë§ 3. GUEST QUICK VIEW**

### **7Ô∏è‚É£ Guest Quick View - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Cashier'—É –æ –≥–æ—Å—Ç–µ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –Ω–∞—à—ë–ª –≥–æ—Å—Ç—è ‚Üí –∫–ª–∏–∫ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Guest Quick View. –≠—Ç–æ —ç–∫—Ä–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–µ–∫–æ–º.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?

**A)** –¢–æ–ª—å–∫–æ –±–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ)
**B)** –ë–∞–ª–∞–Ω—Å + —É—Ä–æ–≤–µ–Ω—å + –∫—Ä–∞—Ç–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è (5 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
**C)** –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–∫–∞–∫ —É Manager) —Å —Ç–∞–±–∞–º–∏
**D)** Split screen: –∏–Ω—Ñ–æ —Å–ª–µ–≤–∞, —Ñ–æ—Ä–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è —Å–ø—Ä–∞–≤–∞

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) Split screen (–∏–Ω—Ñ–æ —Å–ª–µ–≤–∞, actions —Å–ø—Ä–∞–≤–∞) + Bottom action bar**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Left Panel: Guest Info** - –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å (Regular + Promo), –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ **Right Panel: Check Actions** - 2 –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏: "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã" –∏ "–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã"
- ‚úÖ **Bottom Bar: Quick Actions** - "–ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É", "–ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏", "–ü–æ–∑–≤–∞—Ç—å Manager'–∞"
- ‚úÖ **No tabs** - –≤—Å—ë –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è)
- ‚úÖ **Large touch targets** - –∫–Ω–æ–ø–∫–∏ –±–æ–ª—å—à–∏–µ –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞

**UI Guest Quick View:**

```tsx
<div className="flex h-screen bg-background">
  {/* Left Panel: Guest Info */}
  <div className="w-1/2 border-r p-8 overflow-auto">
    <Button
      variant="ghost"
      className="mb-6"
      onClick={() => router.push('/cashier')}
    >
      <ArrowLeft className="mr-2 h-5 w-5" />
      –ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É
    </Button>
    
    {/* Guest Header */}
    <div className="flex items-start gap-6 mb-8">
      <Avatar className="h-24 w-24">
        <AvatarImage src={guest.avatar} />
        <AvatarFallback className="text-3xl">
          {getInitials(guest.firstName, guest.lastName)}
        </AvatarFallback>
      </Avatar>
      
      <div className="flex-1">
        <h1 className="text-3xl font-bold mb-2">
          {guest.firstName} {guest.lastName}
        </h1>
        <div className="flex items-center gap-3 text-secondary mb-3">
          <Phone className="h-4 w-4" />
          <span className="text-lg">{formatPhone(guest.phone)}</span>
        </div>
        {guest.email && (
          <div className="flex items-center gap-3 text-secondary">
            <Mail className="h-4 w-4" />
            <span>{guest.email}</span>
          </div>
        )}
      </div>
    </div>
    
    {/* Loyalty Level */}
    <Card className="mb-6">
      <CardContent className="p-6">
        <div className="flex items-center justify-between mb-4">
          <div>
            <div className="text-sm text-secondary mb-1">–£—Ä–æ–≤–µ–Ω—å –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</div>
            <div className="text-2xl font-bold flex items-center gap-2">
              <span className="text-3xl">{LEVEL_ICONS[guest.level]}</span>
              <span>{guest.level}</span>
            </div>
          </div>
          <Badge variant="outline" className="text-lg px-4 py-2">
            +{guest.earnBonus}% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é
          </Badge>
        </div>
        
        <div className="text-sm text-secondary">
          –ü–æ—Ç—Ä–∞—á–µ–Ω–æ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è: <span className="font-semibold text-foreground">
            {formatCurrency(guest.lifetimeSpent)}
          </span>
        </div>
      </CardContent>
    </Card>
    
    {/* Ball Balance */}
    <Card className="mb-6">
      <CardContent className="p-6">
        <div className="text-sm text-secondary mb-2">–ë–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤</div>
        
        <div className="flex items-baseline gap-3 mb-4">
          <div className="text-5xl font-bold">
            {guest.ballBalance}
          </div>
          <div className="text-2xl text-secondary">–±–∞–ª–ª–æ–≤</div>
        </div>
        
        {guest.promoBallBalance > 0 && (
          <div className="flex items-center gap-2 text-warning">
            <Gift className="h-4 w-4" />
            <span className="text-sm">
              + {guest.promoBallBalance} –ø—Ä–æ–º–æ-–±–∞–ª–ª–æ–≤
            </span>
          </div>
        )}
        
        <Separator className="my-4" />
        
        <div className="text-sm text-secondary">
          –ú–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å –¥–æ <span className="font-semibold text-foreground text-base">
            {formatCurrency(guest.ballBalance)}
          </span> —Å–∫–∏–¥–∫–∏
        </div>
      </CardContent>
    </Card>
    
    {/* Recent Transactions */}
    <div>
      <h3 className="text-lg font-semibold mb-3">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
      
      {guest.recentTransactions.length === 0 ? (
        <Card>
          <CardContent className="p-8 text-center text-secondary">
            <History className="h-8 w-8 mx-auto mb-2 opacity-50" />
            <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p>
          </CardContent>
        </Card>
      ) : (
        <div className="space-y-2">
          {guest.recentTransactions.slice(0, 3).map((tx) => (
            <Card key={tx.id}>
              <CardContent className="p-4 flex items-center justify-between">
                <div className="flex items-center gap-3">
                  {tx.type === 'EARN' ? (
                    <div className="h-10 w-10 rounded-full bg-success/10 flex items-center justify-center">
                      <Plus className="h-5 w-5 text-success" />
                    </div>
                  ) : (
                    <div className="h-10 w-10 rounded-full bg-danger/10 flex items-center justify-center">
                      <Minus className="h-5 w-5 text-danger" />
                    </div>
                  )}
                  
                  <div>
                    <div className="font-medium">
                      {tx.type === 'EARN' ? '–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ' : '–°–ø–∏—Å–∞–Ω–∏–µ'}
                    </div>
                    <div className="text-sm text-secondary">
                      {formatRelative(tx.createdAt)}
                    </div>
                  </div>
                </div>
                
                <div className="text-right">
                  <div className={cn(
                    "text-xl font-bold",
                    tx.type === 'EARN' ? "text-success" : "text-danger"
                  )}>
                    {tx.type === 'EARN' ? '+' : '‚àí'}{tx.amount}
                  </div>
                  {tx.checkAmount && (
                    <div className="text-sm text-secondary">
                      –ß–µ–∫: {formatCurrency(tx.checkAmount)}
                    </div>
                  )}
                </div>
              </CardContent>
            </Card>
          ))}
        </div>
      )}
    </div>
  </div>
  
  {/* Right Panel: Actions */}
  <div className="w-1/2 p-8 flex flex-col">
    <div className="flex-1 flex flex-col items-center justify-center gap-6">
      <h2 className="text-3xl font-bold text-center mb-4">
        –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–∞
      </h2>
      
      {/* Earn Balls Button */}
      <Button
        size="lg"
        className="w-full max-w-md h-32 text-2xl"
        onClick={() => setShowEarnModal(true)}
      >
        <Plus className="mr-3 h-8 w-8" />
        –ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã
      </Button>
      
      {/* Redeem Balls Button */}
      <Button
        variant="outline"
        size="lg"
        className="w-full max-w-md h-32 text-2xl"
        onClick={() => setShowRedeemModal(true)}
        disabled={guest.ballBalance === 0}
      >
        <Minus className="mr-3 h-8 w-8" />
        –°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã
      </Button>
      
      {guest.ballBalance === 0 && (
        <p className="text-secondary text-center">
          –£ –≥–æ—Å—Ç—è –Ω–µ—Ç –±–∞–ª–ª–æ–≤ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è
        </p>
      )}
    </div>
    
    {/* Bottom Quick Actions */}
    <div className="flex gap-3">
      <Button
        variant="outline"
        className="flex-1"
        onClick={printLoyaltyCard}
      >
        <Printer className="mr-2 h-5 w-5" />
        –ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏
      </Button>
      
      <Button
        variant="outline"
        className="flex-1"
        onClick={callManager}
      >
        <UserCog className="mr-2 h-5 w-5" />
        –ü–æ–∑–≤–∞—Ç—å Manager'–∞
      </Button>
    </div>
  </div>
</div>
```


***

### **8Ô∏è‚É£ Earn Balls Modal - –∫–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∫–ª–∏–∫ "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Modal –¥–ª—è –≤–≤–æ–¥–∞ —Å—É–º–º—ã —á–µ–∫–∞.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**A)** –ü—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ (–ø–æ–ª–µ "–°—É–º–º–∞ —á–µ–∫–∞" + –∫–Ω–æ–ø–∫–∞ "–ù–∞—á–∏—Å–ª–∏—Ç—å")
**B)** Calculator UI (–∫–Ω–æ–ø–∫–∏ 0-9 –¥–ª—è –≤–≤–æ–¥–∞ —Å—É–º–º—ã –∫–∞–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä)
**C)** QR-–∫–æ–¥ (–≥–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è)
**D)** POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —á–µ–∫–∞)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Calculator UI + Real-time calculation preview**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Calculator UI** - –∫–∞—Å—Å–∏—Ä –±—ã—Å—Ç—Ä–æ –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É –Ω–∞ —Ç–∞—á-—ç–∫—Ä–∞–Ω–µ (–∫–∞–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏–ª–∏ –±–∞–Ω–∫–æ–º–∞—Ç)
- ‚úÖ **Real-time preview** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–∏—Ç—Å—è (—Å—É–º–º–∞ √ó earn rate √ó level bonus)
- ‚úÖ **Large buttons** - –∫–Ω–æ–ø–∫–∏ 0-9 –±–æ–ª—å—à–∏–µ (80px) –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞
- ‚úÖ **Clear validation** - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —á–µ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100‚ÇΩ)
- ‚úÖ **Confirmation** - –∏—Ç–æ–≥–æ–≤—ã–π —ç–∫—Ä–∞–Ω "–ù–∞—á–∏—Å–ª–µ–Ω–æ X –±–∞–ª–ª–æ–≤"

**UI Earn Balls Modal:**

```tsx
<Dialog open={showEarnModal} onOpenChange={setShowEarnModal}>
  <DialogContent className="max-w-2xl">
    <DialogHeader>
      <DialogTitle className="text-2xl">–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤</DialogTitle>
      <DialogDescription>
        {guest.firstName} {guest.lastName} ‚Ä¢ {LEVEL_ICONS[guest.level]} {guest.level}
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-6">
      {/* Check Amount Display */}
      <div className="bg-muted rounded-xl p-6 text-center">
        <div className="text-sm text-secondary mb-2">–°—É–º–º–∞ —á–µ–∫–∞</div>
        <div className="text-5xl font-bold mb-4">
          {checkAmount === 0 ? '0' : formatCurrency(checkAmount)}
        </div>
        
        {checkAmount > 0 && (
          <div className="flex items-center justify-center gap-2 text-success">
            <ArrowRight className="h-5 w-5" />
            <span className="text-2xl font-bold">
              +{calculateEarnedBalls(checkAmount, guest)} –±–∞–ª–ª–æ–≤
            </span>
          </div>
        )}
      </div>
      
      {/* Calculator Numpad */}
      <div className="grid grid-cols-3 gap-3">
        {[1, 2, 3, 4, 5, 6, 7, 8, 9].map((num) => (
          <Button
            key={num}
            variant="outline"
            size="lg"
            className="h-20 text-3xl font-bold"
            onClick={() => handleNumpadInput(num)}
          >
            {num}
          </Button>
        ))}
        
        <Button
          variant="outline"
          size="lg"
          className="h-20 text-2xl"
          onClick={handleClear}
        >
          C
        </Button>
        
        <Button
          variant="outline"
          size="lg"
          className="h-20 text-3xl font-bold"
          onClick={() => handleNumpadInput(0)}
        >
          0
        </Button>
        
        <Button
          variant="outline"
          size="lg"
          className="h-20"
          onClick={handleBackspace}
        >
          <Delete className="h-6 w-6" />
        </Button>
      </div>
      
      {/* Calculation Breakdown */}
      {checkAmount > 0 && (
        <Card>
          <CardContent className="p-4">
            <div className="text-sm space-y-2">
              <div className="flex justify-between">
                <span className="text-secondary">–°—É–º–º–∞ —á–µ–∫–∞:</span>
                <span className="font-medium">{formatCurrency(checkAmount)}</span>
              </div>
              <div className="flex justify-between">
                <span className="text-secondary">–ë–∞–∑–æ–≤–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ ({loyaltySettings.earnPercent}%):</span>
                <span className="font-medium">+{Math.floor(checkAmount * loyaltySettings.earnPercent / 100)} –±.</span>
              </div>
              {guest.earnBonus > 0 && (
                <div className="flex justify-between">
                  <span className="text-secondary">–ë–æ–Ω—É—Å —É—Ä–æ–≤–Ω—è ({guest.earnBonus}%):</span>
                  <span className="font-medium text-success">
                    +{Math.floor(checkAmount * guest.earnBonus / 100)} –±.
                  </span>
                </div>
              )}
              <Separator />
              <div className="flex justify-between text-lg font-bold">
                <span>–ò—Ç–æ–≥–æ –Ω–∞—á–∏—Å–ª–∏—Ç—Å—è:</span>
                <span className="text-success">
                  +{calculateEarnedBalls(checkAmount, guest)} –±–∞–ª–ª–æ–≤
                </span>
              </div>
            </div>
          </CardContent>
        </Card>
      )}
      
      {/* Validation Error */}
      {checkAmount > 0 && checkAmount < loyaltySettings.minCheckAmount && (
        <Alert variant="destructive">
          <AlertTriangle className="h-4 w-4" />
          <AlertDescription>
            –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —á–µ–∫–∞ –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è: {formatCurrency(loyaltySettings.minCheckAmount)}
          </AlertDescription>
        </Alert>
      )}
    </div>
    
    <DialogFooter>
      <Button
        variant="outline"
        size="lg"
        onClick={() => setShowEarnModal(false)}
      >
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button
        size="lg"
        onClick={handleEarnConfirm}
        disabled={checkAmount < loyaltySettings.minCheckAmount}
      >
        <Check className="mr-2 h-5 w-5" />
        –ù–∞—á–∏—Å–ª–∏—Ç—å {calculateEarnedBalls(checkAmount, guest)} –±–∞–ª–ª–æ–≤
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Calculation Logic:**

```typescript
function calculateEarnedBalls(checkAmount: number, guest: Guest): number {
  // Base earn (e.g., 10% = 2000‚ÇΩ ‚Üí 200 balls)
  const baseEarn = Math.floor(checkAmount * (loyaltySettings.earnPercent / 100));
  
  // Level bonus (e.g., Gold +10% = 2000‚ÇΩ ‚Üí 20 balls)
  const levelBonus = Math.floor(checkAmount * (guest.earnBonus / 100));
  
  return baseEarn + levelBonus;
}
```


***

### **9Ô∏è‚É£ Redeem Balls Modal - –∫–∞–∫ —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∫–ª–∏–∫ "–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Modal –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–ª–ª–æ–≤.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∑–∞–¥–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è?

**A)** –°–≤–æ–±–æ–¥–Ω—ã–π –≤–≤–æ–¥ (–∫–∞—Å—Å–∏—Ä –≤–≤–æ–¥–∏—Ç –ª—é–±–æ–µ —á–∏—Å–ª–æ)
**B)** Slider (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –ø–æ–ª–∑—É–Ω–∫–∞ –æ—Ç 0 –¥–æ max)
**C)** Preset buttons (100, 500, 1000, –í—Å—ë) + Custom
**D)** Calculator UI (–∫–∞–∫ –≤ Earn Balls)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Preset buttons + D) Calculator UI + A) Custom input**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Preset buttons** - –±—ã—Å—Ç—Ä—ã–µ —Å—É–º–º—ã (100, 500, 1000, –í–µ—Å—å –±–∞–ª–∞–Ω—Å) –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- ‚úÖ **Calculator UI** - –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ—á–Ω–∞—è —Å—É–º–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 437 –±–∞–ª–ª–æ–≤)
- ‚úÖ **Max limit enforcement** - –Ω–µ –º–æ–∂–µ—Ç —Å–ø–∏—Å–∞—Ç—å –±–æ–ª—å—à–µ –±–∞–ª–∞–Ω—Å–∞ –∏–ª–∏ –±–æ–ª—å—à–µ redeem limit % –æ—Ç —á–µ–∫–∞
- ‚úÖ **Real-time discount preview** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ ‚ÇΩ —Å–∫–∏–¥–∫–∏ –ø–æ–ª—É—á–∏—Ç –≥–æ—Å—Ç—å

**UI Redeem Balls Modal:**

```tsx
<Dialog open={showRedeemModal} onOpenChange={setShowRedeemModal}>
  <DialogContent className="max-w-2xl">
    <DialogHeader>
      <DialogTitle className="text-2xl">–°–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤</DialogTitle>
      <DialogDescription>
        {guest.firstName} {guest.lastName} ‚Ä¢ –ë–∞–ª–∞–Ω—Å: {guest.ballBalance} –±–∞–ª–ª–æ–≤
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-6">
      {/* Redemption Amount Display */}
      <div className="bg-muted rounded-xl p-6 text-center">
        <div className="text-sm text-secondary mb-2">–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª–æ–≤</div>
        <div className="text-5xl font-bold mb-4 text-danger">
          {redeemAmount === 0 ? '0' : redeemAmount}
        </div>
        
        {redeemAmount > 0 && (
          <div className="flex items-center justify-center gap-2 text-success">
            <span className="text-2xl font-bold">
              = {formatCurrency(redeemAmount)} —Å–∫–∏–¥–∫–∞
            </span>
          </div>
        )}
      </div>
      
      {/* Preset Buttons */}
      <div className="grid grid-cols-4 gap-3">
        {[100, 500, 1000].map((amount) => (
          <Button
            key={amount}
            variant="outline"
            size="lg"
            className="h-16 text-xl"
            onClick={() => setRedeemAmount(Math.min(amount, guest.ballBalance))}
            disabled={guest.ballBalance < amount}
          >
            {amount}
          </Button>
        ))}
        
        <Button
          variant="outline"
          size="lg"
          className="h-16 text-xl"
          onClick={() => setRedeemAmount(guest.ballBalance)}
        >
          –í—Å—ë
        </Button>
      </div>
      
      {/* Calculator Numpad */}
      <div className="grid grid-cols-3 gap-3">
        {[1, 2, 3, 4, 5, 6, 7, 8, 9].map((num) => (
          <Button
            key={num}
            variant="outline"
            size="lg"
            className="h-20 text-3xl font-bold"
            onClick={() => handleRedeemNumpadInput(num)}
          >
            {num}
          </Button>
        ))}
        
        <Button
          variant="outline"
          size="lg"
          className="h-20 text-2xl"
          onClick={() => setRedeemAmount(0)}
        >
          C
        </Button>
        
        <Button
          variant="outline"
          size="lg"
          className="h-20 text-3xl font-bold"
          onClick={() => handleRedeemNumpadInput(0)}
        >
          0
        </Button>
        
        <Button
          variant="outline"
          size="lg"
          className="h-20"
          onClick={handleRedeemBackspace}
        >
          <Delete className="h-6 w-6" />
        </Button>
      </div>
      
      {/* Calculation Info */}
      {redeemAmount > 0 && (
        <Card>
          <CardContent className="p-4">
            <div className="text-sm space-y-2">
              <div className="flex justify-between">
                <span className="text-secondary">–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª–æ–≤:</span>
                <span className="font-medium text-danger">‚àí{redeemAmount}</span>
              </div>
              <div className="flex justify-between">
                <span className="text-secondary">–°–∫–∏–¥–∫–∞:</span>
                <span className="font-medium text-success">{formatCurrency(redeemAmount)}</span>
              </div>
              <Separator />
              <div className="flex justify-between text-lg font-bold">
                <span>–û—Å—Ç–∞–Ω–µ—Ç—Å—è –±–∞–ª–ª–æ–≤:</span>
                <span>{guest.ballBalance - redeemAmount}</span>
              </div>
            </div>
          </CardContent>
        </Card>
      )}
      
      {/* Validation Warnings */}
      {redeemAmount > guest.ballBalance && (
        <Alert variant="destructive">
          <AlertTriangle className="h-4 w-4" />
          <AlertDescription>
            –£ –≥–æ—Å—Ç—è —Ç–æ–ª—å–∫–æ {guest.ballBalance} –±–∞–ª–ª–æ–≤
          </AlertDescription>
        </Alert>
      )}
      
      {/* Check Amount Input (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ redeem limit) */}
      <div>
        <Label className="text-base mb-2">–°—É–º–º–∞ —á–µ–∫–∞ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è)</Label>
        <Input
          type="number"
          placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —á–µ–∫–∞..."
          value={checkAmountForRedeem || ''}
          onChange={(e) => setCheckAmountForRedeem(Number(e.target.value))}
          className="h-14 text-xl"
        />
        {checkAmountForRedeem && (
          <p className="text-sm text-secondary mt-2">
            –ú–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å –¥–æ {Math.floor(checkAmountForRedeem * loyaltySettings.redeemLimit / 100)} –±–∞–ª–ª–æ–≤ 
            ({loyaltySettings.redeemLimit}% –æ—Ç —á–µ–∫–∞)
          </p>
        )}
      </div>
      
      {checkAmountForRedeem && redeemAmount > Math.floor(checkAmountForRedeem * loyaltySettings.redeemLimit / 100) && (
        <Alert variant="destructive">
          <AlertTriangle className="h-4 w-4" />
          <AlertDescription>
            –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Å–ø–∏—Å–∞–Ω–∏—è ({loyaltySettings.redeemLimit}% –æ—Ç —á–µ–∫–∞). 
            –ú–∞–∫—Å–∏–º—É–º: {Math.floor(checkAmountForRedeem * loyaltySettings.redeemLimit / 100)} –±–∞–ª–ª–æ–≤
          </AlertDescription>
        </Alert>
      )}
    </div>
    
    <DialogFooter>
      <Button
        variant="outline"
        size="lg"
        onClick={() => setShowRedeemModal(false)}
      >
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button
        variant="destructive"
        size="lg"
        onClick={handleRedeemConfirm}
        disabled={
          redeemAmount === 0 ||
          redeemAmount > guest.ballBalance ||
          (checkAmountForRedeem && redeemAmount > Math.floor(checkAmountForRedeem * loyaltySettings.redeemLimit / 100))
        }
      >
        <Check className="mr-2 h-5 w-5" />
        –°–ø–∏—Å–∞—Ç—å {redeemAmount} –±–∞–ª–ª–æ–≤
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

### **üîü Transaction Confirmation - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—à–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –Ω–∞—á–∏—Å–ª–∏–ª/—Å–ø–∏—Å–∞–ª –±–∞–ª–ª—ã ‚Üí —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ ‚Üí –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π UI –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è?

**A)** Toast notification (3 —Å–µ–∫—É–Ω–¥—ã ‚Üí –∏—Å—á–µ–∑–∞–µ—Ç)
**B)** Success Modal —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
**C)** Receipt screen (–∫–∞–∫ —á–µ–∫) —Å –∫–Ω–æ–ø–∫–æ–π "–ü–µ—á–∞—Ç—å"
**D)** Redirect –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ Main Screen —Å toast

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Receipt screen + Auto-redirect —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ + –ö–Ω–æ–ø–∫–∞ "–ü–µ—á–∞—Ç—å —á–µ–∫–∞"**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Receipt screen** - –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —á–µ–∫ (–≥–æ—Å—Ç—å –ø—Ä–∏–≤—ã–∫ –≤–∏–¥–µ—Ç—å —á–µ–∫)
- ‚úÖ **All details** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: —á—Ç–æ —Å–¥–µ–ª–∞–ª–∏, —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤, –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤—Ä–µ–º—è, –∫–∞—Å—Å–∏—Ä
- ‚úÖ **Print button** - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —á–µ–∫ —Å –±–∞–ª–∞–Ω—Å–æ–º –¥–ª—è –≥–æ—Å—Ç—è
- ‚úÖ **Auto-redirect** - —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ Main Screen (–¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è)
- ‚úÖ **Manual control** - –∫–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ" –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞

**UI Transaction Receipt:**

```tsx
<div className="flex h-screen items-center justify-center bg-background">
  <Card className="w-[500px]">
    <CardContent className="p-8 text-center">
      {/* Success Icon */}
      <div className="h-24 w-24 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6">
        <CheckCircle2 className="h-12 w-12 text-success" />
      </div>
      
      {/* Title */}
      <h2 className="text-3xl font-bold mb-2">
        {transaction.type === 'EARN' ? '–ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã!' : '–ë–∞–ª–ª—ã —Å–ø–∏—Å–∞–Ω—ã!'}
      </h2>
      
      <p className="text-secondary mb-8">
        {guest.firstName} {guest.lastName}
      </p>
      
      {/* Transaction Amount */}
      <div className="bg-muted rounded-xl p-6 mb-6">
        <div className="text-sm text-secondary mb-2">
          {transaction.type === 'EARN' ? '–ù–∞—á–∏—Å–ª–µ–Ω–æ' : '–°–ø–∏—Å–∞–Ω–æ'}
        </div>
        <div className={cn(
          "text-6xl font-bold mb-4",
          transaction.type === 'EARN' ? "text-success" : "text-danger"
        )}>
          {transaction.type === 'EARN' ? '+' : '‚àí'}{transaction.amount}
        </div>
        <div className="text-2xl text-secondary">–±–∞–ª–ª–æ–≤</div>
      </div>
      
      {/* Details */}
      <div className="space-y-3 mb-6 text-left">
        {transaction.checkAmount && (
          <div className="flex justify-between text-lg">
            <span className="text-secondary">–°—É–º–º–∞ —á–µ–∫–∞:</span>
            <span className="font-semibold">{formatCurrency(transaction.checkAmount)}</span>
          </div>
        )}
        
        <Separator />
        
        <div className="flex justify-between text-lg">
          <span className="text-secondary">–ë–∞–ª–∞–Ω—Å –¥–æ:</span>
          <span className="font-semibold">{transaction.balanceBefore} –±.</span>
        </div>
        
        <div className="flex justify-between text-xl font-bold">
          <span>–ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ:</span>
          <span className="text-success">{transaction.balanceAfter} –±.</span>
        </div>
        
        <Separator />
        
        <div className="text-sm text-secondary text-center">
          <div>{formatDateTime(transaction.createdAt)}</div>
          <div>–ö–∞—Å—Å–∏—Ä: {cashier.firstName} {cashier.lastName}</div>
          <div className="font-mono">ID: {transaction.id}</div>
        </div>
      </div>
      
      {/* Actions */}
      <div className="flex gap-3">
        <Button
          variant="outline"
          size="lg"
          className="flex-1"
          onClick={printReceipt}
        >
          <Printer className="mr-2 h-5 w-5" />
          –ü–µ—á–∞—Ç—å —á–µ–∫–∞
        </Button>
        
        <Button
          size="lg"
          className="flex-1"
          onClick={() => router.push('/cashier')}
        >
          –ì–æ—Ç–æ–≤–æ
        </Button>
      </div>
      
      {/* Auto-redirect countdown */}
      <p className="text-sm text-secondary mt-4">
        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ {countdown} —Å–µ–∫.
      </p>
    </CardContent>
  </Card>
</div>
```

**Auto-redirect Logic:**

```typescript
useEffect(() => {
  if (countdown === 0) {
    router.push('/cashier');
  }
  
  const timer = setTimeout(() => {
    setCountdown(countdown - 1);
  }, 1000);
  
  return () => clearTimeout(timer);
}, [countdown]);
```


***

## **‚ûï 4. REGISTER GUEST**

### **1Ô∏è‚É£1Ô∏è‚É£ Register Guest Form - –∫–∞–∫–∏–µ –ø–æ–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω—É–∂–Ω—ã?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∫–ª–∏–∫ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è" ‚Üí –±—ã—Å—Ç—Ä–∞—è —Ñ–æ—Ä–º–∞ (–≥–æ—Å—Ç—å —Å—Ç–æ–∏—Ç —É –∫–∞—Å—Å—ã, –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –ø–æ–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å?

**A)** –¢–æ–ª—å–∫–æ —Ç–µ–ª–µ—Ñ–æ–Ω (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ)
**B)** –¢–µ–ª–µ—Ñ–æ–Ω + –ò–º—è
**C)** –¢–µ–ª–µ—Ñ–æ–Ω + –ò–º—è + –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
**D)** –ü–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ (–∫–∞–∫ —É Manager: —Ç–µ–ª–µ—Ñ–æ–Ω, –∏–º—è, email, –î–†, –¥–µ—Ç–∏)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) –¢–µ–ª–µ—Ñ–æ–Ω + –ò–º—è + –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (optional)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–¢–µ–ª–µ—Ñ–æ–Ω (required)** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚úÖ **–ò–º—è (required)** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–∫–∞—Å—Å–∏—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏)
- ‚úÖ **–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (optional)** - –¥–ª—è birthday promo, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
- ‚ùå **Email, –î–µ—Ç–∏, –ê–¥—Ä–µ—Å** - –ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –Ω–∞ –∫–∞—Å—Å–µ (—Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, –≥–æ—Å—Ç—å —Ç–æ—Ä–æ–ø–∏—Ç—Å—è)
- ‚úÖ **Auto-generate card** - QR-–∫–æ–¥ –∏ 6-digit –∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**UI Register Guest Modal:**

```tsx
<Dialog open={showRegisterModal} onOpenChange={setShowRegisterModal}>
  <DialogContent className="max-w-xl">
    <DialogHeader>
      <DialogTitle className="text-2xl">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è</DialogTitle>
      <DialogDescription>
        –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
      </DialogDescription>
    </DialogHeader>
    
    <form onSubmit={handleRegister} className="space-y-6">
      {/* Phone */}
      <div>
        <Label className="text-base">–¢–µ–ª–µ—Ñ–æ–Ω *</Label>
        <Input
          ref={phoneInputRef}
          type="tel"
          placeholder="+7 999 123-45-67"
          value={newGuest.phone}
          onChange={(e) => setNewGuest({ ...newGuest, phone: e.target.value })}
          className="h-14 text-xl"
          required
        />
        <p className="text-sm text-secondary mt-1">
          –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        </p>
      </div>
      
      {/* First Name */}
      <div>
        <Label className="text-base">–ò–º—è *</Label>
        <Input
          placeholder="–ò–≤–∞–Ω"
          value={newGuest.firstName}
          onChange={(e) => setNewGuest({ ...newGuest, firstName: e.target.value })}
          className="h-14 text-xl"
          required
        />
      </div>
      
      {/* Last Name */}
      <div>
        <Label className="text-base">–§–∞–º–∏–ª–∏—è</Label>
        <Input
          placeholder="–ò–≤–∞–Ω–æ–≤"
          value={newGuest.lastName}
          onChange={(e) => setNewGuest({ ...newGuest, lastName: e.target.value })}
          className="h-14 text-xl"
        />
        <p className="text-sm text-secondary mt-1">
          –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç–ª–∏—á–∏—Ç—å –≥–æ—Å—Ç–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
        </p>
      </div>
      
      {/* Birthday */}
      <div>
        <Label className="text-base">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</Label>
        <Input
          type="date"
          value={newGuest.birthday}
          onChange={(e) => setNewGuest({ ...newGuest, birthday: e.target.value })}
          className="h-14 text-xl"
        />
        <p className="text-sm text-secondary mt-1">
          –î–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è birthday bonus (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
        </p>
      </div>
      
      <Alert>
        <Info className="h-4 w-4" />
        <AlertDescription>
          –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≥–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç –∫–∞—Ä—Ç—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å QR-–∫–æ–¥–æ–º. 
          –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ.
        </AlertDescription>
      </Alert>
    </form>
    
    <DialogFooter>
      <Button
        variant="outline"
        size="lg"
        onClick={() => setShowRegisterModal(false)}
      >
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button
        size="lg"
        onClick={handleRegister}
      >
        <UserPlus className="mr-2 h-5 w-5" />
        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**

- Guest —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ë–î
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è GuestCard (QR-–∫–æ–¥, 6-digit display code)
- –ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å = Bronze (tier 1)
- –ë–∞–ª–∞–Ω—Å = 0 –±–∞–ª–ª–æ–≤
- Welcome promo –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- Redirect –Ω–∞ Guest Quick View ‚Üí –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ–∫

***

### **1Ô∏è‚É£2Ô∏è‚É£ Duplicate Phone Detection - —á—Ç–æ –µ—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –µ—Å—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–æ—Å—Ç—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º `+79991234567` ‚Üí –Ω–æ —ç—Ç–æ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –≤ –±–∞–∑–µ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç?

**A)** –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É "–¢–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
**B)** –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è
**C)** –ü–æ–∑–≤–æ–ª–∏—Ç—å —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ—Å—Ç–µ–π —Å –æ–¥–Ω–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º)
**D)** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ merge (–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ü–æ–∫–∞–∑–∞—Ç—å Alert —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Prevent duplicates** - –æ–¥–∏–Ω —Ç–µ–ª–µ—Ñ–æ–Ω = –æ–¥–∏–Ω –≥–æ—Å—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
- ‚úÖ **User-friendly** - –∫–∞—Å—Å–∏—Ä –≤–∏–¥–∏—Ç "–ì–æ—Å—Ç—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω" + –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ + –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å"
- ‚úÖ **Fast recovery** - –∫–∞—Å—Å–∏—Ä –Ω–µ —Ç–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è (–∫–ª–∏–∫ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Guest Quick View)

**UI Duplicate Detection:**

```tsx
// –í handleRegister()
const existingGuest = await api.guests.findByPhone(newGuest.phone);

if (existingGuest) {
  setDuplicateGuest(existingGuest);
  return;
}

// –ï—Å–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç –Ω–∞–π–¥–µ–Ω
{duplicateGuest && (
  <Alert variant="warning" className="mb-4">
    <AlertTriangle className="h-4 w-4" />
    <AlertDescription>
      <div className="font-semibold mb-2">–ì–æ—Å—Ç—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω</div>
      
      <Card className="mt-3">
        <CardContent className="p-3 flex items-center gap-3">
          <Avatar>
            <AvatarFallback>
              {getInitials(duplicateGuest.firstName, duplicateGuest.lastName)}
            </AvatarFallback>
          </Avatar>
          
          <div className="flex-1">
            <div className="font-medium">
              {duplicateGuest.firstName} {duplicateGuest.lastName}
            </div>
            <div className="text-sm text-secondary">
              {formatPhone(duplicateGuest.phone)}
            </div>
          </div>
          
          <Badge>{LEVEL_ICONS[duplicateGuest.level]}</Badge>
        </CardContent>
      </Card>
      
      <div className="flex gap-2 mt-3">
        <Button
          variant="outline"
          size="sm"
          onClick={() => setDuplicateGuest(null)}
        >
          –û—Ç–º–µ–Ω–∞
        </Button>
        <Button
          size="sm"
          onClick={() => {
            setShowRegisterModal(false);
            router.push(`/cashier/guest/${duplicateGuest.id}`);
          }}
        >
          –û—Ç–∫—Ä—ã—Ç—å –≥–æ—Å—Ç—è
        </Button>
      </div>
    </AlertDescription>
  </Alert>
)}
```


***

## **üñ®Ô∏è 5. PRINT \& RECEIPTS**

### **1Ô∏è‚É£3Ô∏è‚É£ Print Loyalty Card - –∫–∞–∫ –ø–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è –∏–ª–∏ –≥–æ—Å—Ç—å –ø–æ—Ç–µ—Ä—è–ª –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –Ω—É–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–µ—á–∞—Ç—å?

**A)** Browser print dialog (window.print())
**B)** Thermal printer integration (ESC/POS commands)
**C)** PDF generation ‚Üí —Å–∫–∞—á–∞—Ç—å ‚Üí –ø–µ—á–∞—Ç–∞—Ç—å
**D)** –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ email –≥–æ—Å—Ç—é (digital card)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Thermal printer (ESC/POS) + A) Fallback browser print**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Thermal printer** - –Ω–∞ –∫–∞—Å—Å–µ –æ–±—ã—á–Ω–æ –µ—Å—Ç—å —á–µ–∫–æ–≤—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä (80mm width)
- ‚úÖ **ESC/POS commands** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Ç–µ—Ä–º–æ–ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- ‚úÖ **Instant print** - –∫–ª–∏–∫ ‚Üí –ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ä–∞–∑—É (–±–µ–∑ –¥–∏–∞–ª–æ–≥–æ–≤)
- ‚úÖ **Fallback** - –µ—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω ‚Üí browser print dialog
- ‚úÖ **Card layout** - QR-–∫–æ–¥ + 6-digit –∫–æ–¥ + –∏–º—è –≥–æ—Å—Ç—è + –±–∞–ª–∞–Ω—Å

**Print Layout (Thermal 80mm):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      MAX LOYALTY               ‚îÇ
‚îÇ      –†–µ—Å—Ç–æ—Ä–∞–Ω "–ú–∞–∫—Å"           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                ‚îÇ
‚îÇ   [QR-–∫–æ–¥ 150x150px]           ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ        000123                  ‚îÇ
‚îÇ   (–ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É)           ‚îÇ
‚îÇ                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤                   ‚îÇ
‚îÇ  ü•á Gold                       ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å: 2,850 –±–∞–ª–ª–æ–≤          ‚îÇ
‚îÇ                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –¢–µ–ª–µ—Ñ–æ–Ω: +7 999 123-45-67     ‚îÇ
‚îÇ  maxloyalty.app                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Print Function:**

```typescript
async function printLoyaltyCard(guest: Guest) {
  try {
    // Try thermal printer first
    if (thermalPrinter.isConnected()) {
      await printToThermalPrinter(guest);
    } else {
      // Fallback to browser print
      printToBrowser(guest);
    }
  } catch (error) {
    toast.error('–û—à–∏–±–∫–∞ –ø–µ—á–∞—Ç–∏');
  }
}

async function printToThermalPrinter(guest: Guest) {
  const printer = new ThermalPrinter();
  
  // ESC/POS commands
  printer.alignCenter();
  printer.setTextSize(2, 2);
  printer.println(restaurant.name);
  printer.println('');
  
  // QR Code
  printer.printQRCode(guest.guestCard.qrCode, {
    size: 8,
    errorCorrection: 'M'
  });
  printer.println('');
  
  // Display Code
  printer.setTextSize(3, 3);
  printer.println(guest.guestCard.displayCode);
  printer.setTextSize(1, 1);
  printer.println('(–ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É)');
  printer.println('');
  
  // Guest Info
  printer.alignLeft();
  printer.setTextSize(2, 2);
  printer.println(`${guest.firstName} ${guest.lastName}`);
  printer.setTextSize(1, 1);
  printer.println(`${LEVEL_ICONS[guest.level]} ${guest.level}`);
  printer.println('');
  printer.println(`–ë–∞–ª–∞–Ω—Å: ${guest.ballBalance} –±–∞–ª–ª–æ–≤`);
  printer.println('');
  
  // Footer
  printer.alignCenter();
  printer.println(formatPhone(guest.phone));
  printer.println('maxloyalty.app');
  printer.println('');
  printer.println('');
  printer.cut();
  
  await printer.execute();
}

function printToBrowser(guest: Guest) {
  // Open print-friendly page
  const printWindow = window.open(`/cashier/print-card/${guest.id}`, '_blank');
  printWindow?.addEventListener('load', () => {
    printWindow.print();
  });
}
```

**Print-friendly Page (`/cashier/print-card/[id]`):**

```tsx
<div className="print-card">
  <style jsx>{`
    @media print {
      @page {
        size: 80mm auto;
        margin: 0;
      }
      body {
        margin: 0;
        padding: 10mm;
      }
    }
    .print-card {
      max-width: 80mm;
      text-align: center;
      font-family: monospace;
    }
  `}</style>
  
  <div className="text-center">
    <h1 className="text-2xl font-bold mb-2">{restaurant.name}</h1>
    <p className="text-sm mb-6">–ö–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</p>
    
    <QRCode
      value={guest.guestCard.qrCode}
      size={200}
      level="M"
      className="mx-auto mb-4"
    />
    
    <div className="text-4xl font-bold mb-2">
      {guest.guestCard.displayCode}
    </div>
    <p className="text-xs text-secondary mb-6">
      (–ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É)
    </p>
    
    <div className="text-left border-t pt-4">
      <p className="font-semibold text-lg">
        {guest.firstName} {guest.lastName}
      </p>
      <p className="text-sm">
        {LEVEL_ICONS[guest.level]} {guest.level}
      </p>
      <p className="text-sm">
        –ë–∞–ª–∞–Ω—Å: {guest.ballBalance} –±–∞–ª–ª–æ–≤
      </p>
    </div>
    
    <div className="border-t mt-4 pt-4 text-xs text-center">
      <p>{formatPhone(guest.phone)}</p>
      <p>maxloyalty.app</p>
    </div>
  </div>
</div>
```


***

### **1Ô∏è‚É£4Ô∏è‚É£ Print Transaction Receipt - –ø–µ—á–∞—Ç–∞—Ç—å –ª–∏ —á–µ–∫ –ø–æ—Å–ª–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ü–æ—Å–ª–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤ –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —á–µ–∫ —Å –±–∞–ª–∞–Ω—Å–æ–º.

**–í–æ–ø—Ä–æ—Å:**
–ù—É–∂–Ω–∞ –ª–∏ –ø–µ—á–∞—Ç—å —á–µ–∫–æ–≤?

**A)** –î–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
**B)** –î–∞, –Ω–æ optional (–∫–Ω–æ–ø–∫–∞ "–ü–µ—á–∞—Ç—å")
**C)** –ù–µ—Ç, —Ç–æ–ª—å–∫–æ digital (–ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ)
**D)** –î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –≥–æ—Å—Ç—è

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Optional –ø–µ—á–∞—Ç—å (–∫–Ω–æ–ø–∫–∞ "–ü–µ—á–∞—Ç—å —á–µ–∫–∞" –Ω–∞ Receipt screen)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Optional** - –Ω–µ –≤—Å–µ –≥–æ—Å—Ç–∏ —Ö–æ—Ç—è—Ç –±—É–º–∞–∂–Ω—ã–π —á–µ–∫ (—ç–∫–æ–ª–æ–≥–∏—è, –º–∏–Ω–∏–º–∞–ª–∏–∑–º)
- ‚úÖ **Fast** - –∫–∞—Å—Å–∏—Ä —Ä–µ—à–∞–µ—Ç: –Ω—É–∂–µ–Ω —á–µ–∫ –∏–ª–∏ –Ω–µ—Ç (–≥–æ—Å—Ç—å –ø–æ–ø—Ä–æ—Å–∏–ª = –ø–µ—á–∞—Ç–∞–µ–º)
- ‚úÖ **Thermal printer** - –±—ã—Å—Ç—Ä–∞—è –ø–µ—á–∞—Ç—å –Ω–∞ —á–µ–∫–æ–≤–æ–º –ø—Ä–∏–Ω—Ç–µ—Ä–µ
- ‚úÖ **Compact** - —á–µ–∫ –Ω–µ–±–æ–ª—å—à–æ–π (–¥–∞—Ç–∞, —Å—É–º–º–∞, –±–∞–ª–ª—ã, –±–∞–ª–∞–Ω—Å)

**Receipt Layout (Thermal 80mm):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      MAX LOYALTY               ‚îÇ
‚îÇ      –†–µ—Å—Ç–æ—Ä–∞–Ω "–ú–∞–∫—Å"           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ß–µ–∫ ‚Ññ123456                   ‚îÇ
‚îÇ  16.02.2026 14:35              ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –ì–æ—Å—Ç—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤            ‚îÇ
‚îÇ  –ö–∞—Ä—Ç–∞: 000123                 ‚îÇ
‚îÇ                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –°—É–º–º–∞ —á–µ–∫–∞:    2,000 ‚ÇΩ        ‚îÇ
‚îÇ  –ù–∞—á–∏—Å–ª–µ–Ω–æ:       +200 –±.      ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å –¥–æ:     2,650 –±.       ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ:  2,850 –±.       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ö–∞—Å—Å–∏—Ä: –ê–Ω–Ω–∞ –ü.               ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!           ‚îÇ
‚îÇ  maxloyalty.app                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Print Function:**

```typescript
async function printTransactionReceipt(transaction: Transaction) {
  const printer = new ThermalPrinter();
  
  printer.alignCenter();
  printer.setTextSize(2, 2);
  printer.println(restaurant.name);
  printer.setTextSize(1, 1);
  printer.println('');
  
  printer.alignLeft();
  printer.println(`–ß–µ–∫ ‚Ññ${transaction.id.slice(0, 8)}`);
  printer.println(formatDateTime(transaction.createdAt));
  printer.println('');
  printer.println(`–ì–æ—Å—Ç—å: ${guest.firstName} ${guest.lastName}`);
  printer.println(`–ö–∞—Ä—Ç–∞: ${guest.guestCard.displayCode}`);
  printer.println('');
  
  printer.drawLine();
  
  if (transaction.checkAmount) {
    printer.println(`–°—É–º–º–∞ —á–µ–∫–∞:    ${formatCurrency(transaction.checkAmount)}`);
  }
  
  if (transaction.type === 'EARN') {
    printer.println(`–ù–∞—á–∏—Å–ª–µ–Ω–æ:       +${transaction.amount} –±.`);
  } else {
    printer.println(`–°–ø–∏—Å–∞–Ω–æ:         -${transaction.amount} –±.`);
  }
  
  printer.println('');
  printer.println(`–ë–∞–ª–∞–Ω—Å –¥–æ:     ${transaction.balanceBefore} –±.`);
  printer.println(`–ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ:  ${transaction.balanceAfter} –±.`);
  
  printer.drawLine();
  
  printer.println(`–ö–∞—Å—Å–∏—Ä: ${cashier.firstName} ${cashier.lastName[^14_0]}.`);
  printer.println('');
  
  printer.alignCenter();
  printer.println('–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!');
  printer.println('maxloyalty.app');
  printer.println('');
  printer.println('');
  printer.cut();
  
  await printer.execute();
}
```


***

## **‚öôÔ∏è 6. SETTINGS \& HELP**

### **1Ô∏è‚É£5Ô∏è‚É£ Cashier Settings - —á—Ç–æ Cashier –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∫–ª–∏–∫ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí Dropdown —Å –æ–ø—Ü–∏—è–º–∏.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã Cashier'—É?

**A)** –ù–∏—á–µ–≥–æ (–Ω–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–æ–æ–±—â–µ)
**B)** –¢–æ–ª—å–∫–æ —Å–º–µ–Ω–∞ PIN-–∫–æ–¥–∞
**C)** PIN-–∫–æ–¥ + —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
**D)** PIN-–∫–æ–¥ + —è–∑—ã–∫ + printer settings

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) PIN-–∫–æ–¥ + –Ø–∑—ã–∫ + Printer settings**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **–°–º–µ–Ω–∞ PIN-–∫–æ–¥–∞** - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å —Å–≤–æ–π PIN –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ **–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - –µ—Å–ª–∏ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ –∫–∞—Å—Å–∏—Ä—ã
- ‚úÖ **Printer settings** - –≤—ã–±–æ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–∞ (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ), test print

**UI Cashier Settings (–≤ Dropdown):**

```tsx
<DropdownMenu>
  <DropdownMenuContent align="end">
    <DropdownMenuItem onClick={openChangePinModal}>
      <Key className="mr-2 h-4 w-4" />
      –°–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={openLanguageSettings}>
      <Languages className="mr-2 h-4 w-4" />
      –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    </DropdownMenuItem>
    
    <DropdownMenuItem onClick={openPrinterSettings}>
      <Printer className="mr-2 h-4 w-4" />
      –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={viewHelp}>
      <HelpCircle className="mr-2 h-4 w-4" />
      –ü–æ–º–æ—â—å
    </DropdownMenuItem>
    
    <DropdownMenuSeparator />
    
    <DropdownMenuItem onClick={logout}>
      <LogOut className="mr-2 h-4 w-4" />
      –í—ã–π—Ç–∏
    </DropdownMenuItem>
  </DropdownMenuContent>
</DropdownMenu>
```

**Change PIN Modal:**

```tsx
<Dialog open={showChangePinModal} onOpenChange={setShowChangePinModal}>
  <DialogContent className="max-w-md">
    <DialogHeader>
      <DialogTitle>–°–º–µ–Ω–∞ PIN-–∫–æ–¥–∞</DialogTitle>
    </DialogHeader>
    
    <div className="space-y-6">
      {/* Current PIN */}
      <div>
        <Label>–¢–µ–∫—É—â–∏–π PIN-–∫–æ–¥</Label>
        <div className="flex justify-center gap-2 mt-2">
          {[0, 1, 2, 3].map((index) => (
            <div
              key={index}
              className="w-12 h-12 rounded border-2 flex items-center justify-center text-xl"
            >
              {currentPin.length > index && '‚óè'}
            </div>
          ))}
        </div>
      </div>
      
      {/* New PIN */}
      <div>
        <Label>–ù–æ–≤—ã–π PIN-–∫–æ–¥</Label>
        <div className="flex justify-center gap-2 mt-2">
          {[0, 1, 2, 3].map((index) => (
            <div
              key={index}
              className="w-12 h-12 rounded border-2 flex items-center justify-center text-xl"
            >
              {newPin.length > index && '‚óè'}
            </div>
          ))}
        </div>
      </div>
      
      {/* Confirm New PIN */}
      <div>
        <Label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π PIN-–∫–æ–¥</Label>
        <div className="flex justify-center gap-2 mt-2">
          {[0, 1, 2, 3].map((index) => (
            <div
              key={index}
              className="w-12 h-12 rounded border-2 flex items-center justify-center text-xl"
            >
              {confirmPin.length > index && '‚óè'}
            </div>
          ))}
        </div>
      </div>
      
      {/* Numpad */}
      <div className="grid grid-cols-3 gap-2">
        {[1, 2, 3, 4, 5, 6, 7, 8, 9].map((num) => (
          <Button
            key={num}
            variant="outline"
            className="h-14 text-xl"
            onClick={() => handlePinInput(num)}
          >
            {num}
          </Button>
        ))}
        
        <Button variant="ghost" className="h-14" onClick={clearPin}>
          <X className="h-5 w-5" />
        </Button>
        
        <Button
          variant="outline"
          className="h-14 text-xl"
          onClick={() => handlePinInput(0)}
        >
          0
        </Button>
        
        <Button variant="ghost" className="h-14" onClick={backspace}>
          <Delete className="h-5 w-5" />
        </Button>
      </div>
      
      {error && (
        <Alert variant="destructive">
          <AlertCircle className="h-4 w-4" />
          <AlertDescription>{error}</AlertDescription>
        </Alert>
      )}
    </div>
    
    <DialogFooter>
      <Button variant="outline" onClick={() => setShowChangePinModal(false)}>
        –û—Ç–º–µ–Ω–∞
      </Button>
      <Button
        onClick={handleChangePinConfirm}
        disabled={!currentPin || !newPin || !confirmPin || newPin !== confirmPin}
      >
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Printer Settings Modal:**

```tsx
<Dialog open={showPrinterSettings} onOpenChange={setShowPrinterSettings}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏</DialogTitle>
    </DialogHeader>
    
    <div className="space-y-4">
      <div>
        <Label>–í—ã–±–æ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–∞</Label>
        <Select value={selectedPrinter} onValueChange={setSelectedPrinter}>
          <SelectTrigger>
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            {availablePrinters.map((printer) => (
              <SelectItem key={printer.id} value={printer.id}>
                {printer.name}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>
      </div>
      
      <div>
        <Label>–¢–µ—Å—Ç–æ–≤–∞—è –ø–µ—á–∞—Ç—å</Label>
        <Button onClick={printTest} className="w-full mt-2">
          <Printer className="mr-2 h-4 w-4" />
          –ù–∞–ø–µ—á–∞—Ç–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —á–µ–∫
        </Button>
      </div>
      
      <Alert>
        <Info className="h-4 w-4" />
        <AlertDescription>
          –ï—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Admin'—É –∏–ª–∏ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–µ
        </AlertDescription>
      </Alert>
    </div>
  </DialogContent>
</Dialog>
```


***

### **1Ô∏è‚É£6Ô∏è‚É£ Help Screen - –∫–∞–∫ –ø–æ–º–æ—á—å Cashier'—É –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∫–ª–∏–∫ "–ü–æ–º–æ—â—å" ‚Üí –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–º–æ—â–∏?

**A)** FAQ —Ç–µ–∫—Å—Ç–æ–º (–≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç)
**B)** Video tutorials (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ)
**C)** Interactive walkthrough (step-by-step guide)
**D)** Link to documentation

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) FAQ + C) Quick Guide + D) Contact support**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **FAQ** - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–ö–∞–∫ –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è? –ö–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã? –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ –ø–µ—á–∞—Ç–∞–µ—Ç?)
- ‚úÖ **Quick Guide** - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
- ‚úÖ **Contact Support** - –∫–Ω–æ–ø–∫–∞ "–ü–æ–∑–≤–∞—Ç—å Manager'–∞" –∏–ª–∏ "–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞"

**UI Help Modal:**

```tsx
<Dialog open={showHelp} onOpenChange={setShowHelp}>
  <DialogContent className="max-w-3xl max-h-[80vh] overflow-auto">
    <DialogHeader>
      <DialogTitle className="text-2xl">–ü–æ–º–æ—â—å</DialogTitle>
    </DialogHeader>
    
    <Tabs defaultValue="faq">
      <TabsList className="grid w-full grid-cols-2">
        <TabsTrigger value="faq">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</TabsTrigger>
        <TabsTrigger value="guide">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</TabsTrigger>
      </TabsList>
      
      <TabsContent value="faq" className="space-y-4">
        <Accordion type="single" collapsible>
          <AccordionItem value="search">
            <AccordionTrigger>–ö–∞–∫ –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è?</AccordionTrigger>
            <AccordionContent>
              <p className="mb-2">
                –í–≤–µ–¥–∏—Ç–µ –≤ –ø–æ–∏—Å–∫:
              </p>
              <ul className="list-disc pl-6 space-y-1">
                <li>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–º–æ–∂–Ω–æ —Å +7 –∏–ª–∏ –±–µ–∑)</li>
                <li>–ò–º—è –≥–æ—Å—Ç—è (–ò–≤–∞–Ω, –ü–µ—Ç—Ä–æ–≤)</li>
                <li>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (000123)</li>
                <li>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –∫–∞—Ä—Ç—ã</li>
              </ul>
            </AccordionContent>
          </AccordionItem>
          
          <AccordionItem value="earn">
            <AccordionTrigger>–ö–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã?</AccordionTrigger>
            <AccordionContent>
              <ol className="list-decimal pl-6 space-y-1">
                <li>–ù–∞–π–¥–∏—Ç–µ –≥–æ—Å—Ç—è –≤ –ø–æ–∏—Å–∫–µ</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã"</li>
                <li>–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —á–µ–∫–∞</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∏—Å–ª–∏—Ç—å"</li>
              </ol>
              <p className="mt-2 text-sm text-secondary">
                –ë–∞–ª–ª—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Ö–æ–¥—è –∏–∑ —Å—É–º–º—ã —á–µ–∫–∞ –∏ —É—Ä–æ–≤–Ω—è –≥–æ—Å—Ç—è
              </p>
            </AccordionContent>
          </AccordionItem>
          
          <AccordionItem value="redeem">
            <AccordionTrigger>–ö–∞–∫ —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã?</AccordionTrigger>
            <AccordionContent>
              <ol className="list-decimal pl-6 space-y-1">
                <li>–ù–∞–π–¥–∏—Ç–µ –≥–æ—Å—Ç—è –≤ –ø–æ–∏—Å–∫–µ</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã"</li>
                <li>–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ preset</li>
                <li>–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —á–µ–∫–∞ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–∞)</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–ø–∏—Å–∞—Ç—å"</li>
              </ol>
              <Alert className="mt-3">
                <Info className="h-4 w-4" />
                <AlertDescription>
                  1 –±–∞–ª–ª = 1‚ÇΩ —Å–∫–∏–¥–∫–∏. –ú–∞–∫—Å–∏–º—É–º –º–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å {loyaltySettings.redeemLimit}% –æ—Ç —Å—É–º–º—ã —á–µ–∫–∞.
                </AlertDescription>
              </Alert>
            </AccordionContent>
          </AccordionItem>
          
          <AccordionItem value="register">
            <AccordionTrigger>–ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è?</AccordionTrigger>
            <AccordionContent>
              <ol className="list-decimal pl-6 space-y-1">
                <li>–ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è"</li>
                <li>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –≥–æ—Å—Ç—è</li>
                <li>–í–≤–µ–¥–∏—Ç–µ –∏–º—è</li>
                <li>–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å"</li>
              </ol>
              <p className="mt-2 text-sm text-secondary">
                –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
              </p>
            </AccordionContent>
          </AccordionItem>
          
          <AccordionItem value="print">
            <AccordionTrigger>–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ –ø–µ—á–∞—Ç–∞–µ—Ç?</AccordionTrigger>
            <AccordionContent>
              <ol className="list-decimal pl-6 space-y-1">
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–∏–Ω—Ç–µ—Ä –≤–∫–ª—é—á—ë–Ω</li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—É–º–∞–≥—É –≤ –ø—Ä–∏–Ω—Ç–µ—Ä–µ</li>
                <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –ø–µ—á–∞—Ç—å (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–µ—á–∞—Ç—å ‚Üí –¢–µ—Å—Ç)</li>
                <li>–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –ø–æ–∑–æ–≤–∏—Ç–µ Manager'–∞</li>
              </ol>
            </AccordionContent>
          </AccordionItem>
        </Accordion>
      </TabsContent>
      
      <TabsContent value="guide" className="space-y-6">
        <Card>
          <CardHeader>
            <CardTitle className="text-lg">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</CardTitle>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="flex items-start gap-3">
              <div className="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                <span className="font-bold">1</span>
              </div>
              <div>
                <h4 className="font-semibold mb-1">–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</h4>
                <p className="text-sm text-secondary">
                  –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π 4-–∑–Ω–∞—á–Ω—ã–π PIN-–∫–æ–¥
                </p>
              </div>
            </div>
            
            <div className="flex items-start gap-3">
              <div className="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                <span className="font-bold">2</span>
              </div>
              <div>
                <h4 className="font-semibold mb-1">–ù–∞–π–¥–∏—Ç–µ –≥–æ—Å—Ç—è</h4>
                <p className="text-sm text-secondary">
                  –í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω, –∏–º—è –∏–ª–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç—É
                </p>
              </div>
            </div>
            
            <div className="flex items-start gap-3">
              <div className="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                <span className="font-bold">3</span>
              </div>
              <div>
                <h4 className="font-semibold mb-1">–û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ–∫</h4>
                <p className="text-sm text-secondary">
                  –ù–∞—á–∏—Å–ª–∏—Ç–µ –∏–ª–∏ —Å–ø–∏—à–∏—Ç–µ –±–∞–ª–ª—ã
                </p>
              </div>
            </div>
            
            <div className="flex items-start gap-3">
              <div className="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
                <span className="font-bold">4</span>
              </div>
              <div>
                <h4 className="font-semibold mb-1">–ì–æ—Ç–æ–≤–æ!</h4>
                <p className="text-sm text-secondary">
                  –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∏–ª –±–∞–ª–ª—ã –∏–ª–∏ —Å–∫–∏–¥–∫—É
                </p>
              </div>
            </div>
          </CardContent>
        </Card>
      </TabsContent>
    </Tabs>
    
    <div className="flex gap-3 pt-4 border-t">
      <Button
        variant="outline"
        className="flex-1"
        onClick={callManager}
      >
        <UserCog className="mr-2 h-4 w-4" />
        –ü–æ–∑–≤–∞—Ç—å Manager'–∞
      </Button>
      
      <Button
        variant="outline"
        className="flex-1"
        onClick={() => window.open('https://support.maxloyalty.app', '_blank')}
      >
        <ExternalLink className="mr-2 h-4 w-4" />
        –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
      </Button>
    </div>
  </DialogContent>
</Dialog>
```


***

## **üîÑ 7. OFFLINE MODE \& SYNC**

### **1Ô∏è‚É£7Ô∏è‚É£ Offline Support - —á—Ç–æ –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω–∞ –∫–∞—Å—Å–µ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
WiFi –Ω–∞ –∫–∞—Å—Å–µ –Ω–µ—Å—Ç–∞–±–∏–ª–µ–Ω ‚Üí –∫–∞—Å—Å–∏—Ä –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è / –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ª–∏ offline mode?

**A)** –ù–µ—Ç, —Ç–æ–ª—å–∫–æ online (–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
**B)** –î–∞, —Å local storage (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–æ—Å—Ç–µ–π)
**C)** –î–∞, —Å IndexedDB + sync queue
**D)** –î–∞, —Å Service Worker + full offline mode

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) IndexedDB + Sync Queue (limited offline mode)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **IndexedDB** - –∫–µ—à–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 –≥–æ—Å—Ç–µ–π (most frequent)
- ‚úÖ **Sync Queue** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤–µ—Ä–Ω—ë—Ç—Å—è
- ‚úÖ **Read-only offline** - –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å cached –≥–æ—Å—Ç–µ–π, –≤–∏–¥–µ—Ç—å –±–∞–ª–∞–Ω—Å (–Ω–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ)
- ‚úÖ **Write with queue** - –º–æ–∂–Ω–æ –Ω–∞—á–∏—Å–ª—è—Ç—å/—Å–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã ‚Üí —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥—å ‚Üí sync later
- ‚ö†Ô∏è **Conflicts possible** - –µ—Å–ª–∏ –≥–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–∞–ª–ª—ã –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ while offline

**Offline Indicator:**

```tsx
{isOffline && (
  <Alert variant="warning" className="mb-4">
    <WifiOff className="h-4 w-4" />
    <AlertDescription>
      <strong>–†–µ–∂–∏–º –æ—Ñ–ª–∞–π–Ω.</strong> –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏. 
      –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∫–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤–µ—Ä–Ω—ë—Ç—Å—è.
    </AlertDescription>
  </Alert>
)}
```

**Sync Queue:**

```typescript
interface QueuedTransaction {
  id: string;
  guestId: string;
  type: 'EARN' | 'REDEEM';
  amount: number;
  checkAmount?: number;
  createdAt: string;
  status: 'PENDING' | 'SYNCED' | 'FAILED';
}

// Save to IndexedDB when offline
async function processTransactionOffline(transaction: QueuedTransaction) {
  // Add to sync queue
  await db.syncQueue.add(transaction);
  
  // Update local guest balance
  await db.guests.update(transaction.guestId, {
    ballBalance: guest.ballBalance + (transaction.type === 'EARN' ? transaction.amount : -transaction.amount)
  });
  
  toast.warning('–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞. –ë—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–≥–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');
}

// Sync when online
async function syncQueue() {
  const pendingTransactions = await db.syncQueue.where('status').equals('PENDING').toArray();
  
  for (const tx of pendingTransactions) {
    try {
      await api.transactions.create(tx);
      await db.syncQueue.update(tx.id, { status: 'SYNCED' });
    } catch (error) {
      await db.syncQueue.update(tx.id, { status: 'FAILED' });
      console.error('Sync failed:', tx.id, error);
    }
  }
  
  if (pendingTransactions.length > 0) {
    toast.success(`–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ ${pendingTransactions.length} —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π`);
  }
}

// Listen for online/offline events
useEffect(() => {
  const handleOnline = () => {
    setIsOffline(false);
    syncQueue();
  };
  
  const handleOffline = () => {
    setIsOffline(true);
  };
  
  window.addEventListener('online', handleOnline);
  window.addEventListener('offline', handleOffline);
  
  return () => {
    window.removeEventListener('online', handleOnline);
    window.removeEventListener('offline', handleOffline);
  };
}, []);
```


***

### **1Ô∏è‚É£8Ô∏è‚É£ Auto-logout on Inactivity - –∫–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —É—à—ë–ª –Ω–∞ –æ–±–µ–¥, –∑–∞–±—ã–ª –≤—ã–π—Ç–∏ ‚Üí –¥—Ä—É–≥–æ–π —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –∑–∞–π—Ç–∏ –Ω–∞ –∫–∞—Å—Å—É.

**–í–æ–ø—Ä–æ—Å:**
–ù—É–∂–µ–Ω –ª–∏ auto-logout?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, auto-logout —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Security** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö
- ‚úÖ **15 –º–∏–Ω—É—Ç** - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —É–¥–æ–±—Å—Ç–≤–æ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é (–∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –æ—Ç–æ–π—Ç–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)
- ‚úÖ **Warning before logout** - –∑–∞ 1 –º–∏–Ω—É—Ç—É –¥–æ logout –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "–í—ã –±—É–¥–µ—Ç–µ –≤—ã–≤–µ–¥–µ–Ω—ã —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥"
- ‚úÖ **Continue button** - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –ø—Ä–æ–¥–ª–∏—Ç—å —Å–µ—Å—Å–∏—é –∫–ª–∏–∫–æ–º

**Inactivity Timer:**

```typescript
const INACTIVITY_TIMEOUT = 15 * 60 * 1000; // 15 minutes
const WARNING_BEFORE_LOGOUT = 60 * 1000; // 1 minute

useEffect(() => {
  let inactivityTimer: NodeJS.Timeout;
  let warningTimer: NodeJS.Timeout;
  
  const resetTimer = () => {
    clearTimeout(inactivityTimer);
    clearTimeout(warningTimer);
    setShowInactivityWarning(false);
    
    // Show warning 1 minute before logout
    warningTimer = setTimeout(() => {
      setShowInactivityWarning(true);
      setCountdown(60);
    }, INACTIVITY_TIMEOUT - WARNING_BEFORE_LOGOUT);
    
    // Auto-logout after timeout
    inactivityTimer = setTimeout(() => {
      handleLogout();
    }, INACTIVITY_TIMEOUT);
  };
  
  // Listen for user activity
  const events = ['mousedown', 'keydown', 'touchstart', 'scroll'];
  events.forEach((event) => {
    window.addEventListener(event, resetTimer);
  });
  
  resetTimer(); // Start timer
  
  return () => {
    clearTimeout(inactivityTimer);
    clearTimeout(warningTimer);
    events.forEach((event) => {
      window.removeEventListener(event, resetTimer);
    });
  };
}, []);

// Countdown for warning
useEffect(() => {
  if (showInactivityWarning && countdown > 0) {
    const timer = setTimeout(() => {
      setCountdown(countdown - 1);
    }, 1000);
    
    return () => clearTimeout(timer);
  }
}, [showInactivityWarning, countdown]);
```

**Inactivity Warning Modal:**

```tsx
<Dialog open={showInactivityWarning} onOpenChange={() => {}}>
  <DialogContent className="max-w-md">
    <DialogHeader>
      <DialogTitle>–í—ã –µ—â—ë –∑–¥–µ—Å—å?</DialogTitle>
      <DialogDescription>
        –í—ã –±—É–¥–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–µ–¥–µ–Ω—ã –∏–∑ —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ {countdown} —Å–µ–∫—É–Ω–¥
      </DialogDescription>
    </DialogHeader>
    
    <div className="text-center py-6">
      <div className="text-6xl font-bold mb-4">{countdown}</div>
      <p className="text-secondary">
        –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" —á—Ç–æ–±—ã –æ—Å—Ç–∞—Ç—å—Å—è
      </p>
    </div>
    
    <DialogFooter>
      <Button
        variant="outline"
        onClick={handleLogout}
      >
        –í—ã–π—Ç–∏ —Å–µ–π—á–∞—Å
      </Button>
      <Button
        onClick={() => {
          setShowInactivityWarning(false);
          resetTimer();
        }}
      >
        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```


***

## **üìä 8. CASHIER ANALYTICS (LIMITED)**

### **1Ô∏è‚É£9Ô∏è‚É£ Cashier Stats - –≤–∏–¥–∏—Ç –ª–∏ Cashier —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier —Ö–æ—á–µ—Ç –∑–Ω–∞—Ç—å: —Å–∫–æ–ª—å–∫–æ –æ–Ω –æ–±—Ä–∞–±–æ—Ç–∞–ª —á–µ–∫–æ–≤ —Å–µ–≥–æ–¥–Ω—è, —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–∏–ª.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É Cashier'—É?

**A)** –ù–µ—Ç (—Ç–æ–ª—å–∫–æ Admin/Manager –≤–∏–¥—è—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É)
**B)** –î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ —Å–≤–æ—é (—Å–∫–æ–ª—å–∫–æ —è –æ–±—Ä–∞–±–æ—Ç–∞–ª)
**C)** –î–∞, —Å–≤–æ—é + –æ–±—â—É—é –ø–æ –≤—Å–µ–º –∫–∞—Å—Å–∏—Ä–∞–º
**D)** –î–∞, –ø–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–∫–∞–∫ —É Manager)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –¢–æ–ª—å–∫–æ —Å–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤ header Quick Stats)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Motivation** - –∫–∞—Å—Å–∏—Ä –≤–∏–¥–∏—Ç —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ –¥–µ–Ω—å (–≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è)
- ‚úÖ **Minimal** - —Ç–æ–ª—å–∫–æ 3 –º–µ—Ç—Ä–∏–∫–∏ (–Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã)
- ‚úÖ **No comparison** - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥—Ä—É–≥–∏—Ö –∫–∞—Å—Å–∏—Ä–æ–≤ (–∏–∑–±–µ–≥–∞–µ–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è)

**Quick Stats (–≤ header):**

```tsx
<div className="flex gap-6 text-sm">
  <div>
    <div className="text-secondary">–ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è</div>
    <div className="text-xl font-bold">{cashierStats.guestsToday}</div>
  </div>
  <div>
    <div className="text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</div>
    <div className="text-xl font-bold">{cashierStats.transactionsToday}</div>
  </div>
  <div>
    <div className="text-secondary">–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ</div>
    <div className="text-xl font-bold">{cashierStats.ballsEarnedToday}</div>
  </div>
</div>
```

**Stats reset:** –°–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ)

***

### **2Ô∏è‚É£0Ô∏è‚É£ Recent Guests Widget - –∫–∞–∫ –ø–æ–º–æ—á—å Cashier'—É —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Üí –∫–∞—Å—Å–∏—Ä –∏—Ö —á–∞—Å—Ç–æ –∏—â–µ—Ç.

**–í–æ–ø—Ä–æ—Å:**
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ Recent Guests?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, Recent Guests –Ω–∞ Main Screen (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Speed** - –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Guest Quick View (–±–µ–∑ –ø–æ–∏—Å–∫–∞)
- ‚úÖ **Personalization** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–æ—Å—Ç–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —ç—Ç–∏–º –∫–∞—Å—Å–∏—Ä–æ–º (–Ω–µ –≤—Å–µ—Ö)
- ‚úÖ **Storage** - —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏)

**Recent Guests (–Ω–∞ Main Screen):**

```tsx
{recentGuests.length > 0 && (
  <div>
    <h2 className="text-xl font-semibold mb-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≥–æ—Å—Ç–∏</h2>
    <div className="grid grid-cols-2 gap-4">
      {recentGuests.map((guest) => (
        <Card
          key={guest.id}
          className="cursor-pointer hover:border-primary transition"
          onClick={() => selectGuest(guest)}
        >
          <CardContent className="p-4 flex items-center gap-3">
            <Avatar className="h-10 w-10">
              <AvatarFallback>
                {getInitials(guest.firstName, guest.lastName)}
              </AvatarFallback>
            </Avatar>
            
            <div className="flex-1">
              <div className="font-medium">
                {guest.firstName} {guest.lastName}
              </div>
              <div className="text-sm text-secondary">
                {formatPhone(guest.phone)}
              </div>
            </div>
            
            <div className="text-right">
              <Badge variant="outline">{LEVEL_ICONS[guest.level]}</Badge>
              <div className="text-sm font-semibold mt-1">
                {guest.ballBalance} –±.
              </div>
            </div>
          </CardContent>
        </Card>
      ))}
    </div>
  </div>
)}
```

**Store Recent Guests:**

```typescript
function addToRecentGuests(guest: Guest) {
  const recent = JSON.parse(localStorage.getItem('cashier_recent_guests') || '[]');
  
  // Remove if already exists (move to top)
  const filtered = recent.filter((g: Guest) => g.id !== guest.id);
  
  // Add to beginning
  filtered.unshift(guest);
  
  // Keep only last 10
  const trimmed = filtered.slice(0, 10);
  
  localStorage.setItem('cashier_recent_guests', JSON.stringify(trimmed));
  setRecentGuests(trimmed);
}
```


***

## **‚ö° 9. PERFORMANCE \& OPTIMIZATION**

### **2Ô∏è‚É£1Ô∏è‚É£ Keyboard Shortcuts - –Ω—É–∂–Ω—ã –ª–∏ —Ö–æ—Ç–∫–µ–∏ –¥–ª—è –∫–∞—Å—Å–∏—Ä–∞?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–û–ø—ã—Ç–Ω—ã–π –∫–∞—Å—Å–∏—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ ‚Üí —Ö–æ—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤–º–µ—Å—Ç–æ –º—ã—à–∏.

**–í–æ–ø—Ä–æ—Å:**
–î–æ–±–∞–≤–∏—Ç—å –ª–∏ keyboard shortcuts?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –±–∞–∑–æ–≤—ã–µ shortcuts –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Speed** - –æ–ø—ã—Ç–Ω—ã–π –∫–∞—Å—Å–∏—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 30% –±—ã—Å—Ç—Ä–µ–µ —Å —Ö–æ—Ç–∫–µ—è–º–∏
- ‚úÖ **Minimal learning curve** - —Ç–æ–ª—å–∫–æ —Å–∞–º—ã–µ –æ—á–µ–≤–∏–¥–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è
- ‚úÖ **Optional** - –º—ã—à—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (—Ö–æ—Ç–∫–µ–∏ = –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)

**Keyboard Shortcuts:**

```
F1  - –ü–æ–º–æ—â—å
F2  - –ü–æ–∏—Å–∫ –≥–æ—Å—Ç—è (focus –Ω–∞ search input)
F3  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è
F5  - –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (refresh)

ESC - –ó–∞–∫—Ä—ã—Ç—å modal / –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥

–¶–∏—Ñ—Ä—ã 0-9 - –í–≤–æ–¥ –≤ numpad (–∫–æ–≥–¥–∞ modal –æ—Ç–∫—Ä—ã—Ç)
Enter       - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
```

**Implementation:**

```typescript
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    // F1 - Help
    if (e.key === 'F1') {
      e.preventDefault();
      setShowHelp(true);
    }
    
    // F2 - Focus search
    if (e.key === 'F2') {
      e.preventDefault();
      searchInputRef.current?.focus();
    }
    
    // F3 - Register guest
    if (e.key === 'F3') {
      e.preventDefault();
      setShowRegisterModal(true);
    }
    
    // ESC - Close modals / Go back
    if (e.key === 'Escape') {
      if (showEarnModal) setShowEarnModal(false);
      else if (showRedeemModal) setShowRedeemModal(false);
      else if (showRegisterModal) setShowRegisterModal(false);
      else if (showHelp) setShowHelp(false);
      else router.push('/cashier'); // Go to main screen
    }
  };
  
  window.addEventListener('keydown', handleKeyDown);
  return () => window.removeEventListener('keydown', handleKeyDown);
}, [showEarnModal, showRedeemModal, showRegisterModal, showHelp]);
```

**Shortcuts Help (–≤ Help Modal):**

```tsx
<Card>
  <CardHeader>
    <CardTitle>–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏</CardTitle>
  </CardHeader>
  <CardContent>
    <dl className="space-y-2 text-sm">
      <div className="flex justify-between">
        <dt className="text-secondary">F1</dt>
        <dd className="font-medium">–ü–æ–º–æ—â—å</dd>
      </div>
      <div className="flex justify-between">
        <dt className="text-secondary">F2</dt>
        <dd className="font-medium">–ü–æ–∏—Å–∫ –≥–æ—Å—Ç—è</dd>
      </div>
      <div className="flex justify-between">
        <dt className="text-secondary">F3</dt>
        <dd className="font-medium">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è</dd>
      </div>
      <div className="flex justify-between">
        <dt className="text-secondary">ESC</dt>
        <dd className="font-medium">–ù–∞–∑–∞–¥ / –ó–∞–∫—Ä—ã—Ç—å</dd>
      </div>
    </dl>
  </CardContent>
</Card>
```


***

### **2Ô∏è‚É£2Ô∏è‚É£ Bundle Size Optimization - –∫–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–¥–∞–∂–µ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º WiFi).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Code splitting + Minimal dependencies + Preload critical assets**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Code splitting** - –æ—Ç–¥–µ–ª—å–Ω—ã–π chunk –¥–ª—è `/cashier` —Ä–æ—É—Ç–æ–≤ (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º Admin/Manager –∫–æ–¥)
- ‚úÖ **Tree shaking** - —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ shadcn/ui
- ‚úÖ **No heavy libs** - –∏–∑–±–µ–≥–∞–µ–º Recharts (–Ω–µ –Ω—É–∂–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞—Å—Å–∏—Ä—É)
- ‚úÖ **Critical CSS inline** - –ø–µ—Ä–≤—ã–π render –±–µ–∑ FOUC
- ‚úÖ **Service Worker** - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ assets –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫

**Webpack/Next.js config:**

```javascript
// next.config.js
module.exports = {
  webpack: (config) => {
    config.optimization.splitChunks = {
      chunks: 'all',
      cacheGroups: {
        cashier: {
          test: /[\\/]app[\\/]cashier[\\/]/,
          name: 'cashier',
          priority: 10
        }
      }
    };
    return config;
  }
};
```

**Bundle size target:**

- Initial load: < 100KB gzipped
- Total: < 300KB gzipped

***

## **üîí 10. SECURITY \& AUDIT**

### **2Ô∏è‚É£3Ô∏è‚É£ Cashier Activity Log - –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
Cashier –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª—ã, —Å–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–ª–ª—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–æ—Å—Ç–µ–π.

**–í–æ–ø—Ä–æ—Å:**
–ù—É–∂–Ω–æ –ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è Cashier'–∞?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: –î–ê, –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Accountability** - Admin/Manager –≤–∏–¥—è—Ç –∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–ª
- ‚úÖ **Fraud detection** - –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (–∫–∞—Å—Å–∏—Ä –Ω–∞—á–∏—Å–ª–∏–ª —Å–µ–±–µ 10,000 –±–∞–ª–ª–æ–≤)
- ‚úÖ **Dispute resolution** - –µ—Å–ª–∏ –≥–æ—Å—Ç—å –∂–∞–ª—É–µ—Ç—Å—è "–º–Ω–µ –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏" ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥
- ‚úÖ **Performance tracking** - —Å–∫–æ–ª—å–∫–æ –≥–æ—Å—Ç–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–ª –∫–∞–∂–¥—ã–π –∫–∞—Å—Å–∏—Ä

**Logged Events:**

```typescript
enum CashierActionType {
  // Authentication
  LOGIN = 'login',
  LOGOUT = 'logout',
  CHANGE_PIN = 'change_pin',
  
  // Guest Operations
  SEARCH_GUEST = 'search_guest',
  VIEW_GUEST = 'view_guest',
  REGISTER_GUEST = 'register_guest',
  
  // Transactions
  EARN_BALLS = 'earn_balls',
  REDEEM_BALLS = 'redeem_balls',
  
  // Print
  PRINT_CARD = 'print_card',
  PRINT_RECEIPT = 'print_receipt',
  
  // Other
  CALL_MANAGER = 'call_manager',
  VIEW_HELP = 'view_help'
}
```

**Activity Log Entry:**

```typescript
{
  id: 'log_abc123',
  actionType: 'EARN_BALLS',
  performedBy: {
    id: 'cashier_xyz',
    firstName: '–ê–Ω–Ω–∞',
    lastName: '–ü–µ—Ç—Ä–æ–≤–∞',
    role: 'CASHIER'
  },
  targetGuest: {
    id: 'guest_123',
    firstName: '–ò–≤–∞–Ω',
    phone: '+79991234567'
  },
  metadata: {
    checkAmount: 2000,
    ballsEarned: 220,
    balanceBefore: 500,
    balanceAfter: 720
  },
  ipAddress: '192.168.1.50',
  terminal: 'POS-1',
  createdAt: '2026-02-16T14:30:00Z'
}
```

**Admin/Manager –≤–∏–¥—è—Ç –≤ Activity Log:**

- –ö—Ç–æ (–∫–∞—Å—Å–∏—Ä)
- –ß—Ç–æ (–¥–µ–π—Å—Ç–≤–∏–µ)
- –ö–æ–≥–¥–∞ (timestamp)
- –° –∫–µ–º (–≥–æ—Å—Ç—å)
- –ì–¥–µ (—Ç–µ—Ä–º–∏–Ω–∞–ª)
- –î–µ—Ç–∞–ª–∏ (—Å—É–º–º—ã, –±–∞–ª–∞–Ω—Å)

***

### **2Ô∏è‚É£4Ô∏è‚É£ Fraud Prevention - –∫–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ö–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã —Å–µ–±–µ –∏–ª–∏ –∑–Ω–∞–∫–æ–º—ã–º –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–µ–∫–∞.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å fraud?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Anomaly detection + Manual check amounts limits**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Anomaly Detection (backend):**

- ‚ö†Ô∏è **Unusually high check** - –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –Ω–∞—á–∏—Å–ª–∏–ª –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É >50,000‚ÇΩ ‚Üí alert Manager'—É
- ‚ö†Ô∏è **Self-transaction** - –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –Ω–∞—á–∏—Å–ª–∏–ª –±–∞–ª–ª—ã –Ω–∞ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí alert
- ‚ö†Ô∏è **Frequent same guest** - –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–¥–Ω–æ–≥–æ –≥–æ—Å—Ç—è >10 —Ä–∞–∑ –≤ –¥–µ–Ω—å ‚Üí suspicious
- ‚ö†Ô∏è **After hours** - –µ—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ 3:00 –Ω–æ—á–∏ (–∫–æ–≥–¥–∞ —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∑–∞–∫—Ä—ã—Ç) ‚Üí alert

**Check Amount Limits:**

- Max check amount –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è Manager'–∞: 20,000‚ÇΩ
- –ï—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí —Ç—Ä–µ–±—É–µ—Ç—Å—è PIN-–∫–æ–¥ Manager'–∞

**UI Manager Confirmation:**

```tsx
{checkAmount > MAX_CHECK_WITHOUT_APPROVAL && (
  <Alert variant="warning">
    <ShieldAlert className="h-4 w-4" />
    <AlertDescription>
      <div className="font-semibold mb-2">
        –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ Manager'–∞
      </div>
      <p className="mb-3">
        –°—É–º–º–∞ —á–µ–∫–∞ ({formatCurrency(checkAmount)}) –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç. 
        –ü–æ–ø—Ä–æ—Å–∏—Ç–µ Manager'–∞ –≤–≤–µ—Å—Ç–∏ PIN-–∫–æ–¥.
      </p>
      
      <div>
        <Label>PIN-–∫–æ–¥ Manager'–∞</Label>
        <Input
          type="password"
          maxLength={4}
          placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
          value={managerPin}
          onChange={(e) => setManagerPin(e.target.value)}
          className="max-w-[150px] mt-2"
        />
      </div>
    </AlertDescription>
  </Alert>
)}
```

**Backend Validation:**

```typescript
// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
if (checkAmount > MAX_CHECK_WITHOUT_APPROVAL) {
  // Verify manager PIN
  const managerValid = await verifyManagerPin(restaurantId, managerPin);
  
  if (!managerValid) {
    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π PIN-–∫–æ–¥ Manager\'–∞');
  }
  
  // Log manager approval
  await createActivityLog({
    actionType: 'MANAGER_APPROVAL',
    performedBy: cashierId,
    approvedBy: managerId,
    metadata: {
      reason: 'High check amount',
      checkAmount
    }
  });
}
```


***

### **2Ô∏è‚É£5Ô∏è‚É£ Terminal Assignment - –∫–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞—Å—Å–∏—Ä–∞ –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–í —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Å—Å (POS-1, POS-2, POS-3). –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Å –∫–∞–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Ä–∞–±–æ—Ç–∞–ª –∫–∞—Å—Å–∏—Ä.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª?

**A)** –ü–æ IP-–∞–¥—Ä–µ—Å—É
**B)** Manual selection –ø—Ä–∏ login (–∫–∞—Å—Å–∏—Ä –≤—ã–±–∏—Ä–∞–µ—Ç "–ö–∞—Å—Å–∞ 1")
**C)** Device fingerprint (browser + hardware ID)
**D)** QR-–∫–æ–¥ –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

<div align="center">‚ÅÇ</div>

[^14_1]: Beseda-3.md

[^14_2]: Beseda-2.md


---

# üí∞ **CASHIER POS INTERFACE - –ü–†–û–î–û–õ–ñ–ï–ù–ò–ï**


***

### **2Ô∏è‚É£5Ô∏è‚É£ Terminal Assignment - –∫–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞—Å—Å–∏—Ä–∞ –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–í —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Å—Å (POS-1, POS-2, POS-3). –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Å –∫–∞–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Ä–∞–±–æ—Ç–∞–ª –∫–∞—Å—Å–∏—Ä.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª?

**A)** –ü–æ IP-–∞–¥—Ä–µ—Å—É
**B)** Manual selection –ø—Ä–∏ login (–∫–∞—Å—Å–∏—Ä –≤—ã–±–∏—Ä–∞–µ—Ç "–ö–∞—Å—Å–∞ 1")
**C)** Device fingerprint (browser + hardware ID)
**D)** QR-–∫–æ–¥ –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Manual selection –ø—Ä–∏ login + C) Device fingerprint –¥–ª—è auto-detection**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Manual selection** - –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –∫–∞—Å—Å–∏—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–∑ dropdown
- ‚úÖ **Device fingerprint** - –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç)
- ‚úÖ **Override option** - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥—Ä—É–≥–æ–π –∫–∞—Å—Å—ã
- ‚úÖ **Admin visibility** - –≤ Activity Log –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å –∫–∞–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –±—ã–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è

**UI Terminal Selection (–ø—Ä–∏ login):**

```tsx
<Dialog open={showTerminalSelection} onOpenChange={setShowTerminalSelection}>
  <DialogContent className="max-w-md">
    <DialogHeader>
      <DialogTitle>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª</DialogTitle>
      <DialogDescription>
        –° –∫–∞–∫–æ–π –∫–∞—Å—Å—ã –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-3">
      {terminals.map((terminal) => (
        <Card
          key={terminal.id}
          className={cn(
            "cursor-pointer transition hover:border-primary",
            selectedTerminal?.id === terminal.id && "border-primary bg-primary/5"
          )}
          onClick={() => setSelectedTerminal(terminal)}
        >
          <CardContent className="p-4 flex items-center gap-3">
            <div className="h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center">
              <Monitor className="h-6 w-6" />
            </div>
            
            <div className="flex-1">
              <div className="font-semibold text-lg">{terminal.name}</div>
              <div className="text-sm text-secondary">{terminal.location}</div>
            </div>
            
            {selectedTerminal?.id === terminal.id && (
              <CheckCircle2 className="h-6 w-6 text-primary" />
            )}
          </CardContent>
        </Card>
      ))}
    </div>
    
    <DialogFooter>
      <Button
        onClick={handleTerminalConfirm}
        disabled={!selectedTerminal}
        className="w-full"
      >
        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Device Fingerprint (–¥–ª—è auto-detection):**

```typescript
import FingerprintJS from '@fingerprintjs/fingerprintjs';

async function getDeviceFingerprint(): Promise<string> {
  const fp = await FingerprintJS.load();
  const result = await fp.get();
  return result.visitorId;
}

// –ü—Ä–∏ login
async function handleLogin(pin: string) {
  const fingerprint = await getDeviceFingerprint();
  
  // Check if this device has assigned terminal
  const savedTerminal = localStorage.getItem(`terminal_${fingerprint}`);
  
  if (savedTerminal) {
    // Auto-select saved terminal
    setSelectedTerminal(JSON.parse(savedTerminal));
    proceedToLogin(pin);
  } else {
    // Show terminal selection
    setShowTerminalSelection(true);
  }
}

// Save terminal assignment
function handleTerminalConfirm() {
  const fingerprint = await getDeviceFingerprint();
  localStorage.setItem(`terminal_${fingerprint}`, JSON.stringify(selectedTerminal));
  proceedToLogin();
}
```

**Terminal Info –≤ Header:**

```tsx
<div className="flex items-center gap-2 text-sm">
  <Monitor className="h-4 w-4 text-secondary" />
  <span className="text-secondary">–¢–µ—Ä–º–∏–Ω–∞–ª:</span>
  <Badge variant="outline">{currentTerminal.name}</Badge>
  
  <Button
    variant="ghost"
    size="sm"
    onClick={() => setShowTerminalSelection(true)}
  >
    <RefreshCw className="h-3 w-3" />
  </Button>
</div>
```

**Activity Log —Å Terminal ID:**

```typescript
{
  id: 'log_abc123',
  actionType: 'EARN_BALLS',
  performedBy: {
    id: 'cashier_xyz',
    firstName: '–ê–Ω–Ω–∞',
    role: 'CASHIER'
  },
  terminal: {
    id: 'terminal_001',
    name: 'POS-1',
    location: '–ì–ª–∞–≤–Ω—ã–π –∑–∞–ª'
  },
  // ... rest of log
}
```


***

# ‚úÖ **–ò–¢–û–ì–û: 25 –†–ï–®–ï–ù–ò–ô CASHIER POS INTERFACE –ü–†–ò–ù–Ø–¢–´!**


***

## **üì¶ –°–¢–†–£–ö–¢–£–†–ê CASHIER INTERFACE**

### **–†–æ—É—Ç—ã:**

```
/cashier/login                ‚Üí PIN-–∫–æ–¥ –≤—Ö–æ–¥ (numpad UI)
/cashier                      ‚Üí Main Screen (search + recent guests + quick stats)
/cashier/guest/:id            ‚Üí Guest Quick View (split screen: info + actions)
/cashier/register-guest       ‚Üí Register Guest Modal
/cashier/transaction/:id      ‚Üí Transaction Receipt (success screen)
/cashier/print-card/:id       ‚Üí Print-friendly card layout
/cashier/help                 ‚Üí Help & FAQ
```


### **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

**1. Login Screen:**

- PIN-–∫–æ–¥ numpad (4 —Ü–∏—Ñ—Ä—ã)
- Fallback email/password
- Terminal selection
- Auto-logout —á–µ—Ä–µ–∑ 15 –º–∏–Ω

**2. Main Screen:**

- Large search bar (–∞–≤—Ç–æ—Ñ–æ–∫—É—Å)
- Search as you type (debounced 200ms)
- Barcode scanner support
- Recent guests (last 10)
- Quick stats (–ì–æ—Å—Ç–µ–π | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | –ë–∞–ª–ª–æ–≤)
- Quick actions (–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | –ü–æ–º–æ—â—å)

**3. Guest Quick View:**

- Split screen layout
- Left: Guest info (–∞–≤–∞—Ç–∞—Ä, –∏–º—è, —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- Right: Actions (–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã | –°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã)
- Bottom: Quick actions (–ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ | –ü–æ–∑–≤–∞—Ç—å Manager'–∞)

**4. Earn Balls Modal:**

- Calculator UI (numpad 0-9)
- Real-time calculation preview
- Breakdown (base + level bonus)
- Validation (min check amount)
- Confirmation

**5. Redeem Balls Modal:**

- Preset buttons (100 | 500 | 1000 | –í—Å—ë)
- Calculator UI (numpad 0-9)
- Check amount input (–¥–ª—è redeem limit)
- Real-time discount preview
- Validation (max balance, max % –æ—Ç —á–µ–∫–∞)

**6. Register Guest Form:**

- Minimal fields (–¢–µ–ª–µ—Ñ–æ–Ω* | –ò–º—è* | –§–∞–º–∏–ª–∏—è | –î–†)
- Duplicate detection
- Auto-generate card
- Fast modal (–Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç –æ—Ç —Ä–∞–±–æ—Ç—ã)

**7. Transaction Receipt:**

- Success screen —Å –¥–µ—Ç–∞–ª—è–º–∏
- Large amount display
- Balance before/after
- Print button
- Auto-redirect —á–µ—Ä–µ–∑ 5 —Å–µ–∫

**8. Print:**

- Thermal printer (ESC/POS)
- Loyalty card layout (QR + display code)
- Transaction receipt
- Fallback browser print

**9. Offline Mode:**

- IndexedDB cache (last 100 guests)
- Sync queue (pending transactions)
- Offline indicator
- Auto-sync when online

**10. Security:**

- Auto-logout (15 min inactivity)
- Activity logging (–≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è)
- Fraud detection (anomalies)
- Manager approval (high amounts)

***

## **üéØ CASHIER PERMISSIONS (RECAP)**

### **‚úÖ –ú–û–ñ–ï–¢:**

- –ò—Å–∫–∞—Ç—å –≥–æ—Å—Ç—è (—Ç–µ–ª–µ—Ñ–æ–Ω | –∏–º—è | –∫–∞—Ä—Ç–∞ | QR-–∫–æ–¥)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å –≥–æ—Å—Ç—è
- –ù–∞—á–∏—Å–ª—è—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É
- –°–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è (–±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ)
- –ü–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- –ü–µ—á–∞—Ç–∞—Ç—å —á–µ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –í–∏–¥–µ—Ç—å —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–≥–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –±–∞–ª–ª–æ–≤)
- –í–∏–¥–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–æ—Å—Ç–µ–π (recent)
- –°–º–µ–Ω–∏—Ç—å —Å–≤–æ–π PIN-–∫–æ–¥
- –í—ã–±—Ä–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª


### **‚ùå –ù–ï –ú–û–ñ–ï–¢:**

- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≥–æ—Å—Ç—è (—Ç–æ–ª—å–∫–æ Manager/Admin)
- –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤ (arbitrary adjustment)
- –£–¥–∞–ª—è—Ç—å –≥–æ—Å—Ç–µ–π
- –í–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≥–æ—Å—Ç—è (—Ç–æ–ª—å–∫–æ last 3)
- –í–∏–¥–µ—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (RFM, cohort, ROI)
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏
- –ú–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ loyalty
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –í–∏–¥–µ—Ç—å Activity Log –¥—Ä—É–≥–∏—Ö –∫–∞—Å—Å–∏—Ä–æ–≤
- –ù–∞—á–∏—Å–ª—è—Ç—å >20,000‚ÇΩ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è Manager'–∞

***

## **üöÄ –¢–ï–•–ù–û–õ–û–ì–ò–ò \& –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø**

### **Frontend:**

- Next.js 14 App Router + TypeScript
- shadcn/ui (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- TanStack Query (data fetching)
- IndexedDB (offline cache)
- FingerprintJS (device identification)
- QRCode.react (–¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫)
- React Hook Form + Zod (–≤–∞–ª–∏–¥–∞—Ü–∏—è)


### **Performance:**

- Code splitting (–æ—Ç–¥–µ–ª—å–Ω—ã–π chunk –¥–ª—è `/cashier`)
- Bundle size < 300KB gzipped
- Tree shaking (—Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- Critical CSS inline
- Service Worker (asset caching)
- Debounced search (200ms)
- Lazy loading (modals)


### **Hardware Integration:**

- Thermal printer (ESC/POS protocol)
- Barcode scanner (keyboard wedge)
- Touch screen optimized (large buttons 80px+)


### **Security:**

- PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã)
- Session timeout (15 min)
- Activity logging (–≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è)
- Anomaly detection (fraud prevention)
- Manager approval (high amounts)
- Device fingerprint (terminal tracking)


### **Offline Support:**

- IndexedDB (cache –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 –≥–æ—Å—Ç–µ–π)
- Sync queue (pending transactions)
- Read-only offline (cached data)
- Write with queue (sync later)
- Offline indicator (warning banner)

***

## **üìä UI/UX –û–°–û–ë–ï–ù–ù–û–°–¢–ò**

### **Design Principles:**

1. **Large touch targets** - –º–∏–Ω–∏–º—É–º 60px –¥–ª—è –∫–Ω–æ–ø–æ–∫ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ 80px)
2. **High contrast** - —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ —Å —è—Ä–∫–∏–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏
3. **Minimal text** - –∏–∫–æ–Ω–∫–∏ + –∫–æ—Ä–æ—Ç–∫–∏–µ labels
4. **Single focus** - –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ –Ω–∞ —ç–∫—Ä–∞–Ω
5. **Fast feedback** - instant response –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è
6. **Clear validation** - –æ—à–∏–±–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
7. **Escape hatch** - –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"
8. **No distractions** - –Ω–µ—Ç sidebar, –º–µ–Ω—é, –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### **Touch Screen Optimization:**

- –ö–Ω–æ–ø–∫–∏ 80px+ height
- Gap –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ 16px+
- Swipe gestures (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- No hover states (—Ç–æ–ª—å–∫–æ active/pressed)
- Large font sizes (18px+ –¥–ª—è —Ç–µ–∫—Å—Ç–∞, 24px+ –¥–ª—è —á–∏—Å–µ–ª)


### **Color Coding:**

- üü¢ **Green** - Earn (–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤)
- üî¥ **Red** - Redeem (—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤)
- üü° **Yellow** - Warning (offline, high amount)
- üîµ **Blue** - Info (–ø–æ–º–æ—â—å, –ø–æ–¥—Å–∫–∞–∑–∫–∏)
- ‚ö™ **Gray** - Neutral (–æ—Ç–º–µ–Ω–∞, –Ω–∞–∑–∞–¥)

***

## **üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –î–†–£–ì–ò–ú–ò –ß–ê–°–¢–Ø–ú–ò –°–ò–°–¢–ï–ú–´**

### **Admin Dashboard:**

- Admin —Å–æ–∑–¥–∞—ë—Ç Cashier –∞–∫–∫–∞—É–Ω—Ç (email + –Ω–∞—á–∞–ª—å–Ω—ã–π PIN)
- Admin –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª—ã
- Admin –≤–∏–¥–∏—Ç Activity Log –≤—Å–µ—Ö –∫–∞—Å—Å–∏—Ä–æ–≤
- Admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç fraud detection rules
- Admin —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç max check amount –±–µ–∑ approval


### **Manager Dashboard:**

- Manager –≤–∏–¥–∏—Ç Activity Log —Å–≤–æ–∏—Ö –∫–∞—Å—Å–∏—Ä–æ–≤
- Manager –æ–¥–æ–±—Ä—è–µ—Ç high amount transactions (PIN-–∫–æ–¥)
- Manager –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å Cashier'—É (–∫–Ω–æ–ø–∫–∞ "–ü–æ–∑–≤–∞—Ç—å Manager'–∞")
- Manager –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞—Å—Å–∏—Ä–æ–≤ (–∫—Ç–æ —Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç–∞–ª)


### **Guest Telegram Mini App:**

- –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–Ω–∞—á–∏—Å–ª–µ–Ω–æ/—Å–ø–∏—Å–∞–Ω–æ)
- –ì–æ—Å—Ç—å –≤–∏–¥–∏—Ç –±–∞–ª–∞–Ω—Å –≤ real-time (WebSocket sync)
- –ì–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç QR-–∫–æ–¥ ‚Üí Cashier —Å–∫–∞–Ω–∏—Ä—É–µ—Ç


### **POS Integration:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ —á–µ–∫–∞ (webhook –æ—Ç POS)
- Cashier –≤–∏–¥–∏—Ç –≤ Quick Stats —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ POS
- Fallback: manual –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –µ—Å–ª–∏ POS –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞

***

## **üì± MOBILE VIEW (–¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞ –Ω–∞ –∫–∞—Å—Å–µ)**

**Responsive breakpoints:**

- Desktop (>= 1024px) - Split screen layout
- Tablet (768px - 1023px) - Vertical stack
- Mobile (< 768px) - Single column (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∫–∞—Å—Å)

**Tablet Layout (–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Header (–¢–µ—Ä–º–∏–Ω–∞–ª + Stats)   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ   Search Bar (large)        ‚îÇ
‚îÇ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ   Guest Info Card           ‚îÇ
‚îÇ   (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω)             ‚îÇ
‚îÇ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ   Action Buttons            ‚îÇ
‚îÇ   [–ù–∞—á–∏—Å–ª–∏—Ç—å] [–°–ø–∏—Å–∞—Ç—å]     ‚îÇ
‚îÇ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ   Recent Guests             ‚îÇ
‚îÇ   (grid 2 columns)          ‚îÇ
‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

## **üéì ONBOARDING \& TRAINING**

### **Cashier Onboarding (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ):**

**Step 1: Welcome Screen**

```tsx
<Dialog open={isFirstLogin}>
  <DialogContent className="max-w-2xl">
    <DialogHeader>
      <DialogTitle className="text-3xl">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Max Loyalty!</DialogTitle>
      <DialogDescription>
        –î–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞–∂–µ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–∞—Å—Å–æ–π (–∑–∞–π–º—ë—Ç 2 –º–∏–Ω—É—Ç—ã)
      </DialogDescription>
    </DialogHeader>
    
    <div className="space-y-6">
      <div className="flex items-center gap-4">
        <div className="h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center">
          <Search className="h-8 w-8 text-primary" />
        </div>
        <div>
          <h3 className="font-semibold text-lg">1. –ù–∞–π–¥–∏—Ç–µ –≥–æ—Å—Ç—è</h3>
          <p className="text-secondary">
            –í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω, –∏–º—è –∏–ª–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç—É
          </p>
        </div>
      </div>
      
      <div className="flex items-center gap-4">
        <div className="h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center">
          <Gift className="h-8 w-8 text-primary" />
        </div>
        <div>
          <h3 className="font-semibold text-lg">2. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ–∫</h3>
          <p className="text-secondary">
            –ù–∞—á–∏—Å–ª–∏—Ç–µ –∏–ª–∏ —Å–ø–∏—à–∏—Ç–µ –±–∞–ª–ª—ã
          </p>
        </div>
      </div>
      
      <div className="flex items-center gap-4">
        <div className="h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center">
          <CheckCircle2 className="h-8 w-8 text-primary" />
        </div>
        <div>
          <h3 className="font-semibold text-lg">3. –ì–æ—Ç–æ–≤–æ!</h3>
          <p className="text-secondary">
            –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∏–ª –±–∞–ª–ª—ã –∏–ª–∏ —Å–∫–∏–¥–∫—É
          </p>
        </div>
      </div>
    </div>
    
    <DialogFooter>
      <Button
        variant="outline"
        onClick={() => setShowInteractiveTour(true)}
      >
        –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä
      </Button>
      <Button onClick={handleSkipOnboarding}>
        –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

**Step 2: Interactive Tour (react-joyride):**

- Highlight search bar ‚Üí "–ó–¥–µ—Å—å –∏—â–∏—Ç–µ –≥–æ—Å—Ç—è"
- Highlight recent guests ‚Üí "–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö"
- Highlight quick stats ‚Üí "–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å"
- Highlight register button ‚Üí "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è"
- Highlight help button ‚Üí "–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ"

***

## **üêõ ERROR HANDLING**

### **Common Errors:**

**1. Guest Not Found:**

```tsx
{searchQuery.length >= 3 && searchResults.length === 0 && (
  <Card className="absolute top-full mt-2 w-full">
    <CardContent className="p-8 text-center">
      <UserX className="h-12 w-12 mx-auto mb-3 text-secondary" />
      <p className="text-lg font-semibold mb-2">–ì–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>
      <p className="text-secondary mb-4">
        –ü–æ –∑–∞–ø—Ä–æ—Å—É "{searchQuery}" –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≥–æ—Å—Ç–µ–π
      </p>
      <Button onClick={openRegisterGuest}>
        <UserPlus className="mr-2 h-5 w-5" />
        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è
      </Button>
    </CardContent>
  </Card>
)}
```

**2. Network Error:**

```tsx
{networkError && (
  <Alert variant="destructive" className="mb-4">
    <WifiOff className="h-4 w-4" />
    <AlertTitle>–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</AlertTitle>
    <AlertDescription>
      –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–∑–∂–µ.
    </AlertDescription>
  </Alert>
)}
```

**3. Printer Error:**

```tsx
{printerError && (
  <Alert variant="warning" className="mb-4">
    <Printer className="h-4 w-4" />
    <AlertTitle>–û—à–∏–±–∫–∞ –ø–µ—á–∞—Ç–∏</AlertTitle>
    <AlertDescription>
      –ü—Ä–∏–Ω—Ç–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ Manager'—É.
      <Button variant="link" size="sm" onClick={retryPrint}>
        –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
      </Button>
    </AlertDescription>
  </Alert>
)}
```

**4. Insufficient Balance:**

```tsx
{redeemAmount > guest.ballBalance && (
  <Alert variant="destructive">
    <AlertTriangle className="h-4 w-4" />
    <AlertDescription>
      –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–ª–æ–≤. –£ –≥–æ—Å—Ç—è —Ç–æ–ª—å–∫–æ {guest.ballBalance} –±–∞–ª–ª–æ–≤.
    </AlertDescription>
  </Alert>
)}
```

**5. Redeem Limit Exceeded:**

```tsx
{redeemAmount > maxRedeemForCheck && (
  <Alert variant="destructive">
    <AlertTriangle className="h-4 w-4" />
    <AlertDescription>
      –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Å–ø–∏—Å–∞–Ω–∏—è ({loyaltySettings.redeemLimit}% –æ—Ç —á–µ–∫–∞).
      –ú–∞–∫—Å–∏–º—É–º –º–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å {maxRedeemForCheck} –±–∞–ª–ª–æ–≤ –¥–ª—è —á–µ–∫–∞ –Ω–∞ {formatCurrency(checkAmount)}.
    </AlertDescription>
  </Alert>
)}
```


***

# üéâ **CASHIER POS INTERFACE - –ó–ê–í–ï–†–®–ï–ù–û!**


***

## **–ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï:**

‚úÖ **25 –≤–æ–ø—Ä–æ—Å–æ–≤ —Ä–µ—à–µ–Ω—ã**
‚úÖ **–û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier`** (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç Admin/Manager)
‚úÖ **PIN-–∫–æ–¥ –≤—Ö–æ–¥** (4 —Ü–∏—Ñ—Ä—ã, numpad UI)
‚úÖ **Touch-optimized** (–±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏, –∫—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç)
‚úÖ **Fast search** (debounced, barcode scanner)
‚úÖ **Calculator UI** (earn/redeem –±–∞–ª–ª–æ–≤)
‚úÖ **Minimal permissions** (—Ç–æ–ª—å–∫–æ –∫–∞—Å—Å–∞, –±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)
‚úÖ **Offline support** (IndexedDB + sync queue)
‚úÖ **Thermal printer** (ESC/POS –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ —á–µ–∫–æ–≤)
‚úÖ **Security** (auto-logout, activity log, fraud detection)
‚úÖ **Terminal tracking** (device fingerprint)
‚úÖ **Performance** (< 300KB bundle, code splitting)
‚úÖ **Help system** (FAQ, interactive tour)
‚úÖ **Error handling** (graceful degradation)

***

# üöÄ **–ì–û–¢–û–í –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ë–õ–û–ö–£!**

**–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?**

1. **Guest Telegram Mini App** - –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ—Å—Ç–µ–π (–º–æ—è –∫–∞—Ä—Ç–æ—á–∫–∞, –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∞–∫—Ü–∏–∏, QR-–∫–æ–¥ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–∞—Å—Å–∏—Ä—É)
2. **API Documentation \& Webhooks** - REST API endpoints, authentication, rate limits, webhook events –¥–ª—è POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. **Owner Analytics Deep Dive** - —É–≥–ª—É–±–ª—ë–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è Owner'–∞ (multi-tenant analytics, cross-restaurant comparison, tenant health metrics)

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?** üéØ

---

# üìã **CASHIER POS INTERFACE - –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–®–ï–ù–ò–Ø –ü–û 25 –í–û–ü–†–û–°–ê–ú**


***

## **üéØ 1. ROLE \& PURPOSE**

### **–í–æ–ø—Ä–æ—Å 1: Cashier Interface - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ —á–∞—Å—Ç—å Dashboard?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier` + Fullscreen mode + Touch-optimized UI

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç Admin/Manager Dashboard (–Ω–µ—Ç sidebar, –º–µ–Ω—é, –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- Fullscreen mode –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –∫–∞—Å—Å–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (immersive experience)
- Touch-optimized —Å –±–æ–ª—å—à–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ (80px+ height), –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º (18px+ text, 24px+ numbers)
- Single-purpose –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ = –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ–∫
- Fast loading (< 300KB bundle) –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–∞—Å—Å–µ
- Offline-ready —Å IndexedDB –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º WiFi

**–†–æ—É—Ç—ã:**

```
/cashier/login              ‚Üí PIN-–∫–æ–¥ –≤—Ö–æ–¥
/cashier                    ‚Üí Main Screen (search + quick actions)
/cashier/guest/:id          ‚Üí Guest Quick View
/cashier/register-guest     ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è
/cashier/transaction/:id    ‚Üí Receipt screen
/cashier/print-card/:id     ‚Üí Print layout
```


***

### **–í–æ–ø—Ä–æ—Å 2: Cashier Authentication - –∫–∞–∫ Cashier –ª–æ–≥–∏–Ω–∏—Ç—Å—è?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã) + Optional Email/Password fallback

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã) - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–º–µ–Ω—ã –∫–∞—Å—Å–∏—Ä–æ–≤ (–≤—Ö–æ–¥ –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã)
- Numpad UI —Å –±–æ–ª—å—à–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞ (–∫–∞–∫ –±–∞–Ω–∫–æ–º–∞—Ç)
- Session timeout 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- Fallback Email/Password –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –∑–∞–±—ã–ª PIN (—Å—Å—ã–ª–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ email")
- Admin assigns PIN –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Cashier –∞–∫–∫–∞—É–Ω—Ç–∞ (–∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å –ø–æ–∑–∂–µ)

**UI Login:**

- 4 –∫—Ä—É–≥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö —Ü–∏—Ñ—Ä (‚óè‚óè‚óè‚óè)
- Numpad 3x4 (1-9, C, 0, Backspace)
- Large buttons (80px height, text-2xl)
- Error message –µ—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π PIN
- Auto-submit –ø–æ—Å–ª–µ 4-–π —Ü–∏—Ñ—Ä—ã

***

### **–í–æ–ø—Ä–æ—Å 3: Cashier Permissions - —á—Ç–æ Cashier –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ—Å–º–æ—Ç—Ä + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É + –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç–µ–π (–±–µ–∑ —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏, –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è, –±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Cashier –ú–û–ñ–ï–¢:**

- –ò—Å–∫–∞—Ç—å –≥–æ—Å—Ç—è (–ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, –∫–∞—Ä—Ç–µ, –∏–º–µ–Ω–∏, QR-–∫–æ–¥—É)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å (Regular + Promo balls)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –≥–æ—Å—Ç—è –∏ earn bonus
- –ù–∞—á–∏—Å–ª—è—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç: —Å—É–º–º–∞ √ó earn rate √ó level bonus)
- –°–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π redeem limit
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è (—Ç–µ–ª–µ—Ñ–æ–Ω + –∏–º—è + –î–† optional)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (last 3)
- –ü–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏ —á–µ–∫–∏
- –°–º–µ–Ω–∏—Ç—å —Å–≤–æ–π PIN-–∫–æ–¥

**Cashier –ù–ï –ú–û–ñ–ï–¢:**

- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –≥–æ—Å—Ç—è (–∏–º—è, email, –¥–µ—Ç–∏) - —Ç–æ–ª—å–∫–æ Manager/Admin
- –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–ª–æ–≤ (arbitrary adjustment –±–µ–∑ —á–µ–∫–∞)
- –£–¥–∞–ª—è—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç–µ–π
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –í–∏–¥–µ—Ç—å –ø–æ–ª–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–∏
- –ú–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ loyalty
- –í–∏–¥–µ—Ç—å Activity Log

**–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–≤:**

```
–î–µ–π—Å—Ç–≤–∏–µ                    Admin  Manager  Cashier
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ü–æ–∏—Å–∫ –≥–æ—Å—Ç—è                 ‚úì      ‚úì        ‚úì
–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞            ‚úì      ‚úì        ‚úì
–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ —á–µ–∫—É          ‚úì      ‚úì        ‚úì
–°–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É            ‚úì      ‚úì        ‚úì
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è           ‚úì      ‚úì        ‚úì (minimal)
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è      ‚úì      ‚úì        ‚úï
–†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞        ‚úì      ‚úì*       ‚úï
–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏     ‚úì      ‚úì        ‚úï (only last 3)
Analytics                   ‚úì      ‚úì        ‚úï
Loyalty Builder             ‚úì      ‚úì*       ‚úï
Export                      ‚úì      ‚úì*       ‚úï
Delete guests               ‚úì      ‚úï        ‚úï
```


***

## **üîç 2. MAIN SCREEN (SEARCH \& QUICK ACTIONS)**

### **–í–æ–ø—Ä–æ—Å 4: Main Screen Layout - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Cashier'—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Search bar –ø–æ —Ü–µ–Ω—Ç—Ä—É + Recent Guests (last 10) + Quick Stats (3 –º–µ—Ç—Ä–∏–∫–∏)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Focus on search - –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∫–∞—Å—Å–∏—Ä–∞ = –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è ‚Üí Search bar –∫—Ä—É–ø–Ω—ã–π, –ø–æ —Ü–µ–Ω—Ç—Ä—É, –∞–≤—Ç–æ—Ñ–æ–∫—É—Å
- Recent Guests –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –≥–æ—Å—Ç–µ–π (–∫–∞—Å—Å–∏—Ä —á–∞—Å—Ç–æ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤) ‚Üí one-click access
- Quick Stats (–ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ) –≤ header –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏
- Quick Actions: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è" –∏ "–ü–æ–º–æ—â—å" (–∫—Ä—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
- Clean layout –±–µ–∑ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (no sidebar, no navigation)

**Header:**

- Logo + Restaurant name —Å–ª–µ–≤–∞
- Quick Stats –ø–æ —Ü–µ–Ω—Ç—Ä—É
- Cashier profile + Terminal dropdown —Å–ø—Ä–∞–≤–∞

**Main Content:**

- Hero section: –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–ù–∞–π—Ç–∏ –≥–æ—Å—Ç—è" + –æ–ø–∏—Å–∞–Ω–∏–µ
- Large search input (h-20, text-2xl)
- Search results dropdown (–µ—Å–ª–∏ –µ—Å—Ç—å)
- Quick action buttons
- Recent guests grid (2 columns)

***

### **–í–æ–ø—Ä–æ—Å 5: Guest Search - –∫–∞–∫ –∏—Å–∫–∞—Ç—å –±—ã—Å—Ç—Ä–æ –Ω–∞ –∫–∞—Å—Å–µ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Debounced search (200ms) + Barcode scanner support + Phone normalization

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Debounced 200ms - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –Ω–∞–≥—Ä—É–∑–∫–æ–π (–Ω–µ –±–æ–º–±–∞—Ä–¥–∏—Ä—É–µ–º API –Ω–∞ –∫–∞–∂–¥—É—é –±—É–∫–≤—É)
- Min 3 chars –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–∏—Å–∫–∞ (–∏–∑–±–µ–≥–∞–µ–º —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- Barcode scanner support –¥–ª—è QR-–∫–æ–¥–æ–≤ –∫–∞—Ä—Ç (–µ—Å–ª–∏ –∫–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `MLTY-` ‚Üí direct lookup)
- Phone normalization –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è: `8 999 123-45-67` ‚Üí `+79991234567`
- Fuzzy search –Ω–∞—Ö–æ–¥–∏—Ç —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ (–ò–≤–∞–Ω ‚Üí –ò–≤–Ω, Ivan)

**Search Logic:**

```typescript
const handleSearch = useDebouncedCallback(async (query: string) => {
  if (query.length < 3) return;
  
  // Check if QR code
  if (query.startsWith('MLTY-')) {
    const guest = await api.guests.findByCard(query);
    if (guest) selectGuest(guest);
    return;
  }
  
  // Normalize phone
  const normalizedPhone = normalizePhone(query);
  
  // Search
  const results = await api.guests.search({
    query: normalizedPhone || query,
    limit: 10
  });
  
  setSearchResults(results);
}, 200);
```

**Barcode Scanner Integration:**

- Listen for fast keyboard input (< 50ms between chars)
- Buffer characters until Enter
- If starts with `MLTY-` ‚Üí direct guest lookup

***

### **–í–æ–ø—Ä–æ—Å 6: Search Results - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Dropdown —Å–ø–∏—Å–æ–∫ –ø–æ–¥ search bar (–∫–∞–∫ autocomplete)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Instant access - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ–¥ search bar (–Ω–µ –Ω—É–∂–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç—å)
- Focus retention - search bar –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Ñ–æ–∫—É—Å–µ, –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
- One click to select - –∫–ª–∏–∫ –Ω–∞ –≥–æ—Å—Ç—è ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guest Quick View
- Compact - –ø–æ–º–µ—â–∞–µ—Ç—Å—è 5-7 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω (–µ—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí scroll –≤ dropdown)
- Visual - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å (–≤—Å—è –∫—Ä–∏—Ç–∏—á–Ω–∞—è –∏–Ω—Ñ–æ)

**Result Item:**

- Avatar (48px) —Å–ª–µ–≤–∞
- –ò–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ü–µ–Ω—Ç—Ä–µ
- –£—Ä–æ–≤–µ–Ω—å (badge) + –±–∞–ª–∞–Ω—Å —Å–ø—Ä–∞–≤–∞
- Chevron icon (‚Üí) –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è "–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ"
- Hover state –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞ (bg-card-hover)

***

## **üë§ 3. GUEST QUICK VIEW**

### **–í–æ–ø—Ä–æ—Å 7: Guest Quick View - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å Cashier'—É –æ –≥–æ—Å—Ç–µ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Split screen layout (–∏–Ω—Ñ–æ —Å–ª–µ–≤–∞, actions —Å–ø—Ä–∞–≤–∞) + Bottom quick actions

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Split screen —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –Ω–∞ —à–∏—Ä–æ–∫–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ –∫–∞—Å—Å—ã
- Left Panel: Guest Info - –∞–≤–∞—Ç–∞—Ä (96px), –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–∞–Ω—Å (Regular + Promo), –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- Right Panel: Check Actions - 2 –±–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏ (h-32, text-2xl): "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã" –∏ "–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã"
- Bottom Bar: Quick Actions - "–ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É", "–ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏", "–ü–æ–∑–≤–∞—Ç—å Manager'–∞"
- No tabs - –≤—Å—ë –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ (–∫–∞—Å—Å–∏—Ä –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏)
- Large touch targets - –∫–Ω–æ–ø–∫–∏ –±–æ–ª—å—à–∏–µ –¥–ª—è —Ç–∞—á-—ç–∫—Ä–∞–Ω–∞

**Left Panel —Å–æ–¥–µ—Ä–∂–∏—Ç:**

- Guest header (avatar + name + phone + email)
- Loyalty level card (—É—Ä–æ–≤–µ–Ω—å + earn bonus + lifetime spent)
- Ball balance card (–±–∞–ª–∞–Ω—Å + –ø—Ä–æ–º–æ-–±–∞–ª–ª—ã + —Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å)
- Recent transactions (last 3 with type, amount, date)

**Right Panel:**

- Centered vertically
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ–∫–∞"
- –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã" (success style, large)
- –ö–Ω–æ–ø–∫–∞ "–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã" (outline, large, disabled –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å = 0)

***

### **–í–æ–ø—Ä–æ—Å 8: Earn Balls Modal - –∫–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã –ø–æ —á–µ–∫—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Calculator UI (numpad) + Real-time calculation preview + Breakdown

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Calculator UI —Å –∫–Ω–æ–ø–∫–∞–º–∏ 0-9 (80px height) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–≤–æ–¥–∞ —Å—É–º–º—ã –Ω–∞ —Ç–∞—á-—ç–∫—Ä–∞–Ω–µ
- Real-time preview –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–∏—Ç—Å—è (—Å—É–º–º–∞ √ó earn rate √ó level bonus)
- Large display –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É–º–º—É —á–µ–∫–∞ (text-5xl) –∏ –Ω–∞—á–∏—Å–ª—è–µ–º—ã–µ –±–∞–ª–ª—ã
- Calculation breakdown card –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –±–∞–∑–æ–≤–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ + –±–æ–Ω—É—Å —É—Ä–æ–≤–Ω—è = –∏—Ç–æ–≥–æ
- Clear validation: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ —á–µ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä 100‚ÇΩ), –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è error alert
- Confirmation button disabled –ø–æ–∫–∞ –Ω–µ –≤–≤–µ–¥–µ–Ω–∞ –≤–∞–ª–∏–¥–Ω–∞—è —Å—É–º–º–∞

**UI Elements:**

- Check amount display (bg-muted, rounded-xl, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- Numpad grid 3x3 + C/0/Backspace
- Breakdown card —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞—Å—á—ë—Ç–∞
- Validation alert –µ—Å–ª–∏ —Å—É–º–º–∞ < min check amount
- Footer buttons: –û—Ç–º–µ–Ω–∞ | –ù–∞—á–∏—Å–ª–∏—Ç—å X –±–∞–ª–ª–æ–≤

**Calculation:**

```typescript
baseEarn = floor(checkAmount √ó earnPercent / 100)
levelBonus = floor(checkAmount √ó guestEarnBonus / 100)
total = baseEarn + levelBonus
```


***

### **–í–æ–ø—Ä–æ—Å 9: Redeem Balls Modal - –∫–∞–∫ —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Preset buttons + Calculator UI + Custom input + Check amount –¥–ª—è redeem limit

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Preset buttons (100, 500, 1000, –í—Å—ë) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—É–º–º
- Calculator UI (numpad) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—É–º–º—ã
- Check amount input –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ redeem limit (–º–∞–∫—Å–∏–º—É–º X% –æ—Ç —á–µ–∫–∞ –º–æ–∂–Ω–æ —Å–ø–∏—Å–∞—Ç—å)
- Real-time discount preview (–±–∞–ª–ª—ã = —Ä—É–±–ª–∏ —Å–∫–∏–¥–∫–∏, 1:1)
- Max limit enforcement - –Ω–µ –º–æ–∂–µ—Ç —Å–ø–∏—Å–∞—Ç—å –±–æ–ª—å—à–µ –±–∞–ª–∞–Ω—Å–∞ –∏–ª–∏ –±–æ–ª—å—à–µ redeem limit % –æ—Ç —á–µ–∫–∞
- Balance after –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–∞–ª–ª–æ–≤

**UI Elements:**

- Redemption amount display (text-5xl, text-danger)
- Preset buttons grid 1x4
- Numpad grid 3x3
- Check amount input field (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ redeem limit)
- Calculation card: —Å–ø–∏—Å–∞—Ç—å | —Å–∫–∏–¥–∫–∞ | –æ—Å—Ç–∞–Ω–µ—Ç—Å—è
- Validation alerts: insufficient balance, redeem limit exceeded
- Footer buttons: –û—Ç–º–µ–Ω–∞ | –°–ø–∏—Å–∞—Ç—å X –±–∞–ª–ª–æ–≤ (destructive style)

**Validation:**

```typescript
if (redeemAmount > guest.ballBalance) ‚Üí error
if (redeemAmount > checkAmount √ó redeemLimit / 100) ‚Üí error
```


***

### **–í–æ–ø—Ä–æ—Å 10: Transaction Confirmation - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—à–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Receipt screen (–∫–∞–∫ —á–µ–∫) + Auto-redirect —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ + Print button

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Receipt screen –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂ –Ω–∞ —á–µ–∫ (–∑–Ω–∞–∫–æ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≥–æ—Å—Ç—è –∏ –∫–∞—Å—Å–∏—Ä–∞)
- All details: —á—Ç–æ —Å–¥–µ–ª–∞–ª–∏, —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤, —Å—É–º–º–∞ —á–µ–∫–∞, –±–∞–ª–∞–Ω—Å –¥–æ/–ø–æ—Å–ª–µ, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –∫–∞—Å—Å–∏—Ä, ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- Large success icon (CheckCircle2, 96px, green)
- Print button –¥–ª—è –ø–µ—á–∞—Ç–∏ —á–µ–∫–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º
- Auto-redirect —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞ Main Screen (–¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è)
- Manual "–ì–æ—Ç–æ–≤–æ" button –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞
- Countdown –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ X —Å–µ–∫"

**Receipt —Å–æ–¥–µ—Ä–∂–∏—Ç:**

- Success icon + –∑–∞–≥–æ–ª–æ–≤–æ–∫
- –ò–º—è –≥–æ—Å—Ç—è
- Transaction amount (text-6xl, colored)
- Details: —Å—É–º–º–∞ —á–µ–∫–∞, –±–∞–ª–∞–Ω—Å –¥–æ/–ø–æ—Å–ª–µ
- Meta: timestamp, –∫–∞—Å—Å–∏—Ä, transaction ID
- Actions: –ü–µ—á–∞—Ç—å —á–µ–∫–∞ | –ì–æ—Ç–æ–≤–æ

***

## **‚ûï 4. REGISTER GUEST**

### **–í–æ–ø—Ä–æ—Å 11: Register Guest Form - –∫–∞–∫–∏–µ –ø–æ–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω—É–∂–Ω—ã?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –¢–µ–ª–µ—Ñ–æ–Ω* + –ò–º—è* + –§–∞–º–∏–ª–∏—è + –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (optional)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –¢–µ–ª–µ—Ñ–æ–Ω (required) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞, used for notifications
- –ò–º—è (required) - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–∫–∞—Å—Å–∏—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏)
- –§–∞–º–∏–ª–∏—è (optional) - –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏—Ç—å –≥–æ—Å—Ç–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (optional) - –¥–ª—è birthday promo, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –∫–∞—Å—Å–µ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
- Email, –î–µ—Ç–∏, –ê–¥—Ä–µ—Å –ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º (—Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, –≥–æ—Å—Ç—å —Ç–æ—Ä–æ–ø–∏—Ç—Å—è) - Manager –¥–æ–±–∞–≤–∏—Ç –ø–æ–∑–∂–µ
- Auto-generate card (QR-–∫–æ–¥ + 6-digit display code) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

**Form Flow:**

1. Phone input (autofocus, tel format, validation)
2. First name input (required)
3. Last name input (optional)
4. Birthday input (date picker, optional)
5. Info alert: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ"
6. Buttons: –û—Ç–º–µ–Ω–∞ | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å

**–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**

- Guest —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –Ω–∞—á–∞–ª—å–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º Bronze
- GuestCard –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ë–∞–ª–∞–Ω—Å = 0 (–∏–ª–∏ welcome bonus –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- Redirect –Ω–∞ Guest Quick View ‚Üí –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —á–µ–∫

***

### **–í–æ–ø—Ä–æ—Å 12: Duplicate Phone Detection - —á—Ç–æ –µ—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –µ—Å—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Alert —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Prevent duplicates - –æ–¥–∏–Ω —Ç–µ–ª–µ—Ñ–æ–Ω = –æ–¥–∏–Ω –≥–æ—Å—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π identifier)
- User-friendly - –∫–∞—Å—Å–∏—Ä —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç "–ì–æ—Å—Ç—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω" + –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ
- Fast recovery - –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –≥–æ—Å—Ç—è" –≤–µ–¥—ë—Ç –≤ Guest Quick View (–Ω–µ —Ç–µ—Ä—è–µ–º –≤—Ä–µ–º—è)
- –ö–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –∏ –≤–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –µ—Å–ª–∏ –æ—à–∏–±—Å—è

**UI Duplicate Alert:**

- Warning alert –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–ì–æ—Å—Ç—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
- Guest card preview (avatar, name, phone, level, balance)
- Buttons: –û—Ç–º–µ–Ω–∞ | –û—Ç–∫—Ä—ã—Ç—å –≥–æ—Å—Ç—è

***

## **üñ®Ô∏è 5. PRINT \& RECEIPTS**

### **–í–æ–ø—Ä–æ—Å 13: Print Loyalty Card - –∫–∞–∫ –ø–µ—á–∞—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Thermal printer (ESC/POS) + Fallback browser print

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Thermal printer standard –Ω–∞ –∫–∞—Å—Å–∞—Ö (80mm width —á–µ–∫–æ–≤—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä)
- ESC/POS protocol –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
- Instant print - –∫–ª–∏–∫ ‚Üí –ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ä–∞–∑—É (–±–µ–∑ –¥–∏–∞–ª–æ–≥–æ–≤)
- Fallback browser print –µ—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
- Card layout: QR-–∫–æ–¥ (150x150px) + 6-digit display code + –∏–º—è + —É—Ä–æ–≤–µ–Ω—å + –±–∞–ª–∞–Ω—Å + —Ç–µ–ª–µ—Ñ–æ–Ω

**Print Layout (80mm thermal):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      MAX LOYALTY               ‚îÇ
‚îÇ      –†–µ—Å—Ç–æ—Ä–∞–Ω "–ú–∞–∫—Å"           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   [QR-–∫–æ–¥ 150x150px]           ‚îÇ
‚îÇ        000123                  ‚îÇ
‚îÇ   (–ø–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤                   ‚îÇ
‚îÇ  ü•á Gold                       ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å: 2,850 –±–∞–ª–ª–æ–≤          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  +7 999 123-45-67              ‚îÇ
‚îÇ  maxloyalty.app                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Implementation:**

- ThermalPrinter class —Å ESC/POS commands
- QR code printing (printQRCode method)
- Text formatting (size, alignment)
- Cut command –ø–æ—Å–ª–µ –ø–µ—á–∞—Ç–∏
- Error handling —Å retry option

***

### **–í–æ–ø—Ä–æ—Å 14: Print Transaction Receipt - –ø–µ—á–∞—Ç–∞—Ç—å –ª–∏ —á–µ–∫ –ø–æ—Å–ª–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Optional –ø–µ—á–∞—Ç—å (–∫–Ω–æ–ø–∫–∞ "–ü–µ—á–∞—Ç—å —á–µ–∫–∞" –Ω–∞ Receipt screen)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Optional - –Ω–µ –≤—Å–µ –≥–æ—Å—Ç–∏ —Ö–æ—Ç—è—Ç –±—É–º–∞–∂–Ω—ã–π —á–µ–∫ (—ç–∫–æ–ª–æ–≥–∏—è, –º–∏–Ω–∏–º–∞–ª–∏–∑–º)
- Fast - –∫–∞—Å—Å–∏—Ä —Ä–µ—à–∞–µ—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É –≥–æ—Å—Ç—è
- Thermal printer - –±—ã—Å—Ç—Ä–∞—è –ø–µ—á–∞—Ç—å –Ω–∞ —á–µ–∫–æ–≤–æ–º –ø—Ä–∏–Ω—Ç–µ—Ä–µ
- Compact receipt: –¥–∞—Ç–∞, —Å—É–º–º–∞ —á–µ–∫–∞, –±–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã/—Å–ø–∏—Å–∞–Ω—ã, –±–∞–ª–∞–Ω—Å –¥–æ/–ø–æ—Å–ª–µ, –∫–∞—Å—Å–∏—Ä, ID

**Receipt Layout (80mm thermal):**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      MAX LOYALTY               ‚îÇ
‚îÇ      –†–µ—Å—Ç–æ—Ä–∞–Ω "–ú–∞–∫—Å"           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ß–µ–∫ ‚Ññ123456                   ‚îÇ
‚îÇ  16.02.2026 14:35              ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –ì–æ—Å—Ç—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤            ‚îÇ
‚îÇ  –ö–∞—Ä—Ç–∞: 000123                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –°—É–º–º–∞ —á–µ–∫–∞:    2,000 ‚ÇΩ        ‚îÇ
‚îÇ  –ù–∞—á–∏—Å–ª–µ–Ω–æ:       +200 –±.      ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å –¥–æ:     2,650 –±.       ‚îÇ
‚îÇ  –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ:  2,850 –±.       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ö–∞—Å—Å–∏—Ä: –ê–Ω–Ω–∞ –ü.               ‚îÇ
‚îÇ  –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!           ‚îÇ
‚îÇ  maxloyalty.app                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```


***

## **‚öôÔ∏è 6. SETTINGS \& HELP**

### **–í–æ–ø—Ä–æ—Å 15: Cashier Settings - —á—Ç–æ Cashier –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** PIN-–∫–æ–¥ + –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ + Printer settings

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –°–º–µ–Ω–∞ PIN-–∫–æ–¥–∞ - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (4-digit PIN input —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ - –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ –∫–∞—Å—Å–∏—Ä—ã (dropdown —Å —è–∑—ã–∫–∞–º–∏)
- Printer settings - –≤—ã–±–æ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ, test print –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- Minimal settings - —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ (–Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ–º –æ—Ç —Ä–∞–±–æ—Ç—ã)

**Settings –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Profile Dropdown:**

- –°–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥ ‚Üí Modal —Å numpad (Current PIN | New PIN | Confirm PIN)
- –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Üí Select dropdown
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏ ‚Üí Modal (–í—ã–±–æ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–∞ | –¢–µ—Å—Ç–æ–≤–∞—è –ø–µ—á–∞—Ç—å)
- –ü–æ–º–æ—â—å ‚Üí Help Modal
- –í—ã–π—Ç–∏ ‚Üí Logout

**Change PIN Modal:**

- 3 —Å–µ–∫—Ü–∏–∏: Current PIN (4 circles), New PIN (4 circles), Confirm PIN (4 circles)
- Numpad 3x3 –¥–ª—è –≤–≤–æ–¥–∞
- Validation: current PIN must be correct, new PIN must match confirm
- Error alert –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

***

### **–í–æ–ø—Ä–æ—Å 16: Help Screen - –∫–∞–∫ –ø–æ–º–æ—á—å Cashier'—É –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** FAQ + Quick Guide + Contact support

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- FAQ - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (Accordion UI)
- Quick Guide - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"
- Contact Support - –∫–Ω–æ–ø–∫–∏ "–ü–æ–∑–≤–∞—Ç—å Manager'–∞" –∏ "–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞"
- –í—Å—Ç—Ä–æ–µ–Ω–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–µ –Ω—É–∂–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- Searchable FAQ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç–∞

**FAQ Topics:**

1. –ö–∞–∫ –Ω–∞–π—Ç–∏ –≥–æ—Å—Ç—è? (Search by phone/name/card/QR)
2. –ö–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã? (Step-by-step)
3. –ö–∞–∫ —Å–ø–∏—Å–∞—Ç—å –±–∞–ª–ª—ã? (Step-by-step + redeem limit explanation)
4. –ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è? (Minimal fields)
5. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ –ø–µ—á–∞—Ç–∞–µ—Ç? (Troubleshooting)

**Quick Guide:**

- Step 1: –í–æ–π–¥–∏—Ç–µ (PIN-–∫–æ–¥)
- Step 2: –ù–∞–π–¥–∏—Ç–µ –≥–æ—Å—Ç—è (Search)
- Step 3: –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ–∫ (Earn/Redeem)
- Step 4: –ì–æ—Ç–æ–≤–æ!

**Contact Support:**

- "–ü–æ–∑–≤–∞—Ç—å Manager'–∞" button (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Manager'—É)
- "–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞" button (opens support.maxloyalty.app)

***

## **üîÑ 7. OFFLINE MODE \& SYNC**

### **–í–æ–ø—Ä–æ—Å 17: Offline Support - —á—Ç–æ –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω–∞ –∫–∞—Å—Å–µ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** IndexedDB cache + Sync Queue (limited offline mode)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- IndexedDB –∫–µ—à–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 –≥–æ—Å—Ç–µ–π (most frequent visitors)
- Sync Queue —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤–µ—Ä–Ω—ë—Ç—Å—è
- Read-only offline - –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å cached –≥–æ—Å—Ç–µ–π, –≤–∏–¥–µ—Ç—å –±–∞–ª–∞–Ω—Å (–Ω–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ)
- Write with queue - –º–æ–∂–Ω–æ –Ω–∞—á–∏—Å–ª—è—Ç—å/—Å–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã ‚Üí —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –æ—á–µ—Ä–µ–¥—å ‚Üí sync later
- Offline indicator (warning banner) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã
- Conflicts –≤–æ–∑–º–æ–∂–Ω—ã –µ—Å–ª–∏ –≥–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–∞–ª–ª—ã –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ while offline (–Ω–æ —Ä–µ–¥–∫–æ)

**Offline Flow:**

1. WiFi –ø—Ä–æ–ø–∞–ª ‚Üí offline event trigger
2. –ü–æ–∫–∞–∑–∞—Ç—å warning banner "–†–µ–∂–∏–º –æ—Ñ–ª–∞–π–Ω"
3. Search —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ cached –≥–æ—Å—Ç—è–º (IndexedDB)
4. Transaction —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ sync queue (IndexedDB)
5. Guest balance –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (optimistic update)
6. WiFi –≤–µ—Ä–Ω—É–ª—Å—è ‚Üí online event trigger
7. Sync queue –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è (POST transactions to API)
8. Toast "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ X —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"

**Sync Queue Implementation:**

```typescript
interface QueuedTransaction {
  id: string;
  guestId: string;
  type: 'EARN' | 'REDEEM';
  amount: number;
  checkAmount?: number;
  createdAt: string;
  status: 'PENDING' | 'SYNCED' | 'FAILED';
}

async function syncQueue() {
  const pending = await db.syncQueue.where('status').equals('PENDING').toArray();
  
  for (const tx of pending) {
    try {
      await api.transactions.create(tx);
      await db.syncQueue.update(tx.id, { status: 'SYNCED' });
    } catch (error) {
      await db.syncQueue.update(tx.id, { status: 'FAILED' });
    }
  }
}
```


***

### **–í–æ–ø—Ä–æ—Å 18: Auto-logout on Inactivity - –∫–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Auto-logout —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è + Warning –∑–∞ 1 –º–∏–Ω—É—Ç—É

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Security - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä —É—à—ë–ª
- 15 –º–∏–Ω—É—Ç - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —É–¥–æ–±—Å—Ç–≤–æ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é (–∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –æ—Ç–æ–π—Ç–∏ –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤)
- Warning –∑–∞ 1 –º–∏–Ω—É—Ç—É - Modal —Å countdown "–í—ã –±—É–¥–µ—Ç–µ –≤—ã–≤–µ–¥–µ–Ω—ã —á–µ—Ä–µ–∑ 60 —Å–µ–∫"
- Continue button - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç –ø—Ä–æ–¥–ª–∏—Ç—å —Å–µ—Å—Å–∏—é –∫–ª–∏–∫–æ–º
- Activity detection - –ª—é–±–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏/–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã/—Ç–∞—á —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä

**Inactivity Timer:**

```typescript
const INACTIVITY_TIMEOUT = 15 * 60 * 1000; // 15 min
const WARNING_BEFORE = 60 * 1000; // 1 min

useEffect(() => {
  let timer, warningTimer;
  
  const resetTimer = () => {
    clearTimeout(timer);
    clearTimeout(warningTimer);
    
    warningTimer = setTimeout(() => {
      setShowWarning(true);
      setCountdown(60);
    }, INACTIVITY_TIMEOUT - WARNING_BEFORE);
    
    timer = setTimeout(() => {
      handleLogout();
    }, INACTIVITY_TIMEOUT);
  };
  
  ['mousedown', 'keydown', 'touchstart'].forEach(event => {
    window.addEventListener(event, resetTimer);
  });
  
  resetTimer();
}, []);
```

**Warning Modal:**

- Title: "–í—ã –µ—â—ë –∑–¥–µ—Å—å?"
- Countdown: "60" (text-6xl, decrementing)
- Buttons: –í—ã–π—Ç–∏ —Å–µ–π—á–∞—Å | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É

***

## **üìä 8. CASHIER ANALYTICS (LIMITED)**

### **–í–æ–ø—Ä–æ—Å 19: Cashier Stats - –≤–∏–¥–∏—Ç –ª–∏ Cashier —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ —Å–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ header (3 –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Motivation - –∫–∞—Å—Å–∏—Ä –≤–∏–¥–∏—Ç —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å (–≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã)
- Minimal - —Ç–æ–ª—å–∫–æ 3 –º–µ—Ç—Ä–∏–∫–∏ (–Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã)
- No comparison - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥—Ä—É–≥–∏—Ö –∫–∞—Å—Å–∏—Ä–æ–≤ (–∏–∑–±–µ–≥–∞–µ–º –Ω–µ–∑–¥–æ—Ä–æ–≤–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏)
- Today only - —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ)

**Quick Stats (–≤ header):**

- –ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥–æ—Å—Ç–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–∞—Å—Å–∏—Ä–æ–º)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (earn + redeem –æ–ø–µ—Ä–∞—Ü–∏–π)
- –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ (total earned balls –∑–∞ –¥–µ–Ω—å)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**

```tsx
<div className="flex gap-6 text-sm">
  <div>
    <div className="text-secondary">–ì–æ—Å—Ç–µ–π —Å–µ–≥–æ–¥–Ω—è</div>
    <div className="text-xl font-bold">42</div>
  </div>
  <div>
    <div className="text-secondary">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</div>
    <div className="text-xl font-bold">58</div>
  </div>
  <div>
    <div className="text-secondary">–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ</div>
    <div className="text-xl font-bold">12,450</div>
  </div>
</div>
```


***

### **–í–æ–ø—Ä–æ—Å 20: Recent Guests Widget - –∫–∞–∫ –ø–æ–º–æ—á—å Cashier'—É —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Recent Guests –Ω–∞ Main Screen (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –≥–æ—Å—Ç–µ–π —ç—Ç–æ–≥–æ –∫–∞—Å—Å–∏—Ä–∞)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Speed - one-click access –±–µ–∑ search (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã)
- Personalization - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≥–æ—Å—Ç–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≠–¢–ò–ú –∫–∞—Å—Å–∏—Ä–æ–º (–Ω–µ –≤—Å–µ—Ö, –Ω–µ –¥—Ä—É–≥–∏—Ö –∫–∞—Å—Å–∏—Ä–æ–≤)
- Persistent - —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏)
- Move to top - –µ—Å–ª–∏ –≥–æ—Å—Ç—å —É–∂–µ –≤ —Å–ø–∏—Å–∫–µ, –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞–≤–µ—Ä—Ö
- Limit 10 - –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ–º —ç–∫—Ä–∞–Ω

**Recent Guests Grid:**

- 2 columns layout
- Guest cards —Å hover effect
- Avatar + Name + Phone + Level badge + Balance
- Click ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Guest Quick View

**Storage Logic:**

```typescript
function addToRecentGuests(guest: Guest) {
  let recent = JSON.parse(localStorage.getItem('cashier_recent_guests') || '[]');
  
  // Remove if exists
  recent = recent.filter(g => g.id !== guest.id);
  
  // Add to top
  recent.unshift(guest);
  
  // Keep only 10
  recent = recent.slice(0, 10);
  
  localStorage.setItem('cashier_recent_guests', JSON.stringify(recent));
}
```


***

## **‚ö° 9. PERFORMANCE \& OPTIMIZATION**

### **–í–æ–ø—Ä–æ—Å 21: Keyboard Shortcuts - –Ω—É–∂–Ω—ã –ª–∏ —Ö–æ—Ç–∫–µ–∏ –¥–ª—è –∫–∞—Å—Å–∏—Ä–∞?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–µ shortcuts –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (F1-F5, ESC, Enter)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Speed - –æ–ø—ã—Ç–Ω—ã–π –∫–∞—Å—Å–∏—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 30% –±—ã—Å—Ç—Ä–µ–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- Minimal learning curve - —Ç–æ–ª—å–∫–æ –æ—á–µ–≤–∏–¥–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è
- Optional - –º—ã—à—å/—Ç–∞—á –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (—Ö–æ—Ç–∫–µ–∏ = enhancement)
- Standard keys - F-keys –∑–Ω–∞–∫–æ–º—ã –≤—Å–µ–º

**Keyboard Shortcuts:**

```
F1  ‚Üí –ü–æ–º–æ—â—å
F2  ‚Üí Focus –Ω–∞ –ø–æ–∏—Å–∫
F3  ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ—Å—Ç—è
F5  ‚Üí Refresh –¥–∞–Ω–Ω—ã—Ö
ESC ‚Üí –ó–∞–∫—Ä—ã—Ç—å modal / –ù–∞–∑–∞–¥
Enter ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
0-9 ‚Üí Numpad input (–≤ modals)
```

**Implementation:**

```typescript
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    if (e.key === 'F1') {
      e.preventDefault();
      setShowHelp(true);
    }
    if (e.key === 'F2') {
      e.preventDefault();
      searchInputRef.current?.focus();
    }
    if (e.key === 'Escape') {
      closeAllModals();
    }
  };
  
  window.addEventListener('keydown', handleKeyDown);
  return () => removeEventListener('keydown', handleKeyDown);
}, []);
```

**Shortcuts Help Card (–≤ Help Modal):**

- Table —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏: Key | Action
- F1 ‚Üí –ü–æ–º–æ—â—å, F2 ‚Üí –ü–æ–∏—Å–∫, F3 ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, ESC ‚Üí –ù–∞–∑–∞–¥

***

### **–í–æ–ø—Ä–æ—Å 22: Bundle Size Optimization - –∫–∞–∫ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Code splitting + Minimal dependencies + Tree shaking + Service Worker

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Code splitting - –æ—Ç–¥–µ–ª—å–Ω—ã–π chunk –¥–ª—è `/cashier` routes (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º Admin/Manager –∫–æ–¥)
- Tree shaking - —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ shadcn/ui
- No heavy libs - –∏–∑–±–µ–≥–∞–µ–º Recharts (–Ω–µ –Ω—É–∂–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞—Å—Å–∏—Ä—É), no Recharts, no date-fns-tz
- Critical CSS inline - –ø–µ—Ä–≤—ã–π render –±–µ–∑ FOUC
- Service Worker - –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ assets –¥–ª—è instant –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
- Lazy loading - modals –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è on-demand

**Bundle Size Target:**

- Initial load: < 100KB gzipped (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ WiFi)
- Total: < 300KB gzipped
- Time to Interactive: < 2 seconds

**Webpack Config:**

```javascript
module.exports = {
  webpack: (config) => {
    config.optimization.splitChunks = {
      cacheGroups: {
        cashier: {
          test: /[\\/]app[\\/]cashier[\\/]/,
          name: 'cashier',
          priority: 10
        }
      }
    };
    return config;
  }
};
```


***

## **üîí 10. SECURITY \& AUDIT**

### **–í–æ–ø—Ä–æ—Å 23: Cashier Activity Log - –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ª–∏ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–π

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Accountability - Admin/Manager –≤–∏–¥—è—Ç –∫—Ç–æ —á—Ç–æ –¥–µ–ª–∞–ª
- Fraud detection - –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (–∫–∞—Å—Å–∏—Ä –Ω–∞—á–∏—Å–ª–∏–ª —Å–µ–±–µ 10K –±–∞–ª–ª–æ–≤)
- Dispute resolution - –µ—Å–ª–∏ –≥–æ—Å—Ç—å –∂–∞–ª—É–µ—Ç—Å—è "–º–Ω–µ –Ω–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏" ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥
- Performance tracking - —Å–∫–æ–ª—å–∫–æ –≥–æ—Å—Ç–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–ª –∫–∞–∂–¥—ã–π –∫–∞—Å—Å–∏—Ä

**Logged Events:**

```typescript
enum CashierActionType {
  LOGIN, LOGOUT, CHANGE_PIN,
  SEARCH_GUEST, VIEW_GUEST, REGISTER_GUEST,
  EARN_BALLS, REDEEM_BALLS,
  PRINT_CARD, PRINT_RECEIPT,
  CALL_MANAGER, VIEW_HELP
}
```

**Activity Log Entry:**

```typescript
{
  id: 'log_abc123',
  actionType: 'EARN_BALLS',
  performedBy: {
    id: 'cashier_xyz',
    firstName: '–ê–Ω–Ω–∞',
    role: 'CASHIER'
  },
  targetGuest: {
    id: 'guest_123',
    firstName: '–ò–≤–∞–Ω'
  },
  terminal: {
    id: 'terminal_001',
    name: 'POS-1'
  },
  metadata: {
    checkAmount: 2000,
    ballsEarned: 220,
    balanceBefore: 500,
    balanceAfter: 720
  },
  ipAddress: '192.168.1.50',
  createdAt: '2026-02-16T14:30:00Z'
}
```

**Admin/Manager –≤–∏–¥—è—Ç:**

- –ö—Ç–æ (cashier name + role)
- –ß—Ç–æ (action type)
- –ö–æ–≥–¥–∞ (timestamp)
- –° –∫–µ–º (guest name)
- –ì–¥–µ (terminal name)
- –î–µ—Ç–∞–ª–∏ (amounts, balances)

***

### **–í–æ–ø—Ä–æ—Å 24: Fraud Prevention - –∫–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Anomaly detection + Manual check amount limits + Manager approval –¥–ª—è high amounts

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Anomaly Detection (backend):**

- ‚ö†Ô∏è Unusually high check - –µ—Å–ª–∏ —á–µ–∫ >50,000‚ÇΩ ‚Üí alert Manager'—É
- ‚ö†Ô∏è Self-transaction - –∫–∞—Å—Å–∏—Ä –Ω–∞—á–∏—Å–ª–∏–ª –±–∞–ª–ª—ã –Ω–∞ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí alert
- ‚ö†Ô∏è Frequent same guest - –æ–¥–∏–Ω –≥–æ—Å—Ç—å >10 —Ä–∞–∑ –≤ –¥–µ–Ω—å ‚Üí suspicious
- ‚ö†Ô∏è After hours - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ 3:00 –Ω–æ—á–∏ (—Ä–µ—Å—Ç–æ—Ä–∞–Ω –∑–∞–∫—Ä—ã—Ç) ‚Üí alert

**Check Amount Limits:**

- Max check amount –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è: 20,000‚ÇΩ
- –ï—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí —Ç—Ä–µ–±—É–µ—Ç—Å—è PIN-–∫–æ–¥ Manager'–∞
- Manager PIN validation –Ω–∞ backend
- Activity Log –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç manager approval

**UI Manager Approval:**

```tsx
{checkAmount > 20000 && (
  <Alert variant="warning">
    <ShieldAlert className="h-4 w-4" />
    <AlertDescription>
      <div className="font-semibold mb-2">
        –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ Manager'–∞
      </div>
      <p className="mb-3">
        –°—É–º–º–∞ —á–µ–∫–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç. 
        –ü–æ–ø—Ä–æ—Å–∏—Ç–µ Manager'–∞ –≤–≤–µ—Å—Ç–∏ PIN-–∫–æ–¥.
      </p>
      <Input
        type="password"
        maxLength={4}
        placeholder="PIN Manager'–∞"
        value={managerPin}
        onChange={...}
      />
    </AlertDescription>
  </Alert>
)}
```

**Backend Validation:**

```typescript
if (checkAmount > MAX_CHECK) {
  const valid = await verifyManagerPin(restaurantId, managerPin);
  if (!valid) throw new Error('Invalid PIN');
  
  await logActivity({
    type: 'MANAGER_APPROVAL',
    reason: 'High check amount',
    checkAmount
  });
}
```


***

### **–í–æ–ø—Ä–æ—Å 25: Terminal Assignment - –∫–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞—Å—Å–∏—Ä–∞ –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É?**

**–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Manual selection –ø—Ä–∏ login + Device fingerprint –¥–ª—è auto-detection

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- Manual selection - –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –∫–∞—Å—Å–∏—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–∑ —Å–ø–∏—Å–∫–∞ (–ö–∞—Å—Å–∞ 1, –ö–∞—Å—Å–∞ 2, etc)
- Device fingerprint - –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª (FingerprintJS), –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ auto-select
- Override option - –∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–º–µ–Ω–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥—Ä—É–≥–æ–π –∫–∞—Å—Å—ã (button –≤ header)
- Admin visibility - –≤ Activity Log –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è terminal name –∏ location
- Multiple terminals - Admin —Å–æ–∑–¥–∞—ë—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (name + location)

**UI Terminal Selection (–ø—Ä–∏ login):**

- Modal —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
- Terminal card: icon + name + location
- Click to select
- Selected state (border-primary, checkmark)
- Button "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"

**Device Fingerprint:**

```typescript
import FingerprintJS from '@fingerprintjs/fingerprintjs';

async function getFingerprint() {
  const fp = await FingerprintJS.load();
  const result = await fp.get();
  return result.visitorId; // unique device ID
}

// Auto-detect terminal
const fingerprint = await getFingerprint();
const savedTerminal = localStorage.getItem(`terminal_${fingerprint}`);

if (savedTerminal) {
  setSelectedTerminal(JSON.parse(savedTerminal));
} else {
  setShowTerminalSelection(true);
}
```

**Terminal Info –≤ Header:**

```tsx
<div className="flex items-center gap-2">
  <Monitor className="h-4 w-4 text-secondary" />
  <span className="text-secondary">–¢–µ—Ä–º–∏–Ω–∞–ª:</span>
  <Badge variant="outline">{currentTerminal.name}</Badge>
  <Button variant="ghost" size="sm" onClick={changeTerminal}>
    <RefreshCw className="h-3 w-3" />
  </Button>
</div>
```


***

# ‚úÖ **–ò–¢–û–ì–û: 25 –†–ï–®–ï–ù–ò–ô CASHIER POS INTERFACE –ü–†–ò–ù–Ø–¢–´!**


***

## **üì¶ –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï**

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/cashier` (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç Admin/Manager)
- Fullscreen mode –¥–ª—è –∫–∞—Å—Å–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
- Touch-optimized UI (–∫–Ω–æ–ø–∫–∏ 80px+, —à—Ä–∏—Ñ—Ç 18px+)
- Code splitting (< 300KB bundle)
- Offline support (IndexedDB + sync queue)


### **Authentication:**

- PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã, numpad UI)
- Fallback email/password
- Terminal selection —Å auto-detection
- Auto-logout —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è


### **Core Features:**

- Fast search (debounced 200ms, barcode scanner)
- Split screen Guest Quick View
- Calculator UI –¥–ª—è earn/redeem
- Minimal register form (phone + name)
- Thermal printer integration (ESC/POS)
- Recent guests widget (last 10)
- Quick stats (–≥–æ—Å—Ç–µ–π | —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | –±–∞–ª–ª–æ–≤)


### **Permissions:**

- ‚úÖ –ü–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —á–µ–∫—É, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚ùå –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, export


### **Security:**

- Activity logging (–≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è)
- Fraud detection (anomaly alerts)
- Manager approval (high amounts > 20K‚ÇΩ)
- Terminal tracking (device fingerprint)
- Auto-logout (15 min inactivity)


### **Performance:**

- Bundle < 300KB gzipped
- Time to Interactive < 2s
- Service Worker caching
- Lazy loading modals
- Keyboard shortcuts (F1-F5, ESC)


### **Hardware:**

- Thermal printer (80mm, ESC/POS)
- Barcode scanner (keyboard wedge)
- Touch screen (large targets, no hover)

***

# üöÄ **–ì–û–¢–û–í –ö –°–õ–ï–î–£–Æ–©–ï–ú–£ –ë–õ–û–ö–£!**

**–ö–∞–∫–æ–π –±–ª–æ–∫ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â–∏–º?**

1. **Guest Telegram Mini App** - –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–æ—Å—Ç–µ–π (–º–æ—è –∫–∞—Ä—Ç–æ—á–∫–∞, –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∞–∫—Ü–∏–∏, QR-–∫–æ–¥ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–∞—Å—Å–∏—Ä—É)
2. **API Documentation \& Webhooks** - REST API endpoints, authentication, rate limits, webhook events –¥–ª—è POS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. **Owner Analytics Deep Dive** - —É–≥–ª—É–±–ª—ë–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è Owner'–∞ (multi-tenant analytics, cross-restaurant comparison, tenant health metrics)

**–ß—Ç–æ –¥–µ–ª–∞–µ–º –¥–∞–ª—å—à–µ?** üéØ

---

# üì± **GUEST TELEGRAM MINI APP - 25 –í–û–ü–†–û–°–û–í –° –†–ï–®–ï–ù–ò–Ø–ú–ò**


***

## **üéØ 1. PLATFORM \& ARCHITECTURE**

### **1Ô∏è‚É£ Telegram Mini App vs Native App vs PWA - —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–π –∫–∞—Ä—Ç–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, –±–∞–ª–∞–Ω—Å—É, –∏—Å—Ç–æ—Ä–∏–∏. –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Guest –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?

**A)** Native mobile app (iOS + Android)
**B)** PWA (Progressive Web App)
**C)** Telegram Mini App
**D)** Hybrid (React Native / Flutter)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Telegram Mini App + B) PWA fallback**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Telegram Mini App (primary):**

- ‚úÖ **Zero installation** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram (1 –º–ª—Ä–¥+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- ‚úÖ **Instant delivery** - –≥–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö —á–µ—Ä–µ–∑ Telegram bot
- ‚úÖ **Auth via Telegram** - –Ω–µ –Ω—É–∂–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Telegram ID = –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
- ‚úÖ **Native feel** - –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (fullscreen, swipe gestures)
- ‚úÖ **No app store approval** - –¥–µ–ø–ª–æ–π –∑–∞ –º–∏–Ω—É—Ç—ã (–Ω–µ –Ω—É–∂–Ω–æ waiting Apple Review)
- ‚úÖ **Easy sharing** - –≥–æ—Å—Ç—å –º–æ–∂–µ—Ç –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Å –¥—Ä—É–∑—å—è–º–∏ (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞)
- ‚úÖ **Push notifications** - —á–µ—Ä–µ–∑ Telegram (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –≤—ã—Å–æ–∫–∏–π open rate ~50%)

**PWA (fallback –¥–ª—è non-Telegram users):**

- ‚úÖ **Web access** - `app.maxloyalty.com/guest` –¥–ª—è —Ç–µ—Ö –∫—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telegram
- ‚úÖ **Add to Home Screen** - –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ **Offline support** - Service Worker –∫–µ—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **Push notifications** - —á–µ—Ä–µ–∑ Web Push API

**–ü–æ—á–µ–º—É –ù–ï Native App:**

- ‚ùå –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (iOS + Android = 2 –∫–æ–¥–æ–≤—ã–µ –±–∞–∑—ã)
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–Ω—É–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å app store review)
- ‚ùå –ù–∏–∑–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–≥–æ—Å—Ç–∏ –ª–µ–Ω—è—Ç—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å apps)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç storage –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

**Tech Stack:**

- **Telegram Mini App:** React + Vite + Telegram WebApp SDK
- **PWA:** Next.js + Service Worker
- **Backend:** Shared API (REST + WebSocket –¥–ª—è real-time)

***

### **2Ô∏è‚É£ Guest Identification - –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç —Å Guest –≤ –ë–î?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App ‚Üí –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫—Ç–æ –æ–Ω (–Ω–∞–π—Ç–∏ –µ–≥–æ Guest record –≤ –ë–î).

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç—è?

**A)** –ü–æ Telegram ID (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
**B)** –ü–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–≥–æ—Å—Ç—å –≤–≤–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
**C)** –ü–æ QR-–∫–æ–¥—É –∫–∞—Ä—Ç—ã (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
**D)** –ü–æ email (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ü–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ) + Link to Telegram ID**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Onboarding Flow:**

1. –ì–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App –ø–µ—Ä–≤—ã–π —Ä–∞–∑
2. Telegram WebApp SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `initData` —Å `telegram_id`, `first_name`, `username`
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º: –µ—Å—Ç—å –ª–∏ Guest —Å —ç—Ç–∏–º `telegram_id` –≤ –ë–î?
4. –ï—Å–ª–∏ –ù–ï–¢ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"
5. –ì–æ—Å—Ç—å –≤–≤–æ–¥–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –∏—â–µ–º Guest record –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
6. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí —Å–≤—è–∑—ã–≤–∞–µ–º `guest.telegram_id = telegram_id` (one-time link)
7. –ï—Å–ª–∏ –ù–ï –Ω–∞–π–¥–µ–Ω ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–í–∞—Å –Ω–µ—Ç –≤ –±–∞–∑–µ, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–∞—Å—Å–∏—Ä—É"

**–ü–æ—á–µ–º—É –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É:**

- ‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω = —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ —Å–∏—Å—Ç–µ–º–µ loyalty (–∫–∞—Å—Å–∏—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É)
- ‚úÖ One-time linking - –ø–æ—Å–ª–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –≥–æ—Å—Ç—å –±–æ–ª—å—à–µ –Ω–µ –≤–≤–æ–¥–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è telegram_id)
- ‚úÖ Security - –Ω–µ –∫–∞–∂–¥—ã–π Telegram user –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–æ–º—É Guest –ø—Ä–æ—Ñ–∏–ª—é

**Alternative: QR-–∫–æ–¥ –∫–∞—Ä—Ç—ã (optional):**

- –ï—Å–ª–∏ –≥–æ—Å—Ç—å –Ω–µ –ø–æ–º–Ω–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –º–æ–∂–µ—Ç –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR —Å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç—ã
- QR —Å–æ–¥–µ—Ä–∂–∏—Ç `guestCardCode` ‚Üí –Ω–∞—Ö–æ–¥–∏–º Guest ‚Üí –ª–∏–Ω–∫—É–µ–º –∫ telegram_id

**DB Schema:**

```typescript
model Guest {
  id            String   @id
  phone         String   @unique
  telegram_id   String?  @unique  // Linked Telegram ID
  telegram_username String?
  // ... other fields
}
```


***

### **3Ô∏è‚É£ Mini App Entry Point - –∫–∞–∫ –≥–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –¥–æ–ª–∂–µ–Ω –∫–∞–∫-—Ç–æ –ø–æ–ø–∞—Å—Ç—å –≤ Mini App.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –≥–æ—Å—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App?

**A)** QR-–∫–æ–¥ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç–µ (scan ‚Üí opens Mini App)
**B)** Telegram Bot command `/start` ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App
**C)** Deep link –≤ SMS/Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö
**D)** –í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: D) –í—Å–µ –∫–∞–Ω–∞–ª—ã + Telegram Bot –∫–∞–∫ primary**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**1. Telegram Bot (primary):**

- –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ—Ç Telegram bot –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–∫–∞—Å—Å–∏—Ä —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç "–£ –≤–∞—Å Telegram?")
- Bot –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç welcome message: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Max Loyalty! –í–∞—à–∞ –∫–∞—Ä—Ç–∞ –≥–æ—Ç–æ–≤–∞ üéÅ"
- Inline button "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É" ‚Üí opens Mini App
- Bot —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö ‚Üí button "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏" ‚Üí opens Mini App

**2. QR-–∫–æ–¥ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç–µ:**

- QR —Å–æ–¥–µ—Ä–∂–∏—Ç deep link: `https://t.me/maxloyalty_bot/app?startapp=card_{guestCardCode}`
- Scan QR ‚Üí opens Telegram ‚Üí opens Mini App ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏–Ω–∏—Ç—Å—è –ø–æ cardCode

**3. Deep link –≤ SMS/Email:**

- SMS: "–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 200 –±–∞–ª–ª–æ–≤! –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å: https://t.me/maxloyalty_bot/app"
- Email –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

**4. Share link:**

- –ì–æ—Å—Ç—å –º–æ–∂–µ—Ç –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º —Å –¥—Ä—É–∑—å—è–º–∏: "–ü–æ–ø—Ä–æ–±—É–π —ç—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ t.me/maxloyalty_bot/app"

**Telegram Bot Commands:**

```
/start    ‚Üí Welcome message + "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É" button
/card     ‚Üí Opens Mini App –Ω–∞–ø—Ä—è–º—É—é
/balance  ‚Üí Shows balance inline (–±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è app)
/history  ‚Üí Opens Mini App –Ω–∞ History tab
/help     ‚Üí FAQ
```

**Bot Implementation (BotFather setup):**

```
Bot Name: Max Loyalty
Username: @maxloyalty_bot
Menu Button: –ú–æ—è –∫–∞—Ä—Ç–∞ ‚Üí opens Mini App
Commands: start, card, balance, history, help
```


***

## **üè† 2. HOME SCREEN (LOYALTY CARD)**

### **4Ô∏è‚É£ Home Screen Layout - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –≥–æ—Å—Ç—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App ‚Üí –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω.

**–í–æ–ø—Ä–æ—Å:**
–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ?

**A)** QR-–∫–æ–¥ –∫–∞—Ä—Ç—ã (large, —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞)
**B)** –ë–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ + level + QR-–∫–æ–¥
**C)** Dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–∫–∞–∫ —É Admin)
**D)** News feed —Å –∞–∫—Ü–∏—è–º–∏

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Digital Loyalty Card (–±–∞–ª–∞–Ω—Å + level + QR-–∫–æ–¥ + quick actions)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- ‚úÖ **Digital card first** - –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å = –ø–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥ –∫–∞—Å—Å–∏—Ä—É –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ
- ‚úÖ **Balance prominent** - –±–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ –∫—Ä—É–ø–Ω–æ (text-5xl) –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏
- ‚úÖ **Level badge** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (Bronze/Silver/Gold) —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ
- ‚úÖ **QR code large** - 250px –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Å—Å–∏—Ä–æ–º
- ‚úÖ **Quick actions** - 2-3 –∫–Ω–æ–ø–∫–∏: –ò—Å—Ç–æ—Ä–∏—è | –ê–∫—Ü–∏–∏ | –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**UI Home Screen:**

```tsx
<div className="min-h-screen bg-gradient-to-b from-primary/10 to-background pb-20">
  {/* Header */}
  <header className="p-4 flex items-center justify-between">
    <div>
      <div className="text-sm text-secondary">Max Loyalty</div>
      <div className="text-lg font-bold">{restaurant.name}</div>
    </div>
    <Button variant="ghost" size="icon" onClick={() => router.push('/settings')}>
      <Settings className="h-5 w-5" />
    </Button>
  </header>
  
  {/* Loyalty Card */}
  <div className="px-4 pt-6 pb-8">
    <Card className="relative overflow-hidden">
      {/* Background Pattern */}
      <div className="absolute inset-0 opacity-10">
        <div className="absolute inset-0" style={{
          backgroundImage: 'radial-gradient(circle, currentColor 1px, transparent 1px)',
          backgroundSize: '20px 20px'
        }} />
      </div>
      
      <CardContent className="p-6 relative z-10">
        {/* Guest Info */}
        <div className="flex items-start justify-between mb-6">
          <div>
            <div className="text-sm text-secondary mb-1">–ü—Ä–∏–≤–µ—Ç,</div>
            <h2 className="text-2xl font-bold">{guest.firstName}!</h2>
          </div>
          <Avatar className="h-16 w-16">
            <AvatarImage src={guest.avatar} />
            <AvatarFallback className="text-xl">
              {getInitials(guest.firstName, guest.lastName)}
            </AvatarFallback>
          </Avatar>
        </div>
        
        {/* Level Badge */}
        <div className="flex items-center gap-3 mb-6">
          <div className="text-4xl">{LEVEL_ICONS[guest.level]}</div>
          <div>
            <div className="text-sm text-secondary">–£—Ä–æ–≤–µ–Ω—å –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</div>
            <div className="text-xl font-bold">{guest.level}</div>
          </div>
        </div>
        
        {/* Progress to Next Level */}
        {guest.level !== 'PLATINUM' && (
          <div className="mb-6">
            <div className="flex justify-between text-sm mb-2">
              <span className="text-secondary">–î–æ {nextLevel.name}</span>
              <span className="font-medium">
                {formatCurrency(guest.lifetimeSpent)} / {formatCurrency(nextLevel.threshold)}
              </span>
            </div>
            <Progress 
              value={(guest.lifetimeSpent / nextLevel.threshold) * 100} 
              className="h-2"
            />
          </div>
        )}
        
        {/* Ball Balance */}
        <div className="text-center py-8 bg-muted/50 rounded-xl mb-6">
          <div className="text-sm text-secondary mb-2">–í–∞—à –±–∞–ª–∞–Ω—Å</div>
          <div className="text-6xl font-bold mb-2">
            {guest.ballBalance}
          </div>
          <div className="text-xl text-secondary">–±–∞–ª–ª–æ–≤</div>
          
          {guest.promoBallBalance > 0 && (
            <div className="mt-3 flex items-center justify-center gap-2 text-warning">
              <Gift className="h-4 w-4" />
              <span className="text-sm">+ {guest.promoBallBalance} –ø—Ä–æ–º–æ-–±–∞–ª–ª–æ–≤</span>
            </div>
          )}
          
          <div className="text-sm text-secondary mt-3">
            = {formatCurrency(guest.ballBalance)} —Å–∫–∏–¥–∫–∏
          </div>
        </div>
        
        {/* QR Code */}
        <div className="text-center">
          <div className="text-sm text-secondary mb-3">–ü–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É</div>
          <div className="bg-white p-4 rounded-xl inline-block">
            <QRCode
              value={guest.guestCard.qrCode}
              size={250}
              level="M"
            />
          </div>
          <div className="text-3xl font-bold tracking-wider mt-3">
            {guest.guestCard.displayCode}
          </div>
        </div>
      </CardContent>
    </Card>
  </div>
  
  {/* Quick Actions */}
  <div className="px-4 grid grid-cols-3 gap-3 mb-6">
    <Button
      variant="outline"
      className="h-20 flex flex-col gap-2"
      onClick={() => router.push('/history')}
    >
      <History className="h-6 w-6" />
      <span className="text-xs">–ò—Å—Ç–æ—Ä–∏—è</span>
    </Button>
    
    <Button
      variant="outline"
      className="h-20 flex flex-col gap-2"
      onClick={() => router.push('/promos')}
    >
      <Gift className="h-6 w-6" />
      <span className="text-xs">–ê–∫—Ü–∏–∏</span>
    </Button>
    
    <Button
      variant="outline"
      className="h-20 flex flex-col gap-2"
      onClick={() => router.push('/referral')}
    >
      <Users className="h-6 w-6" />
      <span className="text-xs">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</span>
    </Button>
  </div>
  
  {/* Active Promos Preview */}
  {activePromos.length > 0 && (
    <div className="px-4">
      <h3 className="text-lg font-semibold mb-3">–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–∫—Ü–∏–∏</h3>
      <div className="space-y-3">
        {activePromos.slice(0, 2).map((promo) => (
          <Card key={promo.id} className="cursor-pointer" onClick={() => viewPromo(promo)}>
            <CardContent className="p-4 flex items-center gap-3">
              <div className="text-3xl">{promo.emoji}</div>
              <div className="flex-1">
                <div className="font-semibold">{promo.name}</div>
                <div className="text-sm text-secondary">{promo.description}</div>
              </div>
              <ChevronRight className="h-5 w-5 text-secondary" />
            </CardContent>
          </Card>
        ))}
      </div>
      
      {activePromos.length > 2 && (
        <Button variant="link" className="w-full mt-2" onClick={() => router.push('/promos')}>
          –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–∫—Ü–∏–∏ ({activePromos.length})
        </Button>
      )}
    </div>
  )}
  
  {/* Bottom Navigation */}
  <nav className="fixed bottom-0 left-0 right-0 bg-card border-t">
    <div className="grid grid-cols-4 h-16">
      <Button variant="ghost" className="flex flex-col gap-1" onClick={() => router.push('/')}>
        <CreditCard className="h-5 w-5" />
        <span className="text-xs">–ö–∞—Ä—Ç–∞</span>
      </Button>
      
      <Button variant="ghost" className="flex flex-col gap-1" onClick={() => router.push('/history')}>
        <History className="h-5 w-5" />
        <span className="text-xs">–ò—Å—Ç–æ—Ä–∏—è</span>
      </Button>
      
      <Button variant="ghost" className="flex flex-col gap-1" onClick={() => router.push('/promos')}>
        <Gift className="h-5 w-5" />
        <span className="text-xs">–ê–∫—Ü–∏–∏</span>
      </Button>
      
      <Button variant="ghost" className="flex flex-col gap-1" onClick={() => router.push('/profile')}>
        <User className="h-5 w-5" />
        <span className="text-xs">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </Button>
    </div>
  </nav>
</div>
```


***

### **5Ô∏è‚É£ QR Code Display - –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç QR-–∫–æ–¥ –∫–∞—Å—Å–∏—Ä—É ‚Üí –∫–∞—Å—Å–∏—Ä —Å–∫–∞–Ω–∏—Ä—É–µ—Ç barcode scanner'–æ–º.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å QR-–∫–æ–¥ —É–¥–æ–±–Ω—ã–º –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?

**A)** –°—Ç–∞—Ç–∏—á–Ω—ã–π QR (–≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ)
**B)** Dynamic QR (–º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
**C)** Fullscreen mode (tap QR ‚Üí fullscreen)
**D)** Brightness boost (—É–≤–µ–ª–∏—á–∏—Ç—å —è—Ä–∫–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ QR)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: A) –°—Ç–∞—Ç–∏—á–Ω—ã–π QR + C) Fullscreen mode + D) Brightness boost**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**–°—Ç–∞—Ç–∏—á–Ω—ã–π QR:**

- ‚úÖ QR —Å–æ–¥–µ—Ä–∂–∏—Ç `guestCard.qrCode` (–Ω–∞–ø—Ä–∏–º–µ—Ä `MLTY-ABC123-XYZ789`)
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç—Å—è (–∫–∞—Å—Å–∏—Ä –º–æ–∂–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç)
- ‚úÖ Works offline (–Ω–µ –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª–µ—Ç—É)
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É (—Ç–æ—Ç –∂–µ QR)

**Fullscreen Mode:**

- Tap –Ω–∞ QR-–∫–æ–¥ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è fullscreen modal
- QR –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω (400px)
- White background –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
- Display code –∫—Ä—É–ø–Ω–æ –ø–æ–¥ QR (text-4xl)
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" –≤ —É–≥–ª—É

**Brightness Boost:**

```typescript
// –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ fullscreen QR
useEffect(() => {
  if (showFullscreenQR) {
    // Save current brightness
    const originalBrightness = window.screen.brightness;
    
    // Set max brightness (Telegram WebApp API)
    if (window.Telegram?.WebApp) {
      window.Telegram.WebApp.setHeaderColor('#FFFFFF');
      window.Telegram.WebApp.enableClosingConfirmation();
    }
    
    // Restore on close
    return () => {
      if (window.Telegram?.WebApp) {
        window.Telegram.WebApp.setHeaderColor('#000000');
      }
    };
  }
}, [showFullscreenQR]);
```

**Fullscreen QR Modal:**

```tsx
<Dialog open={showFullscreenQR} onOpenChange={setShowFullscreenQR}>
  <DialogContent className="max-w-full h-full bg-white flex items-center justify-center">
    <div className="text-center">
      <p className="text-black text-lg mb-4">–ü–æ–∫–∞–∂–∏—Ç–µ –∫–∞—Å—Å–∏—Ä—É</p>
      
      <div className="bg-white p-6 rounded-2xl inline-block shadow-lg">
        <QRCode
          value={guest.guestCard.qrCode}
          size={400}
          level="M"
          includeMargin
        />
      </div>
      
      <div className="text-black text-5xl font-bold tracking-wider mt-6">
        {guest.guestCard.displayCode}
      </div>
      
      <Button
        variant="outline"
        size="lg"
        className="mt-8"
        onClick={() => setShowFullscreenQR(false)}
      >
        –ó–∞–∫—Ä—ã—Ç—å
      </Button>
    </div>
  </DialogContent>
</Dialog>
```

**Tap to Fullscreen:**

```tsx
<div 
  className="cursor-pointer"
  onClick={() => setShowFullscreenQR(true)}
>
  <QRCode value={guest.guestCard.qrCode} size={250} />
  <p className="text-xs text-secondary mt-2">
    –ù–∞–∂–º–∏—Ç–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è
  </p>
</div>
```


***

### **6Ô∏è‚É£ Balance Display - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å motivating way?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –≤–∏–¥–∏—Ç –±–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –∏ —Ö–æ—Ç–µ—Ç—å –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –±–æ–ª—å—à–µ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ visualize –±–∞–ª–∞–Ω—Å?

**A)** –ü—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ (2,850 –±–∞–ª–ª–æ–≤)
**B)** –ß–∏—Å–ª–æ + –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –¥–µ–Ω—å–≥–∏ (2,850 –±. = 2,850‚ÇΩ)
**C)** –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (counter animation)
**D)** Gamification (progress bar, achievements)

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) –ß–∏—Å–ª–æ + –∫–æ–Ω–≤–µ—Ä—Å–∏—è + C) Animation + D) Progress bar**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Large Number Display:**

- text-6xl font-bold (–∫—Ä—É–ø–Ω–æ –¥–ª—è wow-—ç—Ñ—Ñ–µ–∫—Ç–∞)
- Counter animation –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (numbers —Å—á—ë—Ç—á–∏–∫ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)
- Color: text-foreground (primary color –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–∞)

**–ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –¥–µ–Ω—å–≥–∏:**

- –ü–æ–¥ –±–∞–ª–∞–Ω—Å–æ–º: "= 2,850‚ÇΩ —Å–∫–∏–¥–∫–∏"
- text-sm text-secondary
- Clarity: –≥–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –±–∞–ª–ª–æ–≤

**Progress to Next Level:**

- Progress bar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é
- Text: "–î–æ Silver –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å 5,000‚ÇΩ"
- Motivates –≥–æ—Å—Ç—è —Ç—Ä–∞—Ç–∏—Ç—å –±–æ–ª—å—à–µ

**Counter Animation:**

```typescript
import { useSpring, animated } from 'react-spring';

function AnimatedBalance({ balance }: { balance: number }) {
  const props = useSpring({
    number: balance,
    from: { number: 0 },
    config: { duration: 1000 }
  });
  
  return (
    <animated.div className="text-6xl font-bold">
      {props.number.to((n) => Math.floor(n).toLocaleString('ru-RU'))}
    </animated.div>
  );
}
```

**Promo Balls Badge:**

```tsx
{guest.promoBallBalance > 0 && (
  <div className="mt-3 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-warning/10 text-warning">
    <Gift className="h-4 w-4" />
    <span className="text-sm font-medium">
      + {guest.promoBallBalance} –ø—Ä–æ–º–æ-–±–∞–ª–ª–æ–≤
    </span>
    <Tooltip>
      <TooltipTrigger>
        <Info className="h-3 w-3" />
      </TooltipTrigger>
      <TooltipContent>
        –ü—Ä–æ–º–æ-–±–∞–ª–ª—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –∞–∫—Ü–∏–∏
      </TooltipContent>
    </Tooltip>
  </div>
)}
```


***

## **üìú 3. TRANSACTION HISTORY**

### **7Ô∏è‚É£ History Screen Layout - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –∫–æ–≥–¥–∞ –∏ —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ/—Å–ø–∏—Å–∞–Ω–æ.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏?

**A)** –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ (–¥–∞—Ç–∞ | —Ç–∏–ø | —Å—É–º–º–∞)
**B)** Timeline —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –¥–∞—Ç–∞–º
**C)** Tabs (–í—Å–µ | –ù–∞—á–∏—Å–ª–µ–Ω–∏—è | –°–ø–∏—Å–∞–Ω–∏—è)
**D)** Infinite scroll + filters

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: B) Timeline —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –¥–∞—Ç–∞–º + D) Infinite scroll + Filter button**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Timeline Layout:**

- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–∞–º (–°–µ–≥–æ–¥–Ω—è, –í—á–µ—Ä–∞, 10 —Ñ–µ–≤, 9 —Ñ–µ–≤...)
- –ö–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è = card —Å –∏–∫–æ–Ω–∫–æ–π, –æ–ø–∏—Å–∞–Ω–∏–µ–º, —Å—É–º–º–æ–π, –≤—Ä–µ–º–µ–Ω–µ–º
- Color coding: green –¥–ª—è earn, red –¥–ª—è redeem
- Swipe down to refresh

**Infinite Scroll:**

- –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ 20 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ —Ä–∞–∑
- –°–∫—Ä–æ–ª–ª–∏–º –≤–Ω–∏–∑ ‚Üí –ø–æ–¥–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–µ 20
- Skeleton loaders –ø–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**Filter Button:**

- Floating action button –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
- –ö–ª–∏–∫ ‚Üí Bottom Sheet —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏: –í—Å–µ | –ù–∞—á–∏—Å–ª–µ–Ω–∏—è | –°–ø–∏—Å–∞–Ω–∏—è | –î–∞—Ç–∞ (range picker)

**UI History Screen:**

```tsx
<div className="min-h-screen bg-background pb-20">
  {/* Header */}
  <header className="sticky top-0 z-10 bg-card border-b px-4 py-3 flex items-center justify-between">
    <Button variant="ghost" size="icon" onClick={() => router.back()}>
      <ArrowLeft className="h-5 w-5" />
    </Button>
    <h1 className="text-lg font-bold">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h1>
    <Button variant="ghost" size="icon" onClick={() => setShowFilters(true)}>
      <Filter className="h-5 w-5" />
    </Button>
  </header>
  
  {/* Pull to Refresh */}
  <div ref={pullToRefreshRef} className="px-4 py-6">
    {/* Summary Stats */}
    <div className="grid grid-cols-2 gap-3 mb-6">
      <Card>
        <CardContent className="p-4">
          <div className="text-sm text-secondary mb-1">–í—Å–µ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ</div>
          <div className="text-2xl font-bold text-success">
            +{stats.totalEarned}
          </div>
        </CardContent>
      </Card>
      
      <Card>
        <CardContent className="p-4">
          <div className="text-sm text-secondary mb-1">–í—Å–µ–≥–æ —Å–ø–∏—Å–∞–Ω–æ</div>
          <div className="text-2xl font-bold text-danger">
            ‚àí{stats.totalRedeemed}
          </div>
        </CardContent>
      </Card>
    </div>
    
    {/* Timeline */}
    <div className="space-y-6">
      {groupedTransactions.map((group) => (
        <div key={group.date}>
          <h3 className="text-sm font-semibold text-secondary mb-3 sticky top-16 bg-background py-2">
            {formatDateHeader(group.date)}
          </h3>
          
          <div className="space-y-3">
            {group.transactions.map((tx) => (
              <Card 
                key={tx.id}
                className="cursor-pointer"
                onClick={() => viewTransaction(tx)}
              >
                <CardContent className="p-4 flex items-center gap-4">
                  {/* Icon */}
                  <div className={cn(
                    "h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0",
                    tx.type === 'EARN' ? "bg-success/10" : "bg-danger/10"
                  )}>
                    {tx.type === 'EARN' ? (
                      <Plus className={cn("h-6 w-6", "text-success")} />
                    ) : (
                      <Minus className={cn("h-6 w-6", "text-danger")} />
                    )}
                  </div>
                  
                  {/* Details */}
                  <div className="flex-1">
                    <div className="font-semibold mb-1">
                      {tx.type === 'EARN' ? '–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤' : '–°–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤'}
                    </div>
                    
                    {tx.checkAmount && (
                      <div className="text-sm text-secondary">
                        –ß–µ–∫: {formatCurrency(tx.checkAmount)}
                      </div>
                    )}
                    
                    {tx.promoName && (
                      <Badge variant="outline" className="text-xs mt-1">
                        {tx.promoName}
                      </Badge>
                    )}
                    
                    <div className="text-xs text-secondary mt-1">
                      {formatTime(tx.createdAt)}
                    </div>
                  </div>
                  
                  {/* Amount */}
                  <div className="text-right">
                    <div className={cn(
                      "text-xl font-bold",
                      tx.type === 'EARN' ? "text-success" : "text-danger"
                    )}>
                      {tx.type === 'EARN' ? '+' : '‚àí'}{tx.amount}
                    </div>
                    <div className="text-xs text-secondary">
                      {tx.ballType === 'PROMO' && '(–ø—Ä–æ–º–æ)'}
                    </div>
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      ))}
      
      {/* Loading More */}
      {isLoadingMore && (
        <div className="flex justify-center py-6">
          <Loader2 className="h-6 w-6 animate-spin" />
        </div>
      )}
      
      {/* End of List */}
      {!hasMore && transactions.length > 0 && (
        <p className="text-center text-secondary text-sm py-6">
          –≠—Ç–æ –≤—Å–µ –≤–∞—à–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
        </p>
      )}
      
      {/* Empty State */}
      {transactions.length === 0 && !isLoading && (
        <div className="text-center py-12">
          <History className="h-16 w-16 mx-auto mb-4 text-secondary opacity-50" />
          <h3 className="font-semibold mb-2">–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
          <p className="text-secondary text-sm">
            –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∏ —Å–ø–∏—Å–∞–Ω–∏–π
          </p>
        </div>
      )}
    </div>
  </div>
  
  {/* Filter FAB */}
  {appliedFilters.length > 0 && (
    <Button
      className="fixed bottom-24 right-4 rounded-full shadow-lg"
      size="lg"
      onClick={() => setShowFilters(true)}
    >
      <Filter className="mr-2 h-5 w-5" />
      –§–∏–ª—å—Ç—Ä—ã ({appliedFilters.length})
    </Button>
  )}
</div>
```

**Date Grouping Logic:**

```typescript
function groupTransactionsByDate(transactions: Transaction[]) {
  const groups: { date: string; transactions: Transaction[] }[] = [];
  
  transactions.forEach((tx) => {
    const date = format(new Date(tx.createdAt), 'yyyy-MM-dd');
    const existingGroup = groups.find(g => g.date === date);
    
    if (existingGroup) {
      existingGroup.transactions.push(tx);
    } else {
      groups.push({ date, transactions: [tx] });
    }
  });
  
  return groups;
}

function formatDateHeader(dateString: string): string {
  const date = new Date(dateString);
  const today = startOfDay(new Date());
  const yesterday = subDays(today, 1);
  
  if (isSameDay(date, today)) return '–°–µ–≥–æ–¥–Ω—è';
  if (isSameDay(date, yesterday)) return '–í—á–µ—Ä–∞';
  
  return format(date, 'd MMMM', { locale: ru });
}
```


***

### **8Ô∏è‚É£ Transaction Details - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –∫–ª–∏–∫–Ω—É–ª –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –∏—Å—Ç–æ—Ä–∏–∏ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å?

**A)** –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–µ (–¥–∞—Ç–∞ | —Ç–∏–ø | —Å—É–º–º–∞)
**B)** –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ (—á–µ–∫ | –±–∞–ª–∞–Ω—Å –¥–æ/–ø–æ—Å–ª–µ | –∫–∞—Å—Å–∏—Ä | terminal)
**C)** Receipt-style (–∫–∞–∫ —á–µ–∫)
**D)** Minimal modal (–¥–∞—Ç–∞, —Å—É–º–º–∞, –∫–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å")

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: C) Receipt-style Bottom Sheet —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Bottom Sheet (–Ω–µ full-page):**

- Swipe down to close (–Ω–∞—Ç–∏–≤–Ω—ã–π UX)
- Receipt-style layout (–∑–Ω–∞–∫–æ–º—ã–π —Ñ–æ—Ä–º–∞—Ç)
- –í—Å–µ –¥–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**Transaction Details:**

```tsx
<Sheet open={showTransactionDetails} onOpenChange={setShowTransactionDetails}>
  <SheetContent side="bottom" className="h-[80vh] overflow-auto">
    <SheetHeader>
      <SheetTitle className="text-center">–î–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏</SheetTitle>
    </SheetHeader>
    
    <div className="py-6">
      {/* Status Icon */}
      <div className={cn(
        "h-20 w-20 rounded-full mx-auto mb-4 flex items-center justify-center",
        transaction.type === 'EARN' ? "bg-success/10" : "bg-danger/10"
      )}>
        {transaction.type === 'EARN' ? (
          <CheckCircle2 className="h-10 w-10 text-success" />
        ) : (
          <CheckCircle2 className="h-10 w-10 text-danger" />
        )}
      </div>
      
      {/* Amount */}
      <div className="text-center mb-8">
        <div className={cn(
          "text-5xl font-bold mb-2",
          transaction.type === 'EARN' ? "text-success" : "text-danger"
        )}>
          {transaction.type === 'EARN' ? '+' : '‚àí'}{transaction.amount}
        </div>
        <div className="text-xl text-secondary">–±–∞–ª–ª–æ–≤</div>
      </div>
      
      {/* Details Card */}
      <Card>
        <CardContent className="p-6 space-y-4">
          <div className="flex justify-between">
            <span className="text-secondary">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</span>
            <span className="font-medium">
              {transaction.type === 'EARN' ? '–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ' : '–°–ø–∏—Å–∞–Ω–∏–µ'}
            </span>
          </div>
          
          {transaction.checkAmount && (
            <div className="flex justify-between">
              <span className="text-secondary">–°—É–º–º–∞ —á–µ–∫–∞</span>
              <span className="font-medium">
                {formatCurrency(transaction.checkAmount)}
              </span>
            </div>
          )}
          
          {transaction.promoName && (
            <div className="flex justify-between">
              <span className="text-secondary">–ê–∫—Ü–∏—è</span>
              <Badge variant="outline">{transaction.promoName}</Badge>
            </div>
          )}
          
          <Separator />
          
          <div className="flex justify-between">
            <span className="text-secondary">–ë–∞–ª–∞–Ω—Å –¥–æ</span>
            <span className="font-medium">{transaction.balanceBefore} –±.</span>
          </div>
          
          <div className="flex justify-between text-lg font-bold">
            <span>–ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ</span>
            <span className="text-success">{transaction.balanceAfter} –±.</span>
          </div>
          
          <Separator />
          
          <div className="flex justify-between text-sm">
            <span className="text-secondary">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</span>
            <span>{formatDateTime(transaction.createdAt)}</span>
          </div>
          
          {transaction.cashierName && (
            <div className="flex justify-between text-sm">
              <span className="text-secondary">–ö–∞—Å—Å–∏—Ä</span>
              <span>{transaction.cashierName}</span>
            </div>
          )}
          
          {transaction.terminalName && (
            <div className="flex justify-between text-sm">
              <span className="text-secondary">–¢–µ—Ä–º–∏–Ω–∞–ª</span>
              <span>{transaction.terminalName}</span>
            </div>
          )}
          
          <div className="flex justify-between text-sm">
            <span className="text-secondary">ID –æ–ø–µ—Ä–∞—Ü–∏–∏</span>
            <span className="font-mono text-xs">{transaction.id.slice(0, 12)}...</span>
          </div>
        </CardContent>
      </Card>
      
      {/* Support */}
      <div className="mt-6">
        <Alert>
          <Info className="h-4 w-4" />
          <AlertDescription className="text-sm">
            –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
          </AlertDescription>
        </Alert>
      </div>
    </div>
  </SheetContent>
</Sheet>
```


***

### **9Ô∏è‚É£ History Filters - –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–£ –≥–æ—Å—Ç—è –º–Ω–æ–≥–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚Üí –Ω—É–∂–Ω–æ —É–º–µ—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Type filter + Date range + Ball type (Regular/Promo)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Filters Bottom Sheet:**

```tsx
<Sheet open={showFilters} onOpenChange={setShowFilters}>
  <SheetContent side="bottom" className="h-[60vh]">
    <SheetHeader>
      <SheetTitle>–§–∏–ª—å—Ç—Ä—ã</SheetTitle>
    </SheetHeader>
    
    <div className="py-6 space-y-6">
      {/* Type Filter */}
      <div>
        <Label className="mb-3">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</Label>
        <div className="grid grid-cols-3 gap-3">
          <Button
            variant={typeFilter === 'ALL' ? 'default' : 'outline'}
            onClick={() => setTypeFilter('ALL')}
          >
            –í—Å–µ
          </Button>
          <Button
            variant={typeFilter === 'EARN' ? 'default' : 'outline'}
            onClick={() => setTypeFilter('EARN')}
          >
            –ù–∞—á–∏—Å–ª–µ–Ω–∏—è
          </Button>
          <Button
            variant={typeFilter === 'REDEEM' ? 'default' : 'outline'}
            onClick={() => setTypeFilter('REDEEM')}
          >
            –°–ø–∏—Å–∞–Ω–∏—è
          </Button>
        </div>
      </div>
      
      {/* Ball Type Filter */}
      <div>
        <Label className="mb-3">–¢–∏–ø –±–∞–ª–ª–æ–≤</Label>
        <div className="grid grid-cols-3 gap-3">
          <Button
            variant={ballTypeFilter === 'ALL' ? 'default' : 'outline'}
            onClick={() => setBallTypeFilter('ALL')}
          >
            –í—Å–µ
          </Button>
          <Button
            variant={ballTypeFilter === 'REGULAR' ? 'default' : 'outline'}
            onClick={() => setBallTypeFilter('REGULAR')}
          >
            –û–±—ã—á–Ω—ã–µ
          </Button>
          <Button
            variant={ballTypeFilter === 'PROMO' ? 'default' : 'outline'}
            onClick={() => setBallTypeFilter('PROMO')}
          >
            –ü—Ä–æ–º–æ
          </Button>
        </div>
      </div>
      
      {/* Date Range */}
      <div>
        <Label className="mb-3">–ü–µ—Ä–∏–æ–¥</Label>
        <div className="space-y-2">
          <Button
            variant="outline"
            className="w-full justify-between"
            onClick={() => setDateRange({ preset: 'WEEK' })}
          >
            –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è
            {dateRange.preset === 'WEEK' && <Check className="h-4 w-4" />}
          </Button>
          <Button
            variant="outline"
            className="w-full justify-between"
            onClick={() => setDateRange({ preset: 'MONTH' })}
          >
            –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
            {dateRange.preset === 'MONTH' && <Check className="h-4 w-4" />}
          </Button>
          <Button
            variant="outline"
            className="w-full justify-between"
            onClick={() => setDateRange({ preset: 'YEAR' })}
          >
            –ü–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥
            {dateRange.preset === 'YEAR' && <Check className="h-4 w-4" />}
          </Button>
          <Button
            variant="outline"
            className="w-full justify-between"
            onClick={() => setShowDatePicker(true)}
          >
            –í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—ã
            <Calendar className="h-4 w-4" />
          </Button>
        </div>
      </div>
    </div>
    
    <div className="flex gap-3">
      <Button
        variant="outline"
        className="flex-1"
        onClick={resetFilters}
      >
        –°–±—Ä–æ—Å–∏—Ç—å
      </Button>
      <Button
        className="flex-1"
        onClick={applyFilters}
      >
        –ü—Ä–∏–º–µ–Ω–∏—Ç—å
      </Button>
    </div>
  </SheetContent>
</Sheet>
```


***

## **üéÅ 4. PROMOS \& OFFERS**

### **üîü Promos Screen - –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–∫—Ü–∏–∏?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –∫–∞–∫–∏–µ –∞–∫—Ü–∏–∏ —Å–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–Ω—ã.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω –∞–∫—Ü–∏–π?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Tabs (–ê–∫—Ç–∏–≤–Ω—ã–µ | –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ) + Card grid —Å preview**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**UI Promos Screen:**

```tsx
<div className="min-h-screen bg-background pb-20">
  <header className="sticky top-0 z-10 bg-card border-b px-4 py-3">
    <h1 className="text-lg font-bold text-center">–ê–∫—Ü–∏–∏ –∏ –±–æ–Ω—É—Å—ã</h1>
  </header>
  
  <Tabs defaultValue="active" className="px-4 pt-4">
    <TabsList className="grid w-full grid-cols-2 mb-6">
      <TabsTrigger value="active">
        –ê–∫—Ç–∏–≤–Ω—ã–µ ({activePromos.length})
      </TabsTrigger>
      <TabsTrigger value="ended">
        –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ
      </TabsTrigger>
    </TabsList>
    
    <TabsContent value="active" className="space-y-4">
      {activePromos.map((promo) => (
        <Card 
          key={promo.id}
          className="cursor-pointer overflow-hidden"
          onClick={() => viewPromo(promo)}
        >
          {/* Background gradient */}
          <div 
            className="absolute inset-0 opacity-10"
            style={{ background: `linear-gradient(135deg, ${promo.color1}, ${promo.color2})` }}
          />
          
          <CardContent className="p-6 relative">
            <div className="flex items-start gap-4">
              {/* Emoji Icon */}
              <div className="text-5xl flex-shrink-0">
                {promo.emoji}
              </div>
              
              <div className="flex-1">
                {/* Title */}
                <h3 className="text-xl font-bold mb-2">{promo.name}</h3>
                
                {/* Description */}
                <p className="text-sm text-secondary mb-3 line-clamp-2">
                  {promo.description}
                </p>
                
                {/* Bonus Badge */}
                {promo.bonusType === 'BALLS' && (
                  <Badge className="mb-3">
                    <Gift className="mr-1 h-3 w-3" />
                    +{promo.bonusPoints} –±–∞–ª–ª–æ–≤
                  </Badge>
                )}
                
                {promo.bonusType === 'MULTIPLIER' && (
                  <Badge className="mb-3">
                    <Zap className="mr-1 h-3 w-3" />
                    √ó{promo.multiplier} –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é
                  </Badge>
                )}
                
                {/* Dates */}
                <div className="flex items-center gap-2 text-xs text-secondary">
                  <Calendar className="h-3 w-3" />
                  <span>
                    {format(new Date(promo.startDate), 'd MMM')} - {format(new Date(promo.endDate), 'd MMM')}
                  </span>
                </div>
                
                {/* Days left */}
                {daysUntilEnd(promo.endDate) <= 3 && (
                  <div className="mt-2">
                    <Badge variant="destructive" className="text-xs">
                      <Clock className="mr-1 h-3 w-3" />
                      –û—Å—Ç–∞–ª–æ—Å—å {daysUntilEnd(promo.endDate)} –¥–Ω.
                    </Badge>
                  </div>
                )}
              </div>
              
              <ChevronRight className="h-5 w-5 text-secondary flex-shrink-0" />
            </div>
          </CardContent>
        </Card>
      ))}
      
      {activePromos.length === 0 && (
        <div className="text-center py-12">
          <Gift className="h-16 w-16 mx-auto mb-4 text-secondary opacity-50" />
          <h3 className="font-semibold mb-2">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫—Ü–∏–π</h3>
          <p className="text-secondary text-sm">
            –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏, —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è!
          </p>
        </div>
      )}
    </TabsContent>
    
    <TabsContent value="ended" className="space-y-4">
      {endedPromos.map((promo) => (
        <Card key={promo.id} className="opacity-60">
          <CardContent className="p-4 flex items-center gap-3">
            <div className="text-3xl">{promo.emoji}</div>
            <div className="flex-1">
              <div className="font-semibold">{promo.name}</div>
              <div className="text-sm text-secondary">
                –ó–∞–≤–µ—Ä—à–µ–Ω–∞ {formatRelative(promo.endDate)}
              </div>
            </div>
          </CardContent>
        </Card>
      ))}
    </TabsContent>
  </Tabs>
</div>
```


***

### **1Ô∏è‚É£1Ô∏è‚É£ Promo Details - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∞–∫—Ü–∏—é?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å –∫–ª–∏–∫–Ω—É–ª –Ω–∞ –∞–∫—Ü–∏—é ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–∫–∞–∑–∞—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Full-page promo details —Å hero image, –æ–ø–∏—Å–∞–Ω–∏–µ–º, —É—Å–ª–æ–≤–∏—è–º–∏, CTA**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Promo Details Page:**

```tsx
<div className="min-h-screen bg-background">
  {/* Hero Section */}
  <div 
    className="h-48 relative"
    style={{ background: `linear-gradient(135deg, ${promo.color1}, ${promo.color2})` }}
  >
    <Button
      variant="ghost"
      size="icon"
      className="absolute top-4 left-4 bg-background/80"
      onClick={() => router.back()}
    >
      <ArrowLeft className="h-5 w-5" />
    </Button>
    
    <div className="absolute inset-0 flex items-center justify-center">
      <div className="text-center text-white">
        <div className="text-8xl mb-4">{promo.emoji}</div>
        <h1 className="text-3xl font-bold">{promo.name}</h1>
      </div>
    </div>
  </div>
  
  <div className="px-4 py-6 -mt-6 relative">
    <Card>
      <CardContent className="p-6 space-y-6">
        {/* Bonus Info */}
        <div className="text-center py-6 bg-primary/5 rounded-xl">
          {promo.bonusType === 'BALLS' && (
            <>
              <div className="text-sm text-secondary mb-2">–ë–æ–Ω—É—Å</div>
              <div className="text-5xl font-bold text-primary mb-2">
                +{promo.bonusPoints}
              </div>
              <div className="text-xl text-secondary">–±–∞–ª–ª–æ–≤</div>
            </>
          )}
          
          {promo.bonusType === 'MULTIPLIER' && (
            <>
              <div className="text-sm text-secondary mb-2">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</div>
              <div className="text-5xl font-bold text-primary mb-2">
                √ó{promo.multiplier}
              </div>
              <div className="text-xl text-secondary">–∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é</div>
            </>
          )}
        </div>
        
        {/* Description */}
        <div>
          <h3 className="font-semibold mb-2">–û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p className="text-secondary leading-relaxed">
            {promo.description}
          </p>
        </div>
        
        {/* Conditions */}
        {promo.conditions && (
          <div>
            <h3 className="font-semibold mb-3">–£—Å–ª–æ–≤–∏—è</h3>
            <ul className="space-y-2">
              {promo.conditions.map((condition, index) => (
                <li key={index} className="flex items-start gap-2">
                  <Check className="h-5 w-5 text-success flex-shrink-0 mt-0.5" />
                  <span className="text-sm text-secondary">{condition}</span>
                </li>
              ))}
            </ul>
          </div>
        )}
        
        <Separator />
        
        {/* Dates */}
        <div className="space-y-2">
          <div className="flex justify-between text-sm">
            <span className="text-secondary">–ù–∞—á–∞–ª–æ –∞–∫—Ü–∏–∏</span>
            <span className="font-medium">{formatDate(promo.startDate)}</span>
          </div>
          <div className="flex justify-between text-sm">
            <span className="text-secondary">–û–∫–æ–Ω—á–∞–Ω–∏–µ</span>
            <span className="font-medium">{formatDate(promo.endDate)}</span>
          </div>
        </div>
        
        {/* Progress (if applicable) */}
        {promo.requirementType === 'VISITS' && (
          <div>
            <div className="flex justify-between text-sm mb-2">
              <span className="text-secondary">–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
              <span className="font-medium">
                {promo.currentProgress} / {promo.requiredVisits} –≤–∏–∑–∏—Ç–æ–≤
              </span>
            </div>
            <Progress 
              value={(promo.currentProgress / promo.requiredVisits) * 100}
              className="h-2"
            />
          </div>
        )}
        
        {/* CTA Button */}
        {promo.status === 'ACTIVE' && (
          <Button size="lg" className="w-full">
            <Zap className="mr-2 h-5 w-5" />
            –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∞–∫—Ü–∏–∏
          </Button>
        )}
        
        {/* Share */}
        <Button 
          variant="outline" 
          size="lg" 
          className="w-full"
          onClick={() => sharePromo(promo)}
        >
          <Share2 className="mr-2 h-5 w-5" />
          –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏
        </Button>
      </CardContent>
    </Card>
  </div>
</div>
```

**Share Promo (Telegram Share):**

```typescript
function sharePromo(promo: Promo) {
  if (window.Telegram?.WebApp) {
    const text = `üéÅ –ê–∫—Ü–∏—è "${promo.name}"\n\n${promo.description}\n\n–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ:`;
    const url = `https://t.me/maxloyalty_bot/app?startapp=promo_${promo.id}`;
    
    window.Telegram.WebApp.openTelegramLink(
      `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`
    );
  }
}
```


***

### **1Ô∏è‚É£2Ô∏è‚É£ Push Notifications –¥–ª—è Promos - –∫–æ–≥–¥–∞ —É–≤–µ–¥–æ–º–ª—è—Ç—å –≥–æ—Å—Ç—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ù–æ–≤–∞—è –∞–∫—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –∏–ª–∏ –∞–∫—Ü–∏—è —Å–∫–æ—Ä–æ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è.

**–í–æ–ø—Ä–æ—Å:**
–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å push notifications?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: 3 —Ç—Ä–∏–≥–≥–µ—Ä–∞ (New promo | Ending soon | You qualified)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**1. New Promo Launch:**

```
üéÅ –ù–æ–≤–∞—è –∞–∫—Ü–∏—è "Birthday Bonus"!

–ü–æ–ª—É—á–∏—Ç–µ +500 –±–∞–ª–ª–æ–≤ –≤ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è üéÇ
–ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ 31 –º–∞—Ä—Ç–∞

[–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ]
```

**2. Promo Ending Soon (3 days before):**

```
‚è∞ –ê–∫—Ü–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 –¥–Ω—è!

"Weekend Double" - –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å √ó2 –±–∞–ª–ª—ã
–£—Å–ø–µ–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ 20 —Ñ–µ–≤—Ä–∞–ª—è

[–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å]
```

**3. You Qualified for Promo:**

```
üéâ –í—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —É—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–∏!

"5 –≤–∏–∑–∏—Ç–æ–≤" - –≤—ã –ø–æ—Å–µ—Ç–∏–ª–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω 5 —Ä–∞–∑
+1000 –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á—ë—Ç

[–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å]
```

**Telegram Bot Message:**

```typescript
async function sendPromoNotification(guest: Guest, promo: Promo, type: 'NEW' | 'ENDING' | 'QUALIFIED') {
  const bot = new TelegramBot(process.env.BOT_TOKEN);
  
  let message = '';
  let button_text = '';
  
  if (type === 'NEW') {
    message = `üéÅ –ù–æ–≤–∞—è –∞–∫—Ü–∏—è "${promo.name}"!\n\n${promo.description}\n\n–ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ ${formatDate(promo.endDate)}`;
    button_text = '–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ';
  } else if (type === 'ENDING') {
    message = `‚è∞ –ê–∫—Ü–∏—è "${promo.name}" –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 –¥–Ω—è!\n\n–£—Å–ø–µ–π—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ ${formatDate(promo.endDate)}`;
    button_text = '–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å';
  } else if (type === 'QUALIFIED') {
    message = `üéâ –í—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —É—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–∏ "${promo.name}"!\n\n+${promo.bonusPoints} –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á—ë—Ç`;
    button_text = '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–ª–∞–Ω—Å';
  }
  
  await bot.sendMessage(guest.telegram_id, message, {
    reply_markup: {
      inline_keyboard: [[
        {
          text: button_text,
          web_app: { url: `https://app.maxloyalty.com/mini-app?startapp=promo_${promo.id}` }
        }
      ]]
    }
  });
}
```


***

## **üë§ 5. PROFILE \& SETTINGS**

### **1Ô∏è‚É£3Ô∏è‚É£ Profile Screen - —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª–µ –≥–æ—Å—Ç—è?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å —Å–≤–æ—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –≤–∫–ª—é—á–∏—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Avatar + Personal Info + Children + Notification Settings + Support**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**UI Profile Screen:**

```tsx
<div className="min-h-screen bg-background pb-20">
  <header className="px-4 py-6 text-center">
    <Avatar className="h-24 w-24 mx-auto mb-4">
      <AvatarImage src={guest.avatar} />
      <AvatarFallback className="text-3xl">
        {getInitials(guest.firstName, guest.lastName)}
      </AvatarFallback>
    </Avatar>
    
    <h2 className="text-2xl font-bold mb-1">
      {guest.firstName} {guest.lastName}
    </h2>
    
    <div className="flex items-center justify-center gap-2 text-secondary">
      <Phone className="h-4 w-4" />
      <span>{formatPhone(guest.phone)}</span>
    </div>
    
    <Button 
      variant="outline" 
      size="sm" 
      className="mt-4"
      onClick={() => setShowEditProfile(true)}
    >
      <Edit className="mr-2 h-4 w-4" />
      –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    </Button>
  </header>
  
  <div className="px-4 space-y-3">
    {/* Personal Info */}
    <Card>
      <CardHeader>
        <CardTitle className="text-lg">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</CardTitle>
      </CardHeader>
      <CardContent className="space-y-3">
        <div className="flex justify-between">
          <span className="text-secondary">Email</span>
          <span className="font-medium">{guest.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}</span>
        </div>
        
        {guest.birthday && (
          <div className="flex justify-between">
            <span className="text-secondary">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</span>
            <span className="font-medium">{formatDate(guest.birthday)}</span>
          </div>
        )}
        
        <div className="flex justify-between">
          <span className="text-secondary">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</span>
          <span className="font-medium">{formatDate(guest.createdAt)}</span>
        </div>
      </CardContent>
    </Card>
    
    {/* Loyalty Stats */}
    <Card>
      <CardHeader>
        <CardTitle className="text-lg">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</CardTitle>
      </CardHeader>
      <CardContent className="space-y-3">
        <div className="flex justify-between">
          <span className="text-secondary">–í—Å–µ–≥–æ –≤–∏–∑–∏—Ç–æ–≤</span>
          <span className="text-xl font-bold">{guest.totalVisits}</span>
        </div>
        
        <div className="flex justify-between">
          <span className="text-secondary">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è</span>
          <span className="text-xl font-bold">{formatCurrency(guest.lifetimeSpent)}</span>
        </div>
        
        <div className="flex justify-between">
          <span className="text-secondary">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</span>
          <span className="text-xl font-bold">
            {formatCurrency(guest.lifetimeSpent / guest.totalVisits)}
          </span>
        </div>
        
        <div className="flex justify-between">
          <span className="text-secondary">–° –Ω–∞–º–∏ —Å</span>
          <span className="font-medium">
            {formatRelative(guest.createdAt)}
          </span>
        </div>
      </CardContent>
    </Card>
    
    {/* Children */}
    {guest.children && guest.children.length > 0 && (
      <Card>
        <CardHeader>
          <CardTitle className="text-lg">–î–µ—Ç–∏</CardTitle>
        </CardHeader>
        <CardContent className="space-y-2">
          {guest.children.map((child) => (
            <div key={child.id} className="flex items-center gap-3">
              <Baby className="h-5 w-5 text-secondary" />
              <div>
                <div className="font-medium">{child.name}</div>
                <div className="text-sm text-secondary">
                  {formatDate(child.birthday)} ({getAge(child.birthday)} –ª–µ—Ç)
                </div>
              </div>
            </div>
          ))}
        </CardContent>
      </Card>
    )}
    
    {/* Settings Links */}
    <div className="space-y-2">
      <Button
        variant="outline"
        className="w-full justify-between"
        onClick={() => router.push('/notifications')}
      >
        <div className="flex items-center gap-2">
          <Bell className="h-5 w-5" />
          <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        </div>
        <ChevronRight className="h-5 w-5" />
      </Button>
      
      <Button
        variant="outline"
        className="w-full justify-between"
        onClick={() => router.push('/referral')}
      >
        <div className="flex items-center gap-2">
          <Users className="h-5 w-5" />
          <span>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π</span>
        </div>
        <ChevronRight className="h-5 w-5" />
      </Button>
      
      <Button
        variant="outline"
        className="w-full justify-between"
        onClick={() => router.push('/help')}
      >
        <div className="flex items-center gap-2">
          <HelpCircle className="h-5 w-5" />
          <span>–ü–æ–º–æ—â—å –∏ FAQ</span>
        </div>
        <ChevronRight className="h-5 w-5" />
      </Button>
      
      <Button
        variant="outline"
        className="w-full justify-between"
        onClick={() => window.Telegram?.WebApp.openTelegramLink('https://t.me/maxloyalty_support')}
      >
        <div className="flex items-center gap-2">
          <MessageCircle className="h-5 w-5" />
          <span>–°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</span>
        </div>
        <ExternalLink className="h-5 w-5" />
      </Button>
    </div>
    
    {/* Danger Zone */}
    <Card className="border-destructive/50">
      <CardContent className="p-4">
        <Button
          variant="ghost"
          className="w-full text-destructive"
          onClick={() => setShowDeleteAccount(true)}
        >
          <Trash2 className="mr-2 h-5 w-5" />
          –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
        </Button>
      </CardContent>
    </Card>
  </div>
</div>
```


***

### **1Ô∏è‚É£4Ô∏è‚É£ Edit Profile - –∫–∞–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å —Ö–æ—á–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –ø–æ–ª—è –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Avatar + Name + Email + Birthday (Phone –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è)**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Editable Fields:**

- ‚úÖ Avatar (upload photo)
- ‚úÖ First Name, Last Name
- ‚úÖ Email
- ‚úÖ Birthday
- ‚ùå Phone (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å —Å–∞–º–æ–º—É - –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—É)

**Edit Profile Bottom Sheet:**

```tsx
<Sheet open={showEditProfile} onOpenChange={setShowEditProfile}>
  <SheetContent side="bottom" className="h-[90vh] overflow-auto">
    <SheetHeader>
      <SheetTitle>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</SheetTitle>
    </SheetHeader>
    
    <form onSubmit={handleUpdateProfile} className="py-6 space-y-6">
      {/* Avatar Upload */}
      <div className="flex flex-col items-center gap-3">
        <Avatar className="h-24 w-24">
          <AvatarImage src={previewAvatar || guest.avatar} />
          <AvatarFallback className="text-2xl">
            {getInitials(formData.firstName, formData.lastName)}
          </AvatarFallback>
        </Avatar>
        
        <Button
          type="button"
          variant="outline"
          size="sm"
          onClick={() => fileInputRef.current?.click()}
        >
          <Upload className="mr-2 h-4 w-4" />
          –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
        </Button>
        
        <input
          ref={fileInputRef}
          type="file"
          accept="image/*"
          className="hidden"
          onChange={handleAvatarUpload}
        />
      </div>
      
      {/* First Name */}
      <div>
        <Label htmlFor="firstName">–ò–º—è *</Label>
        <Input
          id="firstName"
          value={formData.firstName}
          onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}
          required
        />
      </div>
      
      {/* Last Name */}
      <div>
        <Label htmlFor="lastName">–§–∞–º–∏–ª–∏—è</Label>
        <Input
          id="lastName"
          value={formData.lastName}
          onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}
        />
      </div>
      
      {/* Email */}
      <div>
        <Label htmlFor="email">Email</Label>
        <Input
          id="email"
          type="email"
          value={formData.email}
          onChange={(e) => setFormData({ ...formData, email: e.target.value })}
        />
        <p className="text-xs text-secondary mt-1">
          –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–µ–∫–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        </p>
      </div>
      
      {/* Birthday */}
      <div>
        <Label htmlFor="birthday">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</Label>
        <Input
          id="birthday"
          type="date"
          value={formData.birthday}
          onChange={(e) => setFormData({ ...formData, birthday: e.target.value })}
        />
        <p className="text-xs text-secondary mt-1">
          –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è birthday bonus
        </p>
      </div>
      
      {/* Phone (disabled) */}
      <div>
        <Label htmlFor="phone">–¢–µ–ª–µ—Ñ–æ–Ω</Label>
        <Input
          id="phone"
          value={formatPhone(guest.phone)}
          disabled
          className="bg-muted"
        />
        <p className="text-xs text-secondary mt-1">
          –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
        </p>
      </div>
      
      <div className="flex gap-3 pt-4">
        <Button
          type="button"
          variant="outline"
          className="flex-1"
          onClick={() => setShowEditProfile(false)}
        >
          –û—Ç–º–µ–Ω–∞
        </Button>
        <Button type="submit" className="flex-1">
          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
        </Button>
      </div>
    </form>
  </SheetContent>
</Sheet>
```

**Avatar Upload (Telegram WebApp):**

```typescript
async function handleAvatarUpload(e: React.ChangeEvent<HTMLInputElement>) {
  const file = e.target.files?.[0];
  if (!file) return;
  
  // Show preview
  const reader = new FileReader();
  reader.onload = (e) => {
    setPreviewAvatar(e.target?.result as string);
  };
  reader.readAsDataURL(file);
  
  // Upload to backend
  const formData = new FormData();
  formData.append('avatar', file);
  
  try {
    const response = await api.guests.uploadAvatar(guest.id, formData);
    toast.success('–§–æ—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ');
  } catch (error) {
    toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ');
  }
}
```


***

### **1Ô∏è‚É£5Ô∏è‚É£ Notification Settings - –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ—Å—Ç—å?**

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ì–æ—Å—Ç—å —Ö–æ—á–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç—å.

**–í–æ–ø—Ä–æ—Å:**
–ö–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å?

**üéØ –ú–û–Å –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï: Toggle –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π + Quiet hours**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

**Notification Types:**

1. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** (earn/redeem –±–∞–ª–ª–æ–≤)
2. **–ù–æ–≤—ã–µ –∞–∫—Ü–∏–∏**
3. **–ê–∫—Ü–∏–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è**
4. **Birthday reminder** (–∑–∞ 3 –¥–Ω—è –¥–æ –î–†)
5. **Level up** (–ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è)
6. **Inactive reminder** (–¥–∞–≤–Ω–æ –Ω–µ –ø–æ—Å–µ—â–∞–ª–∏)

**UI Notification Settings:**

```tsx
<div className="min-h-screen bg-background pb-20">
  <header className="sticky top-0 z-10 bg-card border-b px-4 py-3 flex items-center gap-3">
    <Button variant="ghost" size="icon```

